var __ioc37={_textbox:"",_hdf:"",init:function(n,t){__ioc37._textbox=n;__ioc37._hdf=t;var i=$("#"+n).tautocomplete({width:"350px",columns:["ID","Họ tên","Mã khách hàng","Điện thoại","Email","Địa chỉ","FT"],hide:[!1,!0,!0,!0,!0,!0,!1],norecord:"Không tìm thấy.",highlight:"",theme:"white",delay:500,ajax:{url:__gvars.ajurl,type:"POST",data:function(){var n=i.searchdata();return{action:"json_customer",text:n}},success:function(n){var r,u,t;if(n!=null)return r=[],u=i.searchdata(),isNaN(u)?(t=eval("/"+u+"/gi"),$.each(n,function(n,i){(i.name.search(new RegExp(t))!=-1||i.c.search(new RegExp(t))!=-1||i.ft.search(new RegExp(t))!=-1)&&r.push(i)})):(t=u,$.each(n,function(n,i){(i.p.search(t)!=-1||i.c.search(t)!=-1)&&r.push(i)})),r}},onchange:function(){var n=i.id(),t=i.text();n>0&&__ioc37.changeValue(n,t)}}),r=$("#"+__ioc37._hdf).val();r>0&&__ioc37.changeValue(r,$("#"+__ioc37._textbox).val());$("#d_"+n).click(function(){var n=$(window).height(),t=$(this).attr("lnk"),i=$(this).attr("tok"),r;return t=t.replace("!@!",i),n=n*80/100,r=$("#__d_admin_edit"),r.length<1&&$("<div style='display:none !important;'><div id='__d_admin_edit' class='win_admin' style='width:500px;height:"+n+"px;'><\/div><\/div>").appendTo(document.body),__hideWindow("__d_admin_edit"),__showWindow("__d_admin_edit",function(){show_loading();$.post(__gvars.ajurl,{action:"getnewlatest",tok:i},function(n){if(n!=""){var t=n.split("<@>");__ioc37.changeValue(t[0],t[1])}hide_loading()})},null,function(){$("#__d_admin_edit").html("<iframe src='"+t+"' allowtransparency='true' frameborder='0' style='width:100%;height:100%'><\/iframe>")},!1),!1})},changeValue:function(n,t){$("#"+__ioc37._hdf).val(n);$("#"+__ioc37._textbox).val(t).next().next().val(t).attr("readonly","readonly").addClass("readonly");var i=$("#"+__ioc37._textbox).parent();i.append('<div class="reset_autoc"><\/div>');i.find(".reset_autoc").click(function(){$("#"+__ioc37._hdf).val("0");$("#"+__ioc37._textbox).val("").next().next().val("").attr("readonly",!1).removeClass("readonly");$(this).remove();$("#"+__ioc37._textbox).closest(".acontainer").children("input:last").focus()})}};