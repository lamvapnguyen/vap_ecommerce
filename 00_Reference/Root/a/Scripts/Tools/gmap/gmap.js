var _gmap={hfLat:"txtLat",hfLng:"txtLng",txt:"txtLatLng",vLat:10.773098470634809,vLng:106.67923092842102,map:null,markerArray:[],infoarray:[],geocoder:null,currentLocation:null,container:null,init:function(n,t,i,r,u,f){if(_gmap.hfLat=t,_gmap.hfLng=i,_gmap.txt=r,_gmap.vLat=u,_gmap.vLng=f,!_gmap.map){var e=new google.maps.LatLng(u,f);options={zoom:15,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:e};_gmap.container=document.getElementById(n);_gmap.container.innerHTML="";_gmap.geocoder=new google.maps.Geocoder;_gmap.map=new google.maps.Map(_gmap.container,options)}u==""&&f==""&&(u=_gmap.vLat,f=_gmap.vLng);_gmap.placeMarker(new google.maps.LatLng(u,f))},search:function(){_gmap.map||_gmap.init();var n=document.getElementById("gmap_txt_address").value;n&&n!=""&&_gmap.setAddressPoint(n,!0)},setAddressPoint:function(n,t){_gmap.geocoder.geocode({address:n.replace(/\n/g," ")},function(n,i){i==google.maps.GeocoderStatus.OK?_gmap.placeMarker(n[0].geometry.location):t&&(_gmap.map.setZoom(15),_gmap.placeMarker(new google.maps.LatLng(_gmap.vLat,_gmap.vLng)))})},placeMarker:function(n,t){_gmap.clearOverlays();var i=new google.maps.Marker({map:_gmap.map,draggable:!0,animation:google.maps.Animation.DROP,position:n});_gmap.ouputLatLng(n.lat(),n.lng());_gmap.markerArray.push(i);_gmap.map.setCenter(n,15);_gmap.clearAllInfo();google.maps.event.addListener(i,"dragend",function(){var n=i.getPosition();_gmap.ouputLatLng(n.lat(),n.lng())});t&&t!=""&&(_gmap.map.setZoom(14),_gmap.placeInfo(i,t))},placeInfo:function(n,t){var i=new google.maps.InfoWindow({content:t.replace(/\n/g,"<br/>"),maxWidth:150});_gmap.clearAllInfo();_gmap.infoarray.push(i);i.open(_gmap.map,n)},clearOverlays:function(){if(_gmap.markerArray){for(var n in _gmap.markerArray)_gmap.markerArray[n].setMap(null);_gmap.markerArray=[]}},clearAllInfo:function(){if(_gmap.infoarray){for(var n in _gmap.infoarray)_gmap.infoarray[n].close();_gmap.infoarray=[]}},ouputLatLng:function(n,t){document.getElementById(_gmap.hfLat).value=n;document.getElementById(_gmap.hfLng).value=t;$("#"+_gmap.txt).html(n+", "+t)},enterSearch:function(n){var t=0;return window.event?t=n.keyCode:n.which&&(t=n.which),t==13&&_gmap.search(),!1}};