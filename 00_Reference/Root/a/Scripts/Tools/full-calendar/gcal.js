(function(n){function e(t,e,o){var c=t.success,h=n.extend({},t.data||{},{"start-min":i(e,"u"),"start-max":i(o,"u"),singleevents:!0,"max-results":9999}),s=t.currentTimezone;return s&&(h.ctz=s=s.replace(" ","_")),n.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:h,startParam:!1,endParam:!1,success:function(t){var i=[],o,e;return(t.feed.entry&&n.each(t.feed.entry,function(t,f){var o=f.gd$when[0].startTime,l=r(o,!0),h=r(f.gd$when[0].endTime,!0),c=o.indexOf("T")==-1,e;n.each(f.link,function(n,t){t.type=="text/html"&&(e=t.href,s&&(e+=(e.indexOf("?")==-1?"?":"&")+"ctz="+s))});c&&u(h,-1);i.push({id:f.gCal$uid.value,title:f.title.$t,url:e,start:l,end:h,allDay:c,location:f.gd$where[0].valueString,description:f.content.$t})}),o=[i].concat(Array.prototype.slice.call(arguments,1)),e=f(c,this,o),n.isArray(e))?e:i}})}var t=n.fullCalendar,i=t.formatDate,r=t.parseISO8601,u=t.addDays,f=t.applyAll;t.sourceNormalizers.push(function(n){(n.dataType=="gcal"||n.dataType===undefined&&(n.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))&&(n.dataType="gcal",n.editable===undefined&&(n.editable=!1))});t.sourceFetchers.push(function(n,t,i){if(n.dataType=="gcal")return e(n,t,i)});t.gcalFeed=function(t,i){return n.extend({},i,{url:t,dataType:"gcal"})}})(jQuery);