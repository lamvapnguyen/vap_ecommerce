(function(n){var r=/^\s*|\s*$/g,i,u="B".replace(/A(.)|B/,"$1")==="$1",t={majorVersion:"3",minorVersion:"4.1",releaseDate:"2011-03-24",_init:function(){function l(n){return n.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(n.src)?(/_(src|dev)\.js/g.test(n.src)&&(t.suffix="_src"),(c=n.src.indexOf("?"))!=-1&&(t.query=n.src.substring(c+1)),t.baseURL=n.src.substring(0,n.src.lastIndexOf("/")),s&&t.baseURL.indexOf("://")==-1&&t.baseURL.indexOf("/")!==0&&(t.baseURL=s+t.baseURL),t.baseURL):null}var t=this,e=document,h=navigator,u=h.userAgent,i,r,o,s,c,f;if(t.isOpera=n.opera&&opera.buildNumber,t.isWebKit=/WebKit/.test(u),t.isIE=!t.isWebKit&&!t.isOpera&&/MSIE/gi.test(u)&&/Explorer/gi.test(h.appName),t.isIE6=t.isIE&&/MSIE [56]/.test(u),t.isGecko=!t.isWebKit&&/Gecko/.test(u),t.isMac=u.indexOf("Mac")!=-1,t.isAir=/adobeair/i.test(u),t.isIDevice=/(iPad|iPhone)/.test(u),n.tinyMCEPreInit){t.suffix=tinyMCEPreInit.suffix;t.baseURL=tinyMCEPreInit.base;t.query=tinyMCEPreInit.query;return}for(t.suffix="",r=e.getElementsByTagName("base"),i=0;i<r.length;i++)(f=r[i].href)&&(/^https?:\/\/[^\/]+$/.test(f)&&(f+="/"),s=f?f.match(/.*\//)[0]:"");for(r=e.getElementsByTagName("script"),i=0;i<r.length;i++)if(l(r[i]))return;if(o=e.getElementsByTagName("head")[0],o)for(r=o.getElementsByTagName("script"),i=0;i<r.length;i++)if(l(r[i]))return;return},is:function(n,t){return t?t=="array"&&n.hasOwnProperty&&n instanceof Array?!0:typeof n==t:n!==i},makeMap:function(n,t,i){var r;for(n=n||[],t=t||",",typeof n=="string"&&(n=n.split(t)),i=i||{},r=n.length;r--;)i[n[r]]={};return i},each:function(n,t,r){var u,f;if(!n)return 0;if(r=r||n,n.length!==i){for(u=0,f=n.length;u<f;u++)if(t.call(r,n[u],u,n)===!1)return 0}else for(u in n)if(n.hasOwnProperty(u)&&t.call(r,n[u],u,n)===!1)return 0;return 1},trim:function(n){return(n?""+n:"").replace(r,"")},create:function(n,t,i){var e=this,f,u,r,o,s,h=0;if(n=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(n),r=n[3].match(/(^|\.)(\w+)$/i)[2],u=e.createNS(n[3].replace(/\.\w+$/,""),i),!u[r]){if(n[2]=="static"){if(u[r]=t,this.onCreate)this.onCreate(n[2],n[3],u[r]);return}if(t[r]||(t[r]=function(){},h=1),u[r]=t[r],e.extend(u[r].prototype,t),n[5]&&(f=e.resolve(n[5]).prototype,o=n[5].match(/\.(\w+)$/i)[1],s=u[r],u[r]=h?function(){return f[o].apply(this,arguments)}:function(){return this.parent=f[o],s.apply(this,arguments)},u[r].prototype[r]=u[r],e.each(f,function(n,t){u[r].prototype[t]=f[t]}),e.each(t,function(n,t){f[t]?u[r].prototype[t]=function(){return this.parent=f[t],n.apply(this,arguments)}:t!=r&&(u[r].prototype[t]=n)})),e.each(t.static,function(n,t){u[r][t]=n}),this.onCreate)this.onCreate(n[2],n[3],u[r].prototype)}},walk:function(n,i,r,u){u=u||this;n&&(r&&(n=n[r]),t.each(n,function(n,f){if(i.call(u,n,f,r)===!1)return!1;t.walk(n,i,r,u)}))},createNS:function(t,i){var r,u;for(i=i||n,t=t.split("."),r=0;r<t.length;r++)u=t[r],i[u]||(i[u]={}),i=i[u];return i},resolve:function(t,i){var r,u;for(i=i||n,t=t.split("."),r=0,u=t.length;r<u;r++)if(i=i[t[r]],!i)break;return i},addUnload:function(t,i){var u=this;if(t={func:t,scope:i||this},u.unloads)u.unloads.push(t);else{function r(){var i=u.unloads,t,e;if(i){for(e in i)t=i[e],t&&t.func&&t.func.call(t.scope,1);n.detachEvent?(n.detachEvent("onbeforeunload",f),n.detachEvent("onunload",r)):n.removeEventListener&&n.removeEventListener("unload",r,!1);u.unloads=t=i=w=r=0;n.CollectGarbage&&CollectGarbage()}}function f(){var t=document;if(t.readyState=="interactive"){function i(){t.detachEvent("onstop",i);r&&r();t=0}t&&t.attachEvent("onstop",i);n.setTimeout(function(){t&&t.detachEvent("onstop",i)},0)}}n.attachEvent?(n.attachEvent("onunload",r),n.attachEvent("onbeforeunload",f)):n.addEventListener&&n.addEventListener("unload",r,!1);u.unloads=[t]}return t},removeUnload:function(n){var i=this.unloads,r=null;return t.each(i,function(t,u){if(t&&t.func==n)return i.splice(u,1),r=n,!1}),r},explode:function(n,i){return n?t.map(n.split(i||","),t.trim):n},_addVer:function(n){var t;return this.query?(t=(n.indexOf("?")==-1?"?":"&")+this.query,n.indexOf("#")==-1)?n+t:n.replace("#",t+"#"):n},_replace:function(n,t,r){return u?r.replace(n,function(){for(var r=t,u=arguments,n=0;n<u.length-2;n++)r=u[n]===i?r.replace(new RegExp("\\$"+n,"g"),""):r.replace(new RegExp("\\$"+n,"g"),u[n]);return r}):r.replace(n,t)}};t._init();n.tinymce=n.tinyMCE=t})(window),function(n,t){var f=t.is,r=/^(href|src|style)$/i,u,i;if(!n)return alert("Load jQuery first!");t.$=n;t.adapter={patchEditor:function(t){function e(n,t){var r=this;return t&&r.removeAttr("data-mce-style"),i.css.apply(r,arguments)}function s(n,f){var e=this;return r.test(n)?f!==u?(e.each(function(i,r){t.dom.setAttrib(r,n,f)}),e):e.attr("data-mce-"+n):i.attr.apply(e,arguments)}function f(n){return function(i){return i&&(i=t.dom.processHTML(i)),n.call(this,i)}}function o(n){return n.css!==e&&(n.css=e,n.attr=s,n.html=f(i.html),n.append=f(i.append),n.prepend=f(i.prepend),n.after=f(i.after),n.before=f(i.before),n.replaceWith=f(i.replaceWith),n.tinymce=t,n.pushStack=function(){return o(i.pushStack.apply(this,arguments))}),n}var i=n.fn;t.$=function(i,r){var u=t.getDoc();return o(n(i||u,u||r))}}};t.extend=n.extend;t.extend(t,{map:n.map,grep:function(t,i){return n.grep(t,i||function(){return 1})},inArray:function(t,i){return n.inArray(i,t||[])}});i={"tinymce.dom.DOMUtils":{select:function(t,i){var r=this;return n.find(t,r.get(i)||r.get(r.settings.root_element)||r.doc,[])},is:function(t,i){return n(this.get(t)).is(i)}}};t.onCreate=function(n,r,u){t.extend(u,i[r])}}(window.jQuery,tinymce);tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(n){this.scope=n||this;this.listeners=[]},add:function(n,t){return this.listeners.push({cb:n,scope:t||this.scope}),n},addToTop:function(n,t){return this.listeners.unshift({cb:n,scope:t||this.scope}),n},remove:function(n){var t=this.listeners,i=null;return tinymce.each(t,function(r,u){if(n==r.cb)return i=n,t.splice(u,1),!1}),i},dispatch:function(){for(var t,u=arguments,r=this.listeners,i,n=0;n<r.length;n++)if(i=r[n],t=i.cb.apply(i.scope,u),t===!1)break;return t}}),function(){var n=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,i){var r=this,u;if(t=tinymce.trim(t),i=r.settings=i||{},/^(mailto|tel|news|javascript|about|data):/i.test(t)||/^\s*#/.test(t)){r.source=t;return}t.indexOf("/")===0&&t.indexOf("//")!==0&&(t=(i.base_uri?i.base_uri.protocol||"http":"http")+"://mce_host"+t);/^\w*:?\/\//.test(t)||(t=(i.base_uri.protocol||"http")+"://mce_host"+r.toAbsPath(i.base_uri.path,t));t=t.replace(/@@/g,"(mce_at)");t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);n(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(n,i){var u=t[i];u&&(u=u.replace(/\(mce_at\)/g,"@@"));r[n]=u});(u=i.base_uri)&&(r.protocol||(r.protocol=u.protocol),r.userInfo||(r.userInfo=u.userInfo),r.port||r.host!="mce_host"||(r.port=u.port),r.host&&r.host!="mce_host"||(r.host=u.host),r.source="")},setPath:function(n){var t=this;n=/^(.*?)\/?(\w+)?$/.exec(n);t.path=n[0];t.directory=n[1];t.file=n[2];t.source="";t.getURI()},toRelative:function(n){var t=this,i;return n==="./"?n:(n=new tinymce.util.URI(n,{base_uri:t}),n.host!="mce_host"&&t.host!=n.host&&n.host||t.port!=n.port||t.protocol!=n.protocol)?n.getURI():(i=t.toRelPath(t.path,n.path),n.query&&(i+="?"+n.query),n.anchor&&(i+="#"+n.anchor),i)},toAbsolute:function(n,t){var n=new tinymce.util.URI(n,{base_uri:this});return n.getURI(this.host==n.host&&this.protocol==n.protocol?t:0)},toRelPath:function(n,t){var r,f=0,e="",i,u;if(n=n.substring(0,n.lastIndexOf("/")),n=n.split("/"),r=t.split("/"),n.length>=r.length)for(i=0,u=n.length;i<u;i++)if(i>=r.length||n[i]!=r[i]){f=i+1;break}if(n.length<r.length)for(i=0,u=r.length;i<u;i++)if(i>=n.length||n[i]!=r[i]){f=i+1;break}if(f==1)return t;for(i=0,u=n.length-(f-1);i<u;i++)e+="../";for(i=f-1,u=r.length;i<u;i++)e+=i!=f-1?"/"+r[i]:r[i];return e},toAbsPath:function(t,i){var r,e=0,f=[],o,u;for(o=/\/$/.test(i)?"/":"",t=t.split("/"),i=i.split("/"),n(t,function(n){n&&f.push(n)}),t=f,r=i.length-1,f=[];r>=0;r--)if(i[r].length!=0&&i[r]!="."){if(i[r]==".."){e++;continue}if(e>0){e--;continue}f.push(i[r])}return r=t.length-e,u=r<=0?f.reverse().join("/"):t.slice(0,r).join("/")+"/"+f.reverse().join("/"),u.indexOf("/")!==0&&(u="/"+u),o&&u.lastIndexOf("/")!==u.length-1&&(u+=o),u},getURI:function(n){var i,t=this;return(!t.source||n)&&(i="",n||(t.protocol&&(i+=t.protocol+"://"),t.userInfo&&(i+=t.userInfo+"@"),t.host&&(i+=t.host),t.port&&(i+=":"+t.port)),t.path&&(i+=t.path),t.query&&(i+="?"+t.query),t.anchor&&(i+="#"+t.anchor),t.source=i),t.source}})}(),function(){var n=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var r=this.get(t),i;return r&&n(r.split("&"),function(n){n=n.split("=");i=i||{};i[unescape(n[0])]=unescape(n[1])}),i},setHash:function(t,i,r,u,f,e){var o="";n(i,function(n,t){o+=(o?"&":"")+escape(t)+"="+escape(n)});this.set(t,o,r,u,f,e)},get:function(n){var i=document.cookie,r,u=n+"=",t;if(i){if(t=i.indexOf("; "+u),t==-1){if(t=i.indexOf(u),t!=0)return null}else t+=2;return r=i.indexOf(";",t),r==-1&&(r=i.length),unescape(i.substring(t+u.length,r))}},set:function(n,t,i,r,u,f){document.cookie=n+"="+escape(t)+(i?"; expires="+i.toGMTString():"")+(r?"; path="+escape(r):"")+(u?"; domain="+u:"")+(f?"; secure":"")},remove:function(n,t){var i=new Date;i.setTime(i.getTime()-1e3);this.set(n,"",i,t,i)}})}(),function(){function n(t,i){var r,u,f;if(i=i||'"',t==null)return"null";if(f=typeof t,f=="string")return u="\bb\tt\nn\ff\rr\"\"''\\\\",i+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(n,t){return i==='"'&&n==="'"?n:(r=u.indexOf(t),r+1)?"\\"+u.charAt(r+1):(n=t.charCodeAt().toString(16),"\\u"+"0000".substring(n.length)+n)})+i;if(f=="object"){if(t.hasOwnProperty&&t instanceof Array){for(r=0,u="[";r<t.length;r++)u+=(r>0?",":"")+n(t[r],i);return u+"]"}u="{";for(r in t)u+=typeof t[r]!="function"?(u.length>1?","+i:i)+r+i+":"+n(t[r],i):"";return u+"}"}return""+t}tinymce.util.JSON={serialize:n,parse:function(n){try{return eval("("+n+")")}catch(t){}}}}();tinymce.create("static tinymce.util.XHR",{send:function(n){function f(n){t=0;try{t=new ActiveXObject(n)}catch(i){}return t}var t,e,i=window,r=0;if(n.scope=n.scope||this,n.success_scope=n.success_scope||n.scope,n.error_scope=n.error_scope||n.scope,n.async=n.async===!1?!1:!0,n.data=n.data||"",t=i.XMLHttpRequest?new XMLHttpRequest:f("Microsoft.XMLHTTP")||f("Msxml2.XMLHTTP"),t){t.overrideMimeType&&t.overrideMimeType(n.content_type);t.open(n.type||(n.data?"POST":"GET"),n.url,n.async);n.content_type&&t.setRequestHeader("Content-Type",n.content_type);t.setRequestHeader("X-Requested-With","XMLHttpRequest");t.send(n.data);function u(){!n.async||t.readyState==4||r++>1e4?(n.success&&r<1e4&&t.status==200?n.success.call(n.success_scope,""+t.responseText,t,n):n.error&&n.error.call(n.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,n),t=null):i.setTimeout(u,10)}if(!n.async)return u();e=i.setTimeout(u,10)}}}),function(){var n=tinymce.extend,t=tinymce.util.JSON,i=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=n({},t);this.count=0},send:function(r){var u=r.error,f=r.success;r=n(this.settings,r);r.success=function(n,i){n=t.parse(n);typeof n=="undefined"&&(n={error:"JSON Parse error."});n.error?u.call(r.error_scope||r.scope,n.error,i):f.call(r.success_scope||r.scope,n.result)};r.error=function(n,t){u&&u.call(r.error_scope||r.scope,n,t)};r.data=t.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params});r.content_type="application/json";i.send(r)},static:{sendRPC:function(n){return(new tinymce.util.JSONRequest).send(n)}}})}(),function(n){function c(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.textContent||t.innerText||n}function e(n,i){var r,u,f,e={};if(n){for(n=n.split(","),i=i||10,r=0;r<n.length;r+=2)u=String.fromCharCode(parseInt(n[r],i)),t[u]||(f="&"+n[r+1]+";",e[u]=f,e[f]=u);return e}}var i,t,f,r=/[&\"\u007E-\uD7FF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\u007E-\uD7FF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[<>&\"\']/g,s=/&(#)?([\w]+);/g,h={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};t={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"};f={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};i=e("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);n.html=n.html||{};n.html.Entities={encodeRaw:function(n,i){return n.replace(i?r:u,function(n){return t[n]||n})},encodeAllRaw:function(n){return(""+n).replace(o,function(n){return t[n]||n})},encodeNumeric:function(n,i){return n.replace(i?r:u,function(n){return n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":t[n]||"&#"+n.charCodeAt(0)+";"})},encodeNamed:function(n,f,e){return e=e||i,n.replace(f?r:u,function(n){return t[n]||e[n]||n})},getEncodeFunc:function(f,o){function h(n,i){return n.replace(i?r:u,function(n){return t[n]||o[n]||"&#"+n.charCodeAt(0)+";"||n})}function c(n,t){return s.encodeNamed(n,t,o)}var s=n.html.Entities;return(o=e(o)||i,f=n.makeMap(f.replace(/\+/g,",")),f.named&&f.numeric)?h:f.named?o?c:s.encodeNamed:f.numeric?s.encodeNumeric:s.encodeRaw},decode:function(n){return n.replace(s,function(n,t,r){return t?(r=parseInt(r),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))):h[r]||String.fromCharCode(r)):f[n]||i[n]||c(n)})}}}(tinymce);tinymce.html.Styles=function(n,t){function h(n,t,i,r){function u(n){return n=parseInt(n).toString(16),n.length>1?n:"0"+n}return"#"+u(t)+u(i)+u(r)}var f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,e=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,s,i,r={},u;for(n=n||{},u="\\\" \\' \\; \\: ; : _".split(" "),i=0;i<u.length;i++)r[u[i]]="_"+i,r["_"+i]=u[i];return{toHex:function(n){return n.replace(f,h)},parse:function(t){function l(n,t){var r,u,f,e;(r=i[n+"-top"+t],r)&&(u=i[n+"-right"+t],r==u)&&(f=i[n+"-bottom"+t],u==f)&&(e=i[n+"-left"+t],f==e)&&(i[n+t]=e,delete i[n+"-top"+t],delete i[n+"-right"+t],delete i[n+"-bottom"+t],delete i[n+"-left"+t])}function y(n){var t=i[n],r;if(t&&!(t.indexOf(" ")<0)){for(t=t.split(" "),r=t.length;r--;)if(t[r]!==t[0])return!1;return i[n]=t[0],!0}}function d(n,t,r,u){y(t)&&y(r)&&y(u)&&(i[n]=i[t]+" "+i[r]+" "+i[u],delete i[t],delete i[r],delete i[u])}function b(n){return v=!0,r[n]}function p(n,t){return v&&(n=n.replace(/_[0-9]/g,function(n){return r[n]})),t||(n=n.replace(/\\([\'\";:])/g,"$1")),n}var i={},a,s,u,v,w=n.url_converter,k=n.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:_]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(n){return n.replace(/[;:]/g,b)});a=e.exec(t);)s=a[1].replace(o,"").toLowerCase(),u=a[2].replace(o,""),s&&u.length>0&&(s==="font-weight"&&u==="700"?u="bold":(s==="color"||s==="background-color")&&(u=u.toLowerCase()),u=u.replace(f,h),u=u.replace(c,function(n,t,i,r,u,f){return(u=u||f,u)?(u=p(u),"'"+u.replace(/\'/g,"\\'")+"'"):(t=p(t||i||r),w&&(t=w.call(k,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}),i[s]=v?p(u,!0):u),e.lastIndex=a.index+a[0].length;l("border","");l("border","-width");l("border","-color");l("border","-style");l("padding","");l("margin","");d("border","border-width","border-style","border-color");i.border==="medium none"&&delete i.border}return i},serialize:function(n,i){function e(i){var u,f,o,i,e;if(u=t.styles[i],u)for(f=0,o=u.length;f<o;f++)i=u[f],e=n[i],e!==s&&(r+=(r.length>0?" ":"")+i+": "+e+";")}var r="",u,f;if(i&&t&&t.styles)e("*"),e(u);else for(u in n)f=n[u],f!==s&&(r+=(r.length>0?" ":"")+u+": "+f+";");return r}}},function(n){function r(n,t){return n.split(t||",")}function l(n,i){function f(t){return t.replace(/[A-Z]+/g,function(t){return f(n[t])})}var u,e={};for(u in n)n.hasOwnProperty(u)&&(n[u]=f(n[u]));return f(i).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(n,i,u,f){u=r(u,"|");e[i]={attributes:t(u),attributesOrder:u,children:t(f,"|",{"#comment":{}})}}),e}var f={},e,u,o,s,h,c,t=n.makeMap,i=n.each;u="h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup";u=t(u,",",t(u.toUpperCase()));f=l({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]");e=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,preload,autoplay,loop,controls");o=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source");s=n.extend(t("td,th,iframe,video,object"),o);h=t("pre,script,style");c=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");n.html.Schema=function(l){function d(n){return new RegExp("^"+n.replace(/([?+*])/g,".$1")+"$")}function b(i){var b,rt,k,ut,f,u,o,l,a,e,g,c,s,h,nt,y,tt,it,w,ft=/[*?+]/;if(i)for(i=r(i),v["@"]&&(y=v["@"].attributes,tt=v["@"].attributesOrder),b=0,rt=i.length;b<rt;b++)if(f=/^([#+-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/.exec(i[b]),f){if(h=f[1],a=f[2],nt=f[3],l=f[4],c={},s=[],u={attributes:c,attributesOrder:s},h==="#"&&(u.paddEmpty=!0),h==="-"&&(u.removeEmpty=!0),y){for(it in y)c[it]=y[it];s.push.apply(s,tt)}if(l)for(l=r(l,"|"),k=0,ut=l.length;k<ut;k++)if(f=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/.exec(l[k]),f){if(o={},g=f[1],e=f[2].replace(/::/g,":"),h=f[3],w=f[4],g==="!"&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(e),o.required=!0),g==="-"){delete c[e];s.splice(n.inArray(s,e),1);continue}h&&(h==="="&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:e,value:w}),o.defaultValue=w),h===":"&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:e,value:w}),o.forcedValue=w),h==="<"&&(o.validValues=t(w,"?")));ft.test(e)?(u.attributePatterns=u.attributePatterns||[],o.pattern=d(e),u.attributePatterns.push(o)):(c[e]||s.push(e),c[e]=o)}y||a!="@"||(y=c,tt=s);nt&&(u.outputName=a,v[nt]=u);ft.test(a)?(u.pattern=d(a),p.push(u)):v[a]=u}}function g(n){v={};p=[];b(n);i(f,function(n,t){y[t]=n.children})}function nt(n){var t=/^(~)?(.+)$/;n&&i(r(n),function(n){var u=t.exec(n),r=u[1]==="~"?"span":"div",f=u[2];y[f]=y[r];i(y,function(n){n[r]&&(n[f]=n[r])})})}function k(n){var t=/^([+\-]?)(\w+)\[([^\]]+)\]$/;n&&i(r(n),function(n){var u=t.exec(n),f,e;u&&(e=u[1],f=e?y[u[2]]:y[u[2]]={"#comment":{}},f=y[u[2]],i(r(u[3],"|"),function(n){e==="-"?delete f[n]:f[n]={}}))})}var a=this,v={},y={},p=[],w;l=l||{};l.verify_html===!1&&(l.valid_elements="*[*]");l.valid_styles&&(w={},i(l.valid_styles,function(t,i){w[i]=n.explode(t)}));l.valid_elements?g(l.valid_elements):(i(f,function(n,t){v[t]={attributes:n.attributes,attributesOrder:n.attributesOrder};y[t]=n.children}),i(r("strong/b,em/i"),function(n){n=r(n,"/");v[n[1]].outputName=n[0]}),v.img.attributesDefault=[{name:"alt",value:""}],i(r("ol,ul,li,sub,sup,blockquote,tr,div,span,font,a,table,tbody"),function(n){v[n].removeEmpty=!0}),i(r("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(n){v[n].paddEmpty=!0}));nt(l.custom_elements);k(l.valid_children);b(l.extended_valid_elements);k("+ol[ul|ol],+ul[ul|ol]");l.invalid_elements&&n.each(n.explode(l.invalid_elements),function(n){v[n]&&delete v[n]});a.children=y;a.styles=w;a.getBoolAttrs=function(){return e};a.getBlockElements=function(){return u};a.getShortEndedElements=function(){return o};a.getSelfClosingElements=function(){return c};a.getNonEmptyElements=function(){return s};a.getWhiteSpaceElements=function(){return h};a.isValidChild=function(n,t){var i=y[n];return!!(i&&i[t])};a.getElementRule=function(n){var t=v[n],i;if(t)return t;for(i=p.length;i--;)if(t=p[i],t.pattern.test(n))return t};a.addValidElements=b;a.setValidElements=g;a.addCustomElements=nt;a.addValidChildren=k};n.html.Schema.boolAttrMap=e;n.html.Schema.blockElementsMap=u}(tinymce),function(n){n.html.SaxParser=function(t,i){var r=this,u=function(){};t=t||{};r.schema=i=i||new n.html.Schema;t.fix_self_closing!==!1&&(t.fix_self_closing=!0);n.each("comment cdata text start end pi doctype".split(" "),function(n){n&&(r[n]=t[n]||u)});r.parse=function(r){function yt(n){for(var i,t=c.length;t--;)if(c[t].name===n)break;if(t>=0){for(i=c.length-1;i>=t;i--)n=c[i],n.valid&&h.end(n.name);c.length=t}}var h=this,f,s=0,u,it,c=[],e,o,k,v,et,ot,rt,w,y,l,p,b,st,d,g,nt,tt,ht,ut,ct,lt,a,at=0,ft=n.html.Entities.decode,vt;for(ut=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([^\\s\\/<>]+)\\s*((?:[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*)>))","g"),ct=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g,lt={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},et=i.getShortEndedElements(),ht=i.getSelfClosingElements(),ot=i.getBoolAttrs(),w=t.validate,vt=t.fix_self_closing;f=ut.exec(r);){if(s<f.index&&h.text(ft(r.substr(s,f.index-s))),u=f[6])yt(u.toLowerCase());else if(u=f[7]){if(u=u.toLowerCase(),rt=u in et,vt&&ht[u]&&c.length>0&&c[c.length-1].name===u&&yt(u),!w||(y=i.getElementRule(u))){if(l=!0,w&&(st=y.attributes,d=y.attributePatterns),(b=f[8])?(e=[],e.map={},b.replace(ct,function(n,t,i,r,u){var f,o;if(t=t.toLowerCase(),i=t in ot?t:ft(i||r||u||""),w&&t.indexOf("data-")!==0){if(f=st[t],!f&&d){for(o=d.length;o--;)if(f=d[o],f.pattern.test(t))break;o===-1&&(f=null)}if(!f)return;if(f.validValues&&!(i in f.validValues))return}e.map[t]=i;e.push({name:t,value:i})})):(e=[],e.map={}),w){if(g=y.attributesRequired,nt=y.attributesDefault,tt=y.attributesForced,tt)for(o=tt.length;o--;)p=tt[o],v=p.name,a=p.value,a==="{$uid}"&&(a="mce_"+at++),e.map[v]=a,e.push({name:v,value:a});if(nt)for(o=nt.length;o--;)p=nt[o],v=p.name,v in e.map||(a=p.value,a==="{$uid}"&&(a="mce_"+at++),e.map[v]=a,e.push({name:v,value:a}));if(g){for(o=g.length;o--;)if(g[o]in e.map)break;o===-1&&(l=!1)}e.map["data-mce-bogus"]&&(l=!1)}l&&h.start(u,e,rt)}else l=!1;if(it=lt[u]){it.lastIndex=s=f.index+f[0].length;(f=it.exec(r))?(l&&(k=r.substr(s,f.index-s)),s=f.index+f[0].length):(k=r.substr(s),s=r.length);l&&k.length>0&&h.text(k,!0);l&&h.end(u);ut.lastIndex=s;continue}rt||(b&&b.indexOf("/")==b.length-1?l&&h.end(u):c.push({name:u,valid:l}))}else(u=f[1])?h.comment(u):(u=f[2])?h.cdata(u):(u=f[3])?h.doctype(u):(u=f[4])&&h.pi(u,f[5]);s=f.index+f[0].length}for(s<r.length&&h.text(ft(r.substr(s))),o=c.length-1;o>=0;o--)u=c[o],u.valid&&h.end(u.name)}}}(tinymce),function(n){function i(n,t,i){var r,u,f=i?"lastChild":"firstChild",e=i?"prev":"next";if(n[f])return n[f];if(n!==t){if(r=n[e],r)return r;for(u=n.parent;u&&u!==t;u=u.parent)if(r=u[e],r)return r}}function t(n,t){this.name=n;this.type=t;t===1&&(this.attributes=[],this.attributes.map={})}var r=/^[ \t\r\n]*$/,u={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};n.extend(t.prototype,{replace:function(n){var t=this;return n.parent&&n.remove(),t.insert(n,t),t.remove(),t},attr:function(n,t){var u=this,i,r,f;if(typeof n!="string"){for(r in n)u.attr(r,n[r]);return u}if(i=u.attributes){if(t!==f){if(t===null){if(n in i.map)for(delete i.map[n],r=i.length;r--;)if(i[r].name===n)return i=i.splice(r,1),u;return u}if(n in i.map){for(r=i.length;r--;)if(i[r].name===n){i[r].value=t;break}}else i.push({name:n,value:t});return i.map[n]=t,u}return i.map[n]}},clone:function(){var r=this,u=new t(r.name,r.type),f,o,e,n,i;if(e=r.attributes){for(i=[],i.map={},f=0,o=e.length;f<o;f++)n=e[f],n.name!=="id"&&(i[i.length]={name:n.name,value:n.value},i.map[n.name]=n.value);u.attributes=i}return u.value=r.value,u.shortEnded=r.shortEnded,u},wrap:function(n){var t=this;return t.parent.insert(n,t),n.append(t),t},unwrap:function(){for(var t=this,i,n=t.firstChild;n;)i=n.next,t.insert(n,t,!0),n=i;t.remove()},remove:function(){var n=this,t=n.parent,i=n.next,r=n.prev;return t&&(t.firstChild===n?(t.firstChild=i,i&&(i.prev=null)):r.next=i,t.lastChild===n?(t.lastChild=r,r&&(r.next=null)):i.prev=r,n.parent=n.next=n.prev=null),n},append:function(n){var t=this,i;return n.parent&&n.remove(),i=t.lastChild,i?(i.next=n,n.prev=i,t.lastChild=n):t.lastChild=t.firstChild=n,n.parent=t,n},insert:function(n,t,i){var r;return n.parent&&n.remove(),r=t.parent||this,i?(t===r.firstChild?r.firstChild=n:t.prev.next=n,n.prev=t.prev,n.next=t,t.prev=n):(t===r.lastChild?r.lastChild=n:t.next.prev=n,n.next=t.next,n.prev=t,t.next=n),n.parent=r,n},getAll:function(n){for(var r=this,u=[],t=r.firstChild;t;t=i(t,r))t.name===n&&u.push(t);return u},empty:function(){var t=this,r,u,n;if(t.firstChild){for(r=[],n=t.firstChild;n;n=i(n,t))r.push(n);for(u=r.length;u--;)n=r[u],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return t.firstChild=t.lastChild=null,t},isEmpty:function(n){var f=this,t=f.firstChild,u;if(t)do{if(t.type===1){if(t.attributes.map["data-mce-bogus"])continue;if(n[t.name])return!1;for(u=t.attributes.length;u--;)if(t.attributes[u].name.indexOf("data-")===0)return!1}if(t.type===3&&!r.test(t.value))return!1}while(t=i(t,f));return!0}});n.extend(t,{create:function(n,i){var r,f;if(r=new t(n,u[n]||1),i)for(f in i)r.attr(f,i[f]);return r}});n.html.Node=t}(tinymce),function(n){var t=n.html.Node;n.html.DomParser=function(i,r){function h(i){var v,f,e,o,y,l,a,c,h,p,w,s,b;for(w=n.makeMap("tr,td,th,tbody,thead,tfoot,table"),p=r.getNonEmptyElements(),v=0;v<i.length;v++)if(f=i[v],f.parent){for(o=[f],e=f.parent;e&&!r.isValidChild(e.name,f.name)&&!w[e.name];e=e.parent)o.push(e);if(e&&o.length>1){for(o.reverse(),y=l=u.filterNode(o[0].clone()),h=0;h<o.length-1;h++){for(r.isValidChild(l.name,o[h].name)?(a=u.filterNode(o[h].clone()),l.append(a)):a=l,c=o[h].firstChild;c&&c!=o[h+1];)b=c.next,a.append(c),c=b;l=a}y.isEmpty(p)?e.insert(f,o[0],!0):(e.insert(y,o[0],!0),e.insert(f,y));e=o[0];(e.isEmpty(p)||e.firstChild===e.lastChild&&e.firstChild.name==="br")&&e.empty().remove()}else if(f.parent){if(f.name==="li"){if(s=f.prev,s&&(s.name==="ul"||s.name==="ul")){s.append(f);continue}if(s=f.next,s&&(s.name==="ul"||s.name==="ul")){s.insert(f,s.firstChild,!0);continue}f.wrap(u.filterNode(new t("ul",1)));continue}r.isValidChild(f.parent.name,"div")&&r.isValidChild("div",f.name)?f.wrap(u.filterNode(new t("div",1))):f.name==="style"||f.name==="script"?f.empty().remove():f.unwrap()}}}var u=this,s={},f=[],e={},o={};i=i||{};i.root_name=i.root_name||"body";u.schema=r=r||new n.html.Schema;u.filterNode=function(n){var r,t,i;for((t in s)&&(i=e[t],i?i.push(n):e[t]=[n]),r=f.length;r--;)t=f[r].name,t in n.attributes.map&&(i=o[t],i?i.push(n):o[t]=[n]);return n};u.addNodeFilter=function(t,i){n.each(n.explode(t),function(n){var t=s[n];t||(s[n]=t=[]);t.push(i)})};u.addAttributeFilter=function(t,i){n.each(n.explode(t),function(n){for(var t=0;t<f.length;t++)if(f[t].name===n){f[t].callbacks.push(i);return}f.push({name:n,callbacks:[i]})})};u.parse=function(u,c){function w(n,i){var r=new t(n,i),u;return n in s&&(u=e[n],u?u.push(r):e[n]=[r]),r}var rt,ut,l,y,p,b,a,ft,v,k,d,g,et=[],nt,ot,tt,it,st;c=c||{};e={};o={};d=n.extend(n.makeMap("script,style,head,title,meta,param"),r.getBlockElements());st=r.getNonEmptyElements();it=r.children;tt=r.getWhiteSpaceElements();g=/^[ \t\r\n]+/;nt=/[ \t\r\n]+$/;ot=/[ \t\r\n]+/g;rt=new n.html.SaxParser({validate:i.validate,fix_self_closing:!1,cdata:function(n){l.append(w("#cdata",4)).value=n},text:function(n,t){var i;tt[l.name]||(n=n.replace(ot," "),l.lastChild&&d[l.lastChild.name]&&(n=n.replace(g,"")));n.length!==0&&(i=w("#text",3),i.raw=!!t,l.append(i).value=n)},comment:function(n){l.append(w("#comment",8)).value=n},pi:function(n,t){l.append(w(n,7)).value=t},doctype:function(n){l.append(w("#doctype",10)).value=n},start:function(n,t,i){var u,h,c,e,s,a,p,y;if(c=r.getElementRule(n),c){for(u=w(c.outputName||n,1),u.attributes=t,u.shortEnded=i,l.append(u),y=it[l.name],y&&it[u.name]&&!y[u.name]&&et.push(u),h=f.length;h--;)s=f[h].name,s in t.map&&(v=o[s],v?v.push(u):o[s]=[u]);if(d[n])for(e=u.prev;e&&e.type===3;)a=e.value.replace(nt,""),a.length>0?(e.value=a,e=e.prev):(p=e.prev,e.remove(),e=p);i||(l=u)}},end:function(n){var i,f,u,e,o;if(f=r.getElementRule(n),f){if(d[n]){if(!tt[l.name]){for(i=l.firstChild;i&&i.type===3;)u=i.value.replace(g,""),u.length>0?(i.value=u,i=i.next):(e=i.next,i.remove(),i=e);for(i=l.lastChild;i&&i.type===3;)u=i.value.replace(nt,""),u.length>0?(i.value=u,i=i.prev):(e=i.prev,i.remove(),i=e)}i=l.prev;i&&i.type===3&&(u=i.value.replace(g,""),u.length>0?i.value=u:i.remove())}if((f.removeEmpty||f.paddEmpty)&&l.isEmpty(st))if(f.paddEmpty)l.empty().append(new t("#text","3")).value=" ";else if(!l.attributes.map.name){o=l.parent;l.empty().remove();l=o;return}l=l.parent}}},r);ut=l=new t(i.root_name,11);rt.parse(u);h(et);for(k in e){for(v=s[k],y=e[k],a=y.length;a--;)y[a].parent||y.splice(a,1);for(p=0,b=v.length;p<b;p++)v[p](y,k,c)}for(p=0,b=f.length;p<b;p++)if(v=f[p],v.name in o){for(y=o[v.name],a=y.length;a--;)y[a].parent||y.splice(a,1);for(a=0,ft=v.callbacks.length;a<ft;a++)v.callbacks[a](y,v.name,c)}return ut};i.remove_trailing_brs&&u.addNodeFilter("br",function(t){for(var s=t.length,i,h=r.getBlockElements(),c=r.getNonEmptyElements(),u,f,o,e=0;e<s;e++)if(i=t[e],u=i.parent,h[i.parent.name]&&i===u.lastChild){for(f=i.prev;f;){if(o=f.name,o!=="span"||f.attr("data-mce-type")!=="bookmark"){if(o!=="br")break;if(o==="br"){i=null;break}}f=f.prev}i&&(i.remove(),u.isEmpty(c)&&(elementRule=r.getElementRule(u.name),elementRule.removeEmpty?u.remove():elementRule.paddEmpty&&(u.empty().append(new n.html.Node("#text",3)).value=" ")))}})}}(tinymce);tinymce.html.Writer=function(n){var t=[],i,u,f,r,e;return n=n||{},i=n.indent,u=tinymce.makeMap(n.indent_before||""),f=tinymce.makeMap(n.indent_after||""),r=tinymce.html.Entities.getEncodeFunc(n.entity_encoding||"raw",n.entities),e=n.element_format=="html",{start:function(n,f,o){var s,l,h,c;if(i&&u[n]&&t.length>0&&(c=t[t.length-1],c.length>0&&c!=="\n"&&t.push("\n")),t.push("<",n),f)for(s=0,l=f.length;s<l;s++)h=f[s],t.push(" ",h.name,'="',r(h.value,!0),'"');t[t.length]=!o||e?">":" />"},end:function(n){var r;t.push("<\/",n,">");i&&f[n]&&t.length>0&&(r=t[t.length-1],r.length>0&&r!=="\n"&&t.push("\n"))},text:function(n,i){n.length>0&&(t[t.length]=i?n:r(n))},cdata:function(n){t.push("<![CDATA[",n,"]\]>")},comment:function(n){t.push("<!--",n,"-->")},pi:function(n,i){i?t.push("<?",n," ",i,"?>"):t.push("<?",n,"?>")},doctype:function(n){t.push("<!DOCTYPE",n,">")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},function(n){n.html.Serializer=function(t,i){var u=this,r=new n.html.Writer(t);t=t||{};t.validate="validate"in t?t.validate:!0;u.schema=i=i||new n.html.Schema;u.writer=r;u.serialize=function(n){function f(n){var y=u[n.type],p,a,t,o,c,s,h,l,v;if(y)y(n);else{if(p=n.name,a=n.shortEnded,t=n.attributes,e&&t&&t.length>1){for(s=[],s.map={},v=i.getElementRule(n.name),h=0,l=v.attributesOrder.length;h<l;h++)o=v.attributesOrder[h],o in t.map&&(c=t.map[o],s.map[o]=c,s.push({name:o,value:c}));for(h=0,l=t.length;h<l;h++)o=t[h].name,o in s.map||(c=t.map[o],s.map[o]=c,s.push({name:o,value:c}));t=s}if(r.start(n.name,t,a),!a){if(n=n.firstChild)do f(n);while(n=n.next);r.end(p)}}}var u,e;return e=t.validate,u={3:function(n){r.text(n.value,n.raw)},8:function(n){r.comment(n.value)},7:function(n){r.pi(n.name,n.value)},10:function(n){r.doctype(n.value)},4:function(n){r.cdata(n.value)},11:function(n){if(n=n.firstChild)do f(n);while(n=n.next)}},r.reset(),n.type!=1||t.inner?u[11](n):f(n),r.getContent()}}}(tinymce),function(n){var t=n.each,r=n.is,e=n.isWebKit,i=n.isIE,u=n.html.Entities,f=n.html.Schema.blockElementsMap;n.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,r){var u=this;if(u.doc=t,u.win=window,u.files={},u.cssFlicker=!1,u.counter=0,u.stdMode=!n.isIE||t.documentMode>=8,u.boxModel=!n.isIE||t.compatMode=="CSS1Compat"||u.stdMode,u.hasOuterHTML="outerHTML"in t.createElement("a"),u.settings=r=n.extend({keep_values:!1,hex_colors:1},r),u.styles=new n.html.Styles({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),n.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(f){u.cssFlicker=!0}i&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(n){t.createElement(n)});n.addUnload(u.destroy,u)},getRoot:function(){var n=this,t=n.settings;return t&&n.get(t.root_element)||n.doc.body},getViewPort:function(n){var i,t;return n=n?n:this.win,i=n.document,t=this.boxModel?i.documentElement:i.body,{x:n.pageXOffset||t.scrollLeft,y:n.pageYOffset||t.scrollTop,w:n.innerWidth||t.clientWidth,h:n.innerHeight||t.clientHeight}},getRect:function(n){var t,i=this,r;return n=i.get(n),t=i.getPos(n),r=i.getSize(n),{x:t.x,y:t.y,w:r.w,h:r.h}},getSize:function(n){var r=this,t,i;return n=r.get(n),t=r.getStyle(n,"width"),i=r.getStyle(n,"height"),t.indexOf("px")===-1&&(t=0),i.indexOf("px")===-1&&(i=0),{w:parseInt(t)||n.offsetWidth||n.clientWidth,h:parseInt(i)||n.offsetHeight||n.clientHeight}},getParent:function(n,t,i){return this.getParents(n,t,i,!1)},getParents:function(n,t,i,u){var f=this,e,s=f.settings,o=[];for(n=f.get(n),u=u===undefined,s.strict_root&&(i=i||f.getRoot()),r(t,"string")&&(e=t,t=t==="*"?function(n){return n.nodeType==1}:function(n){return f.is(n,e)});n;){if(n==i||!n.nodeType||n.nodeType===9)break;if(!t||t(n))if(u)o.push(n);else return n;n=n.parentNode}return u?o:null},get:function(n){var t;return n&&this.doc&&typeof n=="string"&&(t=n,n=this.doc.getElementById(n),n&&n.id!==t)?this.doc.getElementsByName(t)[1]:n},getNext:function(n,t){return this._findSib(n,t,"nextSibling")},getPrev:function(n,t){return this._findSib(n,t,"previousSibling")},add:function(n,t,i,u,f){var e=this;return this.run(n,function(n){var o;return o=r(t,"string")?e.doc.createElement(t):t,e.setAttribs(o,i),u&&(u.nodeType?o.appendChild(u):e.setHTML(o,u)),f?o:n.appendChild(o)})},create:function(n,t,i){return this.add(this.doc.createElement(n),n,t,i,1)},createHTML:function(n,t,i){var r="",f=this,u;r+="<"+n;for(u in t)t.hasOwnProperty(u)&&(r+=" "+u+'="'+f.encode(t[u])+'"');return typeof i!="undefined"?r+">"+i+"<\/"+n+">":r+" />"},remove:function(t,i){return this.run(t,function(t){var u,r;if(u=t.parentNode,!u)return null;if(i)while(r=t.firstChild)!n.isIE||r.nodeType!==3||r.nodeValue?u.insertBefore(r,t):t.removeChild(r);return u.removeChild(t)})},setStyle:function(t,r,u){var f=this;return f.run(t,function(e){var o;o=e.style;r=r.replace(/-(\D)/g,function(n,t){return t.toUpperCase()});f.pixelStyles.test(r)&&(n.is(u,"number")||/^[\-0-9\.]+$/.test(u))&&(u+="px");switch(r){case"opacity":i&&(o.filter=u===""?"":"alpha(opacity="+u*100+")",t.currentStyle&&t.currentStyle.hasLayout||(o.display="inline-block"));o[r]=o["-moz-opacity"]=o["-khtml-opacity"]=u||"";break;case"float":i?o.styleFloat=u:o.cssFloat=u;break;default:o[r]=u||""}f.settings.update_styles&&f.setAttrib(e,"data-mce-style")})},getStyle:function(n,t,r){if(n=this.get(n),!n)return!1;if(this.doc.defaultView&&r){t=t.replace(/[A-Z]/g,function(n){return"-"+n});try{return this.doc.defaultView.getComputedStyle(n,null).getPropertyValue(t)}catch(u){return null}}return(t=t.replace(/-(\D)/g,function(n,t){return t.toUpperCase()}),t=="float"&&(t=i?"styleFloat":"cssFloat"),n.currentStyle&&r)?n.currentStyle[t]:n.style[t]},setStyles:function(n,i){var u=this,r=u.settings,f;f=r.update_styles;r.update_styles=0;t(i,function(t,i){u.setStyle(n,i,t)});r.update_styles=f;r.update_styles&&u.setAttrib(n,r.cssText)},removeAllAttribs:function(n){return this.run(n,function(n){for(var i=n.attributes,t=i.length-1;t>=0;t--)n.removeAttributeNode(i.item(t))})},setAttrib:function(n,i,u){var f=this;if(n&&i)return f.settings.strict&&(i=i.toLowerCase()),this.run(n,function(n){var e=f.settings;switch(i){case"style":if(!r(u,"string")){t(u,function(t,i){f.setStyle(n,i,t)});return}e.keep_values&&(u&&!f._isRes(u)?n.setAttribute("data-mce-style",u,2):n.removeAttribute("data-mce-style",2));n.style.cssText=u;break;case"class":n.className=u||"";break;case"src":case"href":e.keep_values&&(e.url_converter&&(u=e.url_converter.call(e.url_converter_scope||f,u,i,n)),f.setAttrib(n,"data-mce-"+i,u,2));break;case"shape":n.setAttribute("data-mce-style",u)}r(u)&&u!==null&&u.length!==0?n.setAttribute(i,""+u,2):n.removeAttribute(i,2)})},setAttribs:function(n,i){var r=this;return this.run(n,function(n){t(i,function(t,i){r.setAttrib(n,i,t)})})},getAttrib:function(t,u,f){var o,s=this;if(t=s.get(t),!t||t.nodeType!==1)return!1;if(r(f)||(f=""),/^(src|href|style|coords|shape)$/.test(u)&&(o=t.getAttribute("data-mce-"+u),o))return o;if(i&&s.props[u]&&(o=t[s.props[u]],o=o&&o.nodeValue?o.nodeValue:o),o||(o=t.getAttribute(u,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(u))return t[s.props[u]]===!0&&o===""?u:o?u:"";if(t.nodeName==="FORM"&&t.getAttributeNode(u))return t.getAttributeNode(u).nodeValue;if(u==="style"&&(o=o||t.style.cssText,o&&(o=s.serializeStyle(s.parseStyle(o),t.nodeName),s.settings.keep_values&&!s._isRes(o)&&t.setAttribute("data-mce-style",o))),e&&u==="class"&&o&&(o=o.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),i)switch(u){case"rowspan":case"colspan":o===1&&(o="");break;case"size":(o==="+0"||o===20||o===0)&&(o="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":o===0&&(o="");break;case"hspace":o===-1&&(o="");break;case"maxlength":case"tabindex":(o===32768||o===2147483647||o==="32768")&&(o="");break;case"multiple":case"compact":case"noshade":case"nowrap":return o===65535?u:f;case"shape":o=o.toLowerCase();break;default:u.indexOf("on")===0&&o&&(o=n._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+o))}return o!==undefined&&o!==null&&o!==""?""+o:f},getPos:function(n,t){var f=this,u=0,e=0,o,s=f.doc,r;if(n=f.get(n),t=t||s.body,n){if(i&&!f.stdMode)return n=n.getBoundingClientRect(),o=f.boxModel?s.documentElement:s.body,u=f.getStyle(f.select("html")[0],"borderWidth"),u=(u=="medium"||f.boxModel&&!f.isIE6)&&2||u,{x:n.left+o.scrollLeft-u,y:n.top+o.scrollTop-u};for(r=n;r&&r!=t&&r.nodeType;)u+=r.offsetLeft||0,e+=r.offsetTop||0,r=r.offsetParent;for(r=n.parentNode;r&&r!=t&&r.nodeType;)u-=r.scrollLeft||0,e-=r.scrollTop||0,r=r.parentNode}return{x:u,y:e}},parseStyle:function(n){return this.styles.parse(n)},serializeStyle:function(n,t){return this.styles.serialize(n,t)},loadCSS:function(r){var u=this,f=u.doc,e;r||(r="");e=u.select("head")[0];t(r.split(","),function(t){var r;u.files[t]||(u.files[t]=!0,r=u.create("link",{rel:"stylesheet",href:n._addVer(t)}),i&&f.documentMode&&f.recalc&&(r.onload=function(){f.recalc&&f.recalc();r.onload=null}),e.appendChild(r))})},addClass:function(n,t){return this.run(n,function(n){var i;return t?this.hasClass(n,t)?n.className:(i=this.removeClass(n,t),n.className=(i!=""?i+" ":"")+t):0})},removeClass:function(t,i){var u=this,r;return u.run(t,function(t){var f;return u.hasClass(t,i)?(r||(r=new RegExp("(^|\\s+)"+i+"(\\s+|$)","g")),f=t.className.replace(r," "),f=n.trim(f!=" "?f:""),t.className=f,f||(t.removeAttribute("class"),t.removeAttribute("className")),f):t.className})},hasClass:function(n,t){return(n=this.get(n),!n||!t)?!1:(" "+n.className+" ").indexOf(" "+t+" ")!==-1},show:function(n){return this.setStyle(n,"display","block")},hide:function(n){return this.setStyle(n,"display","none")},isHidden:function(n){return n=this.get(n),!n||n.style.display=="none"||this.getStyle(n,"display")=="none"},uniqueId:function(n){return(n?n:"mce_")+this.counter++},setHTML:function(n,r){var u=this;return u.run(n,function(n){if(i){while(n.firstChild)n.removeChild(n.firstChild);try{n.innerHTML="<br />"+r;n.removeChild(n.firstChild)}catch(f){n=u.create("div");n.innerHTML="<br />"+r;t(n.childNodes,function(t,i){i&&n.appendChild(t)})}}else n.innerHTML=r;return r})},getOuterHTML:function(n){var t,i=this;return(n=i.get(n),!n)?null:n.nodeType===1&&i.hasOuterHTML?n.outerHTML:(t=(n.ownerDocument||i.doc).createElement("body"),t.appendChild(n.cloneNode(!0)),t.innerHTML)},setOuterHTML:function(n,t,r){function f(n,t,i){var r,f;for(f=i.createElement("body"),f.innerHTML=t,r=f.lastChild;r;)u.insertAfter(r.cloneNode(!0),n),r=r.previousSibling;u.remove(n)}var u=this;return this.run(n,function(n){if(n=u.get(n),n.nodeType==1)if(r=r||n.ownerDocument||u.doc,i)try{i&&n.nodeType==1?n.outerHTML=t:f(n,t,r)}catch(e){f(n,t,r)}else f(n,t,r)})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(n,t){return t=this.get(t),this.run(n,function(n){var i,r;return i=t.parentNode,r=t.nextSibling,r?i.insertBefore(n,r):i.appendChild(n),n})},isBlock:function(n){var t=n.nodeType;return t?!!(t===1&&f[n.nodeName]):!!f[n]},replace:function(i,u,f){var e=this;return r(u,"array")&&(i=i.cloneNode(!0)),e.run(u,function(r){return f&&t(n.grep(r.childNodes),function(n){i.appendChild(n)}),r.parentNode.replaceChild(i,r)})},rename:function(n,i){var r=this,u;return n.nodeName!=i.toUpperCase()&&(u=r.create(i),t(r.getAttribs(n),function(t){r.setAttrib(u,t.nodeName,r.getAttrib(n,t.nodeName))}),r.replace(u,n,1)),u||n},findCommonAncestor:function(n,t){for(var i=n,r;i;){for(r=t;r&&i!=r;)r=r.parentNode;if(i==r)break;i=i.parentNode}return!i&&n.ownerDocument?n.ownerDocument.documentElement:i},toHex:function(n){function i(n){return n=parseInt(n).toString(16),n.length>1?n:"0"+n}var t=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(n);return t?"#"+i(t[1])+i(t[2])+i(t[3]):n},getClasses:function(){function u(i){t(i.imports,function(n){u(n)});t(i.cssRules||i.rules,function(i){switch(i.type||1){case 1:i.selectorText&&t(i.selectorText.split(","),function(t){(t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t))&&(o=t,t=n._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),!e||(t=e(t,o)))&&(f[t]||(r.push({"class":t}),f[t]=1))});break;case 3:u(i.styleSheet)}})}var i=this,r=[],f={},e=i.settings.class_filter,o;if(i.classes)return i.classes;try{t(i.doc.styleSheets,u)}catch(s){}return r.length>0&&(i.classes=r),r},run:function(n,i,r){var u=this,f;return(u.doc&&typeof n=="string"&&(n=u.get(n)),!n)?!1:(r=r||this,!n.nodeType&&(n.length||n.length===0))?(f=[],t(n,function(n,t){n&&(typeof n=="string"&&(n=u.doc.getElementById(n)),f.push(i.call(r,n,t)))}),f):i.call(r,n)},getAttribs:function(n){var t;return(n=this.get(n),!n)?[]:i?(t=[],n.nodeName=="OBJECT")?n.attributes:(n.nodeName==="OPTION"&&this.getAttrib(n,"selected")&&t.push({specified:1,nodeName:"selected"}),n.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(n){t.push({specified:1,nodeName:n})}),t):n.attributes},destroy:function(t){var i=this;i.events&&i.events.destroy();i.win=i.doc=i.root=i.events=null;t||n.removeUnload(i.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new n.dom.Range(this)},nodeIndex:function(n,t){var f=0,r,e,i,u;if(n)for(r=n.nodeType,n=n.previousSibling,e=n;n;n=n.previousSibling){if(i=n.nodeType,t&&i==3){u=!1;try{u=n.nodeValue.length}catch(o){}if(i==r||!u)continue}f++;r=i}return f},split:function(t,i,r){function o(t){var r,i=t.childNodes;if(t.nodeType!=1||t.getAttribute("data-mce-type")!="bookmark"){for(r=i.length-1;r>=0;r--)o(i[r]);if(t.nodeType!=9){if(t.nodeType==3&&t.nodeValue.length>0&&(!u.isBlock(t.parentNode)||n.trim(t.nodeValue).length>0))return;if(t.nodeType==1&&(i=t.childNodes,i.length==1&&i[0]&&i[0].nodeType==1&&i[0].getAttribute("data-mce-type")=="bookmark"&&t.parentNode.insertBefore(i[0],t),i.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;u.remove(t)}return t}}var u=this,f=u.createRng(),s,h,e;if(t&&i)return f.setStart(t.parentNode,u.nodeIndex(t)),f.setEnd(i.parentNode,u.nodeIndex(i)),s=f.extractContents(),f=u.createRng(),f.setStart(i.parentNode,u.nodeIndex(i)+1),f.setEnd(t.parentNode,u.nodeIndex(t)+1),h=f.extractContents(),e=t.parentNode,e.insertBefore(o(s),t),r?e.replaceChild(r,i):e.insertBefore(i,t),e.insertBefore(o(h),t),u.remove(t),r||i},bind:function(t,i,r,u){var f=this;return f.events||(f.events=new n.dom.EventUtils),f.events.add(t,i,r,u||this)},unbind:function(t,i,r){var u=this;return u.events||(u.events=new n.dom.EventUtils),u.events.remove(t,i,r)},_findSib:function(n,t,i){var f=this,u=t;if(n)for(r(u,"string")&&(u=function(n){return f.is(n,t)}),n=n[i];n;n=n[i])if(u(n))return n;return null},_isRes:function(n){return/^(top|left|bottom|right|width|height)/i.test(n)||/;\s*(top|left|bottom|right|width|height)/i.test(n)}});n.DOM=new n.dom.DOMUtils(document,{process_html:0})}(tinymce),function(n){function t(n){function w(n,t){it(e,n,t)}function b(n,t){it(h,n,t)}function nt(n){w(n.parentNode,a(n))}function et(n){w(n.parentNode,a(n)+1)}function ot(n){b(n.parentNode,a(n))}function tt(n){b(n.parentNode,a(n)+1)}function st(n){n?(i[f]=i[r],i[o]=i[u]):(i[r]=i[f],i[u]=i[o]);i.collapsed=e}function ht(n){nt(n);tt(n)}function ct(n){w(n,0);b(n,n.nodeType===1?n.childNodes.length:n.nodeValue.length)}function lt(n,t){var e=i[r],s=i[u],h=i[f],c=i[o],l=t.startContainer,a=t.startOffset,v=t.endContainer,p=t.endOffset;return n===0?y(e,s,l,a):n===1?y(h,c,l,a):n===2?y(h,c,v,p):n===3?y(e,s,v,p):void 0}function at(){d(s)}function vt(){return d(ft)}function yt(){return d(c)}function pt(t){var i=this[r],f=this[u],o,e;(i.nodeType===3||i.nodeType===4)&&i.nodeValue?f?f>=i.nodeValue.length?n.insertAfter(t,i):(o=i.splitText(f),i.parentNode.insertBefore(t,o)):i.parentNode.insertBefore(t,i):(i.childNodes.length>0&&(e=i.childNodes[f]),e?i.insertBefore(t,e):i.appendChild(t))}function wt(n){var t=i.extractContents();i.insertNode(n);n.appendChild(t);i.selectNode(n)}function bt(){return g(new t(n),{startContainer:i[r],startOffset:i[u],endContainer:i[f],endOffset:i[o],collapsed:i.collapsed,commonAncestorContainer:i.commonAncestorContainer})}function k(n,t){var i;if(n.nodeType==3||t<0)return n;for(i=n.firstChild;i&&t>0;)--t,i=i.nextSibling;return i?i:n}function kt(){return i[r]==i[f]&&i[u]==i[o]}function y(t,i,r,u){var f,h,e,c,o,s;if(t==r)return i==u?0:i<u?-1:1;for(f=r;f&&f.parentNode!=t;)f=f.parentNode;if(f){for(h=0,e=t.firstChild;e!=f&&h<i;)h++,e=e.nextSibling;return i<=h?-1:1}for(f=t;f&&f.parentNode!=r;)f=f.parentNode;if(f){for(h=0,e=r.firstChild;e!=f&&h<u;)h++,e=e.nextSibling;return h<u?-1:1}for(c=n.findCommonAncestor(t,r),o=t;o&&o.parentNode!=c;)o=o.parentNode;for(o||(o=c),s=r;s&&s.parentNode!=c;)s=s.parentNode;if(s||(s=c),o==s)return 0;for(e=c.firstChild;e;){if(e==o)return-1;if(e==s)return 1;e=e.nextSibling}}function it(t,e,s){var h,c;for(t?(i[r]=e,i[u]=s):(i[f]=e,i[o]=s),h=i[f];h.parentNode;)h=h.parentNode;for(c=i[r];c.parentNode;)c=c.parentNode;c==h?y(i[r],i[u],i[f],i[o])>0&&i.collapse(t):i.collapse(t);i.collapsed=kt();i.commonAncestorContainer=n.findCommonAncestor(i[r],i[f])}function d(n){var u,l=0,a=0,t,s,e,o,h,c;if(i[r]==i[f])return dt(n);for(u=i[f],t=u.parentNode;t;u=t,t=t.parentNode){if(t==i[r])return gt(u,n);++l}for(u=i[r],t=u.parentNode;t;u=t,t=t.parentNode){if(t==i[f])return ni(u,n);++a}for(s=a-l,e=i[r];s>0;)e=e.parentNode,s--;for(o=i[f];s<0;)o=o.parentNode,s++;for(h=e.parentNode,c=o.parentNode;h!=c;h=h.parentNode,c=c.parentNode)e=h,o=c;return ti(e,o,n)}function dt(n){var t,a,v,f,h,y,w;if(n!=s&&(t=l.createDocumentFragment()),i[u]==i[o])return t;if(i[r].nodeType==3)return(a=i[r].nodeValue,v=a.substring(i[u],i[o]),n!=c&&(i[r].deleteData(i[u],i[o]-i[u]),i.collapse(e)),n==s)?void 0:(t.appendChild(l.createTextNode(v)),t);for(f=k(i[r],i[u]),h=i[o]-i[u];h>0;)y=f.nextSibling,w=p(f,n),t&&t.appendChild(w),--h,f=y;return n!=c&&i.collapse(e),t}function gt(n,t){var r,f,o,e,v,y;if(t!=s&&(r=l.createDocumentFragment()),f=rt(n,t),r&&r.appendChild(f),o=a(n),e=o-i[u],e<=0)return t!=c&&(i.setEndBefore(n),i.collapse(h)),r;for(f=n.previousSibling;e>0;)v=f.previousSibling,y=p(f,t),r&&r.insertBefore(y,r.firstChild),--e,f=v;return t!=c&&(i.setEndBefore(n),i.collapse(h)),r}function ni(n,t){var r,f,u,h,v,y;for(t!=s&&(r=l.createDocumentFragment()),u=ut(n,t),r&&r.appendChild(u),f=a(n),++f,h=i[o]-f,u=n.nextSibling;h>0;)v=u.nextSibling,y=p(u,t),r&&r.appendChild(y),--h,u=v;return t!=c&&(i.setStartAfter(n),i.collapse(e)),r}function ti(n,t,r){var f,u,b,h,y,v,o,w;for(r!=s&&(u=l.createDocumentFragment()),f=ut(n,r),u&&u.appendChild(f),b=n.parentNode,h=a(n),y=a(t),++h,v=y-h,o=n.nextSibling;v>0;)w=o.nextSibling,f=p(o,r),u&&u.appendChild(f),o=w,--v;return f=rt(t,r),u&&u.appendChild(f),r!=c&&(i.setStartAfter(n),i.collapse(e)),u}function rt(n,t){var r=k(i[f],i[o]-1),u,c,y,p,l,a=r!=i[f];if(r==n)return v(r,a,h,t);for(u=r.parentNode,c=v(u,h,h,t);u;){while(r)y=r.previousSibling,p=v(r,a,h,t),t!=s&&c.insertBefore(p,c.firstChild),a=e,r=y;if(u==n)return c;r=u.previousSibling;u=u.parentNode;l=v(u,h,h,t);t!=s&&l.appendChild(c);c=l}}function ut(n,t){var f=k(i[r],i[u]),l=f!=i[r],o,c,y,p,a;if(f==n)return v(f,l,e,t);for(o=f.parentNode,c=v(o,h,e,t);o;){while(f)y=f.nextSibling,p=v(f,l,e,t),t!=s&&c.appendChild(p),l=e,f=y;if(o==n)return c;f=o.nextSibling;o=o.parentNode;a=v(o,h,e,t);t!=s&&a.appendChild(c);c=a}}function v(n,t,r,f){var l,a,v,e,y;return t?p(n,f):n.nodeType==3?(l=n.nodeValue,r?(e=i[u],a=l.substring(e),v=l.substring(0,e)):(e=i[o],a=l.substring(0,e),v=l.substring(e)),f!=c&&(n.nodeValue=v),f==s)?void 0:(y=n.cloneNode(h),y.nodeValue=a,y):f==s?void 0:n.cloneNode(h)}function p(n,t){if(t!=s)return t==c?n.cloneNode(e):n;n.parentNode.removeChild(n)}var i=this,l=n.doc,ft=0,c=1,s=2,e=!0,h=!1,u="startOffset",r="startContainer",f="endContainer",o="endOffset",g=tinymce.extend,a=n.nodeIndex;g(i,{startContainer:l,startOffset:0,endContainer:l,endOffset:0,collapsed:e,commonAncestorContainer:l,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:w,setEnd:b,setStartBefore:nt,setStartAfter:et,setEndBefore:ot,setEndAfter:tt,collapse:st,selectNode:ht,selectNodeContents:ct,compareBoundaryPoints:lt,deleteContents:at,extractContents:vt,cloneContents:yt,insertNode:pt,surroundContents:wt,cloneRange:bt})}n.Range=t}(tinymce.dom),function(){function n(n){function u(){function e(n){var f,e,c,a,v=0,l,o,s,u,h;if(u=r.duplicate(),u.collapse(n),f=t.create("a"),s=u.parentElement(),!s.hasChildNodes()){i[n?"setStart":"setEnd"](s,0);return}if(s.appendChild(f),u.moveToElementText(f),h=r.compareEndPoints(n?"StartToStart":"EndToEnd",u),h>0){i[n?"setStartAfter":"setEndAfter"](s);t.remove(f);return}for(a=tinymce.grep(s.childNodes),l=a.length-1;v<=l;)if(o=Math.floor((v+l)/2),s.insertBefore(f,a[o]),u.moveToElementText(f),h=r.compareEndPoints(n?"StartToStart":"EndToEnd",u),h>0)v=o+1;else if(h<0)l=o-1;else{found=!0;break}e=h>0||o==0?f.nextSibling:f.previousSibling;e.nodeType==1?(t.remove(f),c=t.nodeIndex(e),e=e.parentNode,(!n||o>0)&&c++):(h>0||o==0?(u.setEndPoint(n?"StartToStart":"EndToEnd",r),c=u.text.length):(u.setEndPoint(n?"StartToStart":"EndToEnd",r),c=e.nodeValue.length-u.text.length),t.remove(f));i[n?"setStart":"setEnd"](e,c)}var r=n.getRng(),i=t.createRng(),u,f;return(u=r.item?r.item(0):r.parentElement(),u.ownerDocument!=t.doc)?i:(f=n.isCollapsed(),r.item||!u.hasChildNodes())?(f?(i.setStart(u,0),i.setEnd(u,0)):(i.setStart(u.parentNode,t.nodeIndex(u)),i.setEnd(i.startContainer,i.startOffset+1)),i):(e(!0),f||e(),i)}var o=this,f="﻿",i,r,t=n.dom,e=!0;this.addRange=function(i){function v(n){var c,p,i,v,y;i=t.create("a");c=n?u:l;p=n?o:s;v=r.duplicate();(c==h||c==h.documentElement)&&(c=a,p=0);c.nodeType==3?(c.parentNode.insertBefore(i,c),v.moveToElementText(i),v.moveStart("character",p),t.remove(i),r.setEndPoint(n?"StartToStart":"EndToEnd",v)):(y=c.childNodes,y.length?(p>=y.length?t.insertAfter(i,y[y.length-1]):c.insertBefore(i,y[p]),v.moveToElementText(i)):(i=h.createTextNode(f),c.appendChild(i),v.moveToElementText(i.parentNode),v.collapse(e)),r.setEndPoint(n?"StartToStart":"EndToEnd",v),t.remove(i))}var r,c,u,o,l,s,h=n.dom.doc,a=h.body;if(this.destroy(),u=i.startContainer,o=i.startOffset,l=i.endContainer,s=i.endOffset,r=a.createTextRange(),u==l&&u.nodeType==1&&o==s-1&&o==s-1)try{c=a.createControlRange();c.addElement(u.childNodes[o]);c.select();return}catch(y){}v(!0);v();r.select()};this.getRangeAt=function(){i&&tinymce.dom.RangeUtils.compareRanges(r,n.getRng())||(i=u(),r=n.getRng());try{i.startContainer.nextSibling}catch(t){i=u();r=null}return i};this.destroy=function(){r=i=null}}tinymce.dom.TridentSelection=n}(),function(n){var t=n.each,i=n.DOM,u=n.isIE,f=n.isWebKit,r;n.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[];this.events=[]},add:function(r,f,e,o){var s,h=this,l=h.events,c;return f instanceof Array?(c=[],t(f,function(n){c.push(h.add(r,n,e,o))}),c):r&&r.hasOwnProperty&&r instanceof Array?(c=[],t(r,function(n){n=i.get(n);c.push(h.add(n,f,e,o))}),c):(r=i.get(r),!r)?void 0:(s=function(t){if(!h.disabled)return(t=t||window.event,t&&u&&(t.target||(t.target=t.srcElement),n.extend(t,h._stoppers)),!o)?e(t):e.call(o,t)},f=="unload")?(n.unloads.unshift({func:s}),s):f=="init"?(h.domLoaded?s():h.inits.push(s),s):(l.push({obj:r,name:f,func:e,cfunc:s,scope:o}),h._add(r,f,s),e)},remove:function(n,r,u){var f=this,o=f.events,s=!1,e;return n&&n.hasOwnProperty&&n instanceof Array?(e=[],t(n,function(n){n=i.get(n);e.push(f.remove(n,r,u))}),e):(n=i.get(n),t(o,function(t,i){if(t.obj==n&&t.name==r&&(!u||t.func==u||t.cfunc==u))return o.splice(i,1),f._remove(n,r,t.cfunc),s=!0,!1}),s)},clear:function(n){var f=this,u=f.events,r,t;if(n)for(n=i.get(n),r=u.length-1;r>=0;r--)t=u[r],t.obj===n&&(f._remove(t.obj,t.name,t.cfunc),t.obj=t.cfunc=null,u.splice(r,1))},cancel:function(n){return n?(this.stop(n),this.prevent(n)):!1},stop:function(n){return n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,!1},prevent:function(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},destroy:function(){var n=this;t(n.events,function(t){n._remove(t.obj,t.name,t.cfunc);t.obj=t.cfunc=null});n.events=[];n=null},_add:function(n,t,i){n.attachEvent?n.attachEvent("on"+t,i):n.addEventListener?n.addEventListener(t,i,!1):n["on"+t]=i},_remove:function(n,t,i){if(n)try{n.detachEvent?n.detachEvent("on"+t,i):n.removeEventListener?n.removeEventListener(t,i,!1):n["on"+t]=null}catch(r){}},_pageInit:function(){var n=this;n.domLoaded||(n.domLoaded=!0,t(n.inits,function(n){n()}),n.inits=[])},_wait:function(n){var t=this,i=n.document;if(n.tinyMCE_GZ&&tinyMCE_GZ.loaded){t.domLoaded=1;return}i.attachEvent?(i.attachEvent("onreadystatechange",function(){i.readyState==="complete"&&(i.detachEvent("onreadystatechange",arguments.callee),t._pageInit(n))}),i.documentElement.doScroll&&n==n.top&&function(){if(!t.domLoaded){try{i.documentElement.doScroll("left")}catch(r){setTimeout(arguments.callee,0);return}t._pageInit(n)}}()):i.addEventListener&&t._add(n,"DOMContentLoaded",function(){t._pageInit(n)});t._add(n,"load",function(){t._pageInit(n)})},_stoppers:{preventDefault:function(){this.returnValue=!1},stopPropagation:function(){this.cancelBubble=!0}}});r=n.dom.Event=new n.dom.EventUtils;r._wait(window);n.addUnload(function(){r.destroy()})}(tinymce),function(n){n.dom.Element=function(t,i){var r=this,u,f;r.settings=i=i||{};r.id=t;r.dom=u=i.dom||n.DOM;n.isIE||(f=u.get(r.id));n.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(n){r[n]=function(){for(var i=[t],f=0;f<arguments.length;f++)i.push(arguments[f]);return i=u[n].apply(u,i),r.update(n),i}});n.extend(r,{on:function(t,i,u){return n.dom.Event.add(r.id,t,i,u)},getXY:function(){return{x:parseInt(r.getStyle("left")),y:parseInt(r.getStyle("top"))}},getSize:function(){var n=u.get(r.id);return{w:parseInt(r.getStyle("width")||n.clientWidth),h:parseInt(r.getStyle("height")||n.clientHeight)}},moveTo:function(n,t){r.setStyles({left:n,top:t})},moveBy:function(n,t){var i=r.getXY();r.moveTo(i.x+n,i.y+t)},resizeTo:function(n,t){r.setStyles({width:n,height:t})},resizeBy:function(n,t){var i=r.getSize();r.resizeTo(i.w+n,i.h+t)},update:function(t){var f;if(n.isIE6&&i.blocker){if(t=t||"",t.indexOf("get")===0||t.indexOf("has")===0||t.indexOf("is")===0)return;if(t=="remove"){u.remove(r.blocker);return}r.blocker?f=u.get(r.blocker):(r.blocker=u.uniqueId(),f=u.add(i.container||u.getRoot(),"iframe",{id:r.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),u.setStyle(f,"opacity",0));u.setStyles(f,{left:r.getStyle("left",1),top:r.getStyle("top",1),width:r.getStyle("width",1),height:r.getStyle("height",1),display:r.getStyle("display",1),zIndex:parseInt(r.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(n){var i=n.is,r=n.isIE,t=n.each;n.create("tinymce.dom.Selection",{Selection:function(i,r,u){var f=this;f.dom=i;f.win=r;f.serializer=u;t(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){f[t]=new n.util.Dispatcher(f)});f.win.getSelection||(f.tridentSel=new n.dom.TridentSelection(f));n.isIE&&i.boxModel&&this._fixIESelection();n.addUnload(f.destroy,f)},getContent:function(n){var t=this,r=t.getRng(),u=t.dom.create("body"),s=t.getSel(),f,e,o;return(n=n||{},f=e="",n.get=!0,n.format=n.format||"html",t.onBeforeGetContent.dispatch(t,n),n.format=="text")?t.isCollapsed()?"":r.text||(s.toString?s.toString():""):(r.cloneContents?(o=r.cloneContents(),o&&u.appendChild(o)):u.innerHTML=i(r.item)||i(r.htmlText)?r.item?r.item(0).outerHTML:r.htmlText:r.toString(),/^\s/.test(u.innerHTML)&&(f=" "),/\s+$/.test(u.innerHTML)&&(e=" "),n.getInner=!0,n.content=t.isCollapsed()?"":f+t.serializer.serialize(u,n)+e,t.onGetContent.dispatch(t,n),n.content)},setContent:function(n,t){var r=this,i=r.getRng(),f,u=r.win.document,e,o;t=t||{format:"html"};t.set=!0;n=t.content=n;t.no_events||r.onBeforeSetContent.dispatch(r,t);n=t.content;i.insertNode?(n+='<span id="__caret">_<\/span>',i.startContainer==u&&i.endContainer==u?u.body.innerHTML=n:(i.deleteContents(),u.body.childNodes.length==0?u.body.innerHTML=n:i.createContextualFragment?i.insertNode(i.createContextualFragment(n)):(e=u.createDocumentFragment(),o=u.createElement("div"),e.appendChild(o),o.outerHTML=n,i.insertNode(e))),f=r.dom.get("__caret"),i=u.createRange(),i.setStartBefore(f),i.setEndBefore(f),r.setRng(i),r.dom.remove("__caret"),r.setRng(i)):(i.item&&(u.execCommand("Delete",!1,null),i=r.getRng()),i.pasteHTML(n));t.no_events||r.onSetContent.dispatch(r,t)},getStart:function(){var t=this.getRng(),n,u,r,i;if(t.duplicate||t.item){if(t.item)return t.item(0);for(r=t.duplicate(),r.collapse(1),n=r.parentElement(),u=i=t.parentElement();i=i.parentNode;)if(i==n){n=u;break}return n}return(n=t.startContainer,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[Math.min(n.childNodes.length-1,t.startOffset)]),n&&n.nodeType==3)?n.parentNode:n},getEnd:function(){var r=this,t=r.getRng(),n,i;return t.duplicate||t.item?t.item?t.item(0):(t=t.duplicate(),t.collapse(0),n=t.parentElement(),n&&n.nodeName=="BODY")?n.lastChild||n:n:(n=t.endContainer,i=t.endOffset,n.nodeType==1&&n.hasChildNodes()&&(n=n.childNodes[i>0?i-1:i]),n&&n.nodeType==3)?n.parentNode:n},getBookmark:function(n,i){function v(n,i){var r=0;return t(h.select(n),function(n,t){n==i&&(r=t)}),r}var u=this,h=u.dom,r,f,e,a,o,s,l="﻿",c;if(n==2){function y(){function r(n,t){var r=n[t?"startContainer":"endContainer"],o=n[t?"startOffset":"endOffset"],h=[],e,s,c=0;if(r.nodeType==3){if(i)for(e=r.previousSibling;e&&e.nodeType==3;e=e.previousSibling)o+=e.nodeValue.length;h.push(o)}else s=r.childNodes,o>=s.length&&s.length&&(c=1,o=Math.max(0,s.length-1)),h.push(u.dom.nodeIndex(s[o],i)+c);for(;r&&r!=f;r=r.parentNode)h.push(u.dom.nodeIndex(r,i));return h}var t=u.getRng(!0),f=h.getRoot(),n={};return n.start=r(t,!0),u.isCollapsed()||(n.end=r(t)),n}return y()}if(n)return{rng:u.getRng()};if(r=u.getRng(),e=h.uniqueId(),a=tinyMCE.activeEditor.selection.isCollapsed(),c="overflow:hidden;line-height:0px",r.duplicate||r.item){if(r.item)return s=r.item(0),o=s.nodeName,{name:o,index:v(o,s)};f=r.duplicate();try{r.collapse();r.pasteHTML('<span data-mce-type="bookmark" id="'+e+'_start" style="'+c+'">'+l+"<\/span>");a||(f.collapse(!1),r.moveToElementText(f.parentElement()),r.compareEndPoints("StartToEnd",f)==0&&f.move("character",-1),f.pasteHTML('<span data-mce-type="bookmark" id="'+e+'_end" style="'+c+'">'+l+"<\/span>"))}catch(p){return null}}else{if(s=u.getNode(),o=s.nodeName,o=="IMG")return{name:o,index:v(o,s)};f=r.cloneRange();a||(f.collapse(!1),f.insertNode(h.create("span",{"data-mce-type":"bookmark",id:e+"_end",style:c},l)));r.collapse(!0);r.insertNode(h.create("span",{"data-mce-type":"bookmark",id:e+"_start",style:c},l))}return u.moveToBookmark({id:e,keep:1}),{id:e}},moveToBookmark:function(i){var e=this,u=e.dom,f,l,h,o,c,s;if(e.tridentSel&&e.tridentSel.destroy(),i)if(i.start){f=u.createRng();l=u.getRoot();function a(n){var r=i[n?"start":"end"],u,t,e,o;if(r){for(e=r[0],t=l,u=r.length-1;u>=1;u--){if(o=t.childNodes,r[u]>o.length-1)return;t=o[r[u]]}t.nodeType===3&&(e=Math.min(r[0],t.nodeValue.length));t.nodeType===1&&(e=Math.min(r[0],t.childNodes.length));n?f.setStart(t,e):f.setEnd(t,e)}return!0}a(!0)&&a()&&e.setRng(f)}else if(i.id){function v(r){var f=u.get(i.id+"_"+r),a,e,v,l,y=i.keep;if(f&&(a=f.parentNode,r=="start"?(y?(a=f.firstChild,e=1):e=u.nodeIndex(f),h=o=a,c=s=e):(y?(a=f.firstChild,e=1):e=u.nodeIndex(f),o=a,s=e),!y)){for(l=f.previousSibling,v=f.nextSibling,t(n.grep(f.childNodes),function(n){n.nodeType==3&&(n.nodeValue=n.nodeValue.replace(/\uFEFF/g,""))});f=u.get(i.id+"_"+r);)u.remove(f,1);l&&v&&l.nodeType==v.nodeType&&l.nodeType==3&&!n.isOpera&&(e=l.nodeValue.length,l.appendData(v.nodeValue),u.remove(v),r=="start"?(h=o=l,c=s=e):(o=l,s=e))}}function y(n){return u.isBlock(n)&&!n.innerHTML&&(n.innerHTML=r?" ":'<br data-mce-bogus="1" />'),n}v("start");v("end");h&&(f=u.createRng(),f.setStart(y(h),c),f.setEnd(y(o),s),e.setRng(f))}else i.name?e.select(u.select(i.name)[i.index]):i.rng&&e.setRng(i.rng)},select:function(t,i){var f=this,e=f.dom,r=e.createRng(),u;if(t){if(u=e.nodeIndex(t),r.setStart(t.parentNode,u),r.setEnd(t.parentNode,u+1),i){function o(t,i){var u=new n.dom.TreeWalker(t,t);do{if(t.nodeType==3&&n.trim(t.nodeValue).length!=0){i?r.setStart(t,0):r.setEnd(t,t.nodeValue.length);return}if(t.nodeName=="BR"){i?r.setStartBefore(t):r.setEndBefore(t);return}}while(t=i?u.next():u.prev())}o(t,1);o(t)}f.setRng(r)}return t},isCollapsed:function(){var t=this,n=t.getRng(),i=t.getSel();return!n||n.item?!1:n.compareEndPoints?n.compareEndPoints("StartToEnd",n)===0:!i||n.collapsed},collapse:function(n){var i=this,t=i.getRng(),r;t.item&&(r=t.item(0),t=i.win.document.body.createTextRange(),t.moveToElementText(r));t.collapse(!!n);i.setRng(t)},getSel:function(){var t=this,n=this.win;return n.getSelection?n.getSelection():n.document.selection},getRng:function(t){var r=this,f,i,e,u=r.win.document;if(t&&r.tridentSel)return r.tridentSel.getRangeAt(0);try{(f=r.getSel())&&(i=f.rangeCount>0?f.getRangeAt(0):f.createRange?f.createRange():u.createRange())}catch(o){}return n.isIE&&i&&i.setStart&&u.selection.createRange().item&&(e=u.selection.createRange().item(0),i=u.createRange(),i.setStartBefore(e),i.setEndAfter(e)),i||(i=u.createRange?u.createRange():u.body.createTextRange()),r.selectedRange&&r.explicitRange&&(i.compareBoundaryPoints(i.START_TO_START,r.selectedRange)===0&&i.compareBoundaryPoints(i.END_TO_END,r.selectedRange)===0?i=r.explicitRange:(r.selectedRange=null,r.explicitRange=null)),i},setRng:function(n){var t,i=this;if(i.tridentSel){if(n.cloneRange){i.tridentSel.addRange(n);return}try{n.select()}catch(r){}}else t=i.getSel(),t&&(i.explicitRange=n,t.removeAllRanges(),t.addRange(n),i.selectedRange=t.getRangeAt(0))},setNode:function(n){var t=this;return t.setContent(t.dom.getOuterHTML(n)),n},getNode:function(){var u=this,n=u.getRng(),e=u.getSel(),i,t=n.startContainer,r=n.endContainer;if(!n)return u.dom.getRoot();if(n.setStart){if(i=n.commonAncestorContainer,!n.collapsed&&(n.startContainer==n.endContainer&&n.endOffset-n.startOffset<2&&n.startContainer.hasChildNodes()&&(i=n.startContainer.childNodes[n.startOffset]),t.nodeType===3&&r.nodeType===3)){function f(n,t){for(var i=n;n&&n.nodeType===3&&n.length===0;)n=t?n.nextSibling:n.previousSibling;return n||i}if(t=t.length===n.startOffset?f(t.nextSibling,!0):t.parentNode,r=n.endOffset===0?f(r.previousSibling,!1):r.parentNode,t&&t===r)return t}return i&&i.nodeType==3?i.parentNode:i}return n.item?n.item(0):n.parentElement()},getSelectedBlocks:function(n,t){var o=this,f=o.dom,i,r,u,e=[];if(i=f.getParent(n||o.getStart(),f.isBlock),r=f.getParent(t||o.getEnd(),f.isBlock),i&&e.push(i),i&&r&&i!=r)for(u=i;(u=u.nextSibling)&&u!=r;)f.isBlock(u)&&e.push(u);return r&&i!=r&&e.push(r),e},destroy:function(t){var i=this;i.win=null;i.tridentSel&&i.tridentSel.destroy();t||n.removeUnload(i.destroy)},_fixIESelection:function(){function e(n,t){var i=s.createTextRange();try{i.moveToPoint(n,t)}catch(r){i=null}return i}function o(n){var i;n.button?(i=e(n.x,n.y),i&&(i.compareEndPoints("StartToStart",t)>0?i.setEndPoint("StartToStart",t):i.setEndPoint("EndToEnd",t),i.select())):r()}function r(){var f=n.selection.createRange();t&&!f.item&&f.compareEndPoints("StartToEnd",f)===0&&t.select();i.unbind(n,"mouseup",r);i.unbind(n,"mousemove",o);t=u=0}var i=this.dom,n=i.doc,s=n.body,u,t,f;n.documentElement.unselectable=!0;i.bind(n,["mousedown","contextmenu"],function(s){if(s.target.nodeName==="HTML"){if(u&&r(),f=n.documentElement,f.scrollHeight>f.clientHeight)return;u=1;t=e(s.x,s.y);t&&(i.bind(n,"mouseup",r),i.bind(n,"mousemove",o),i.win.focus(),t.select())}})}})}(tinymce),function(n){n.dom.Serializer=function(t,i,r){var f,e,o=n.isIE,s=n.each,u;return t.apply_source_formatting||(t.indent=!1),t.remove_trailing_brs=!0,i=i||n.DOM,r=r||new n.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",f=new n.util.Dispatcher(self),e=new n.util.Dispatcher(self),u=new n.html.DomParser(t,r),u.addAttributeFilter("src,href,style",function(n,r){for(var e=n.length,f,u,o="data-mce-"+r,s=t.url_converter,h=t.url_converter_scope,c;e--;)f=n[e],u=f.attributes.map[o],u!==c?(f.attr(r,u.length>0?u:null),f.attr(o,null)):(u=f.attributes.map[r],r==="style"?u=i.serializeStyle(i.parseStyle(u),f.name):s&&(u=s.call(h,u,r,f.name)),f.attr(r,u.length>0?u:null))}),u.addAttributeFilter("class",function(n){for(var r=n.length,t,i;r--;)t=n[r],i=t.attr("class").replace(/\s*mce(Item\w+|Selected)\s*/g,""),t.attr("class",i.length>0?i:null)}),u.addAttributeFilter("data-mce-type",function(n,t,i){for(var u=n.length,r;u--;)r=n[u],r.attributes.map["data-mce-type"]!=="bookmark"||i.cleanup||r.remove()}),u.addNodeFilter("script,style",function(n,t){function f(n){return n.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*(\/\/\s*<!--|\/\/\s*<!\[CDATA\[|<!--|<!\[CDATA\[)[\r\n]*/g,"").replace(/\s*(\/\/\s*\]\]>|\/\/\s*-->|\]\]>|-->|\]\]-->)\s*$/g,"")}for(var u=n.length,i,r;u--;)i=n[u],r=i.firstChild?i.firstChild.value:"",t==="script"?(i.attr("type",(i.attr("type")||"text/javascript").replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+f(r)+"\n// ]\]>")):r.length>0&&(i.firstChild.value="<!--\n"+f(r)+"\n-->")}),u.addNodeFilter("#comment",function(n){for(var i=n.length,t;i--;)t=n[i],t.value.indexOf("[CDATA[")===0?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):t.value.indexOf("mce:protected ")===0&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),u.addNodeFilter("xml:namespace,input",function(n,t){for(var r=n.length,i;r--;)i=n[r],i.type===7?i.remove():i.type===1&&(t!=="input"||"type"in i.attributes.map||i.attr("type","text"))}),t.fix_list_elements&&u.addNodeFilter("ul,ol",function(n){for(var r=n.length,t,i;r--;)t=n[r],i=t.parent,(i.name==="ul"||i.name==="ol")&&t.prev&&t.prev.name==="li"&&t.prev.append(t)}),u.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(n,t){for(var i=n.length;i--;)n[i].attr(t,null)}),{schema:r,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,onPreProcess:f,onPostProcess:e,serialize:function(h,c){var a,l,v,y,p;return o&&i.select("script,style,select").length>0?(p=h.innerHTML,h=h.cloneNode(!1),i.setHTML(h,p)):h=h.cloneNode(!0),a=h.ownerDocument.implementation,a.createHTMLDocument&&(l=a.createHTMLDocument(""),s(h.nodeName=="BODY"?h.childNodes:[h],function(n){l.body.appendChild(l.importNode(n,!0))}),h=h.nodeName!="BODY"?l.body.firstChild:l.body,v=i.doc,i.doc=l),c=c||{},c.format=c.format||"html",c.no_events||(c.node=h,f.dispatch(self,c)),y=new n.html.Serializer(t,r),c.content=y.serialize(u.parse(c.getInner?h.innerHTML:n.trim(i.getOuterHTML(h),c),c)),c.no_events||e.dispatch(self,c),v&&(i.doc=v),c.node=null,c.content},addRules:function(n){r.addValidElements(n)},setRules:function(n){r.setValidElements(n)}}}}(tinymce),function(n){n.dom.ScriptLoader=function(){function c(t,i){function s(){f.remove(o);r&&(r.onreadystatechange=r.onload=r=null);i()}function h(){typeof console!="undefined"&&console.log&&console.log("Failed to load: "+t)}var c=this,f=n.DOM,r,u,e,o;if(o=f.uniqueId(),n.isIE6&&(u=new n.util.URI(t),e=location,u.host==e.hostname&&u.port==e.port&&u.protocol+":"==e.protocol&&u.protocol.toLowerCase()!="file")){n.util.XHR.send({url:n._addVer(u.getURI()),success:function(n){var t=f.create("script",{type:"text/javascript"});t.text=n;document.getElementsByTagName("head")[0].appendChild(t);f.remove(t);s()},error:h});return}r=f.create("script",{id:o,type:"text/javascript",src:n._addVer(t)});n.isIE||(r.onload=s);r.onerror=h;n.isOpera||(r.onreadystatechange=function(){var n=r.readyState;(n=="complete"||n=="loaded")&&s()});(document.getElementsByTagName("head")[0]||document.body).appendChild(r)}var h=0,e=1,r=2,t={},o=[],i={},u=[],f=0,s;this.isDone=function(n){return t[n]==r};this.markDone=function(n){t[n]=r};this.add=this.load=function(n,r,u){var f=t[n];f==s&&(o.push(n),t[n]=h);r&&(i[n]||(i[n]=[]),i[n].push({func:r,scope:u||this}))};this.loadQueue=function(n,t){this.loadScripts(o,n,t)};this.loadScripts=function(o,h,l){function v(t){n.each(i[t],function(n){n.func.call(n.scope)});i[t]=s}var a;u.push({func:h,scope:l||this});a=function(){var i=n.grep(o);o.length=0;n.each(i,function(n){if(t[n]==r){v(n);return}t[n]!=e&&(t[n]=e,f++,c(n,function(){t[n]=r;f--;v(n);a()}))});f||(n.each(u,function(n){n.func.call(n.scope)}),u.length=0)};a()}};n.ScriptLoader=new n.dom.ScriptLoader}(tinymce);tinymce.dom.TreeWalker=function(n,t){function r(n,i,r,u){var f,e;if(n){if(!u&&n[i])return n[i];if(n!=t){if(f=n[r],f)return f;for(e=n.parentNode;e&&e!=t;e=e.parentNode)if(f=e[r],f)return f}}}var i=n;this.current=function(){return i};this.next=function(n){return i=r(i,"firstChild","nextSibling",n)};this.prev=function(n){return i=r(i,"lastChild","previousSibling",n)}},function(n){n.dom.RangeUtils=function(t){this.walk=function(i,r){function y(n,t,i){for(var r=[];n&&n!=i;n=n[t])r.push(n);return r}function p(n,t){do{if(n.parentNode==t)return n;n=n.parentNode}while(n)}function l(n,t,i){var f=i?"nextSibling":"previousSibling";for(u=n,a=u.parentNode;u&&u!=t;u=a)a=u.parentNode,s=y(u==n?u:u[f],f),s.length&&(i||s.reverse(),r(s))}var f=i.startContainer,w=i.startOffset,e=i.endContainer,b=i.endOffset,o,h,c,u,a,s,v;if(v=t.select("td.mceSelected,th.mceSelected"),v.length>0){n.each(v,function(n){r([n])});return}if(f.nodeType==1&&f.hasChildNodes()&&(f=f.childNodes[w]),e.nodeType==1&&e.hasChildNodes()&&(e=e.childNodes[Math.min(b-1,e.childNodes.length-1)]),o=t.findCommonAncestor(f,e),f==e)return r([f]);for(u=f;u;u=u.parentNode){if(u==e)return l(f,o,!0);if(u==o)break}for(u=e;u;u=u.parentNode){if(u==f)return l(e,o);if(u==o)break}h=p(f,o)||f;c=p(e,o)||e;l(f,h,!0);s=y(h==f?h:h.nextSibling,"nextSibling",c==e?c.nextSibling:c);s.length&&r(s);l(e,c)}};n.dom.RangeUtils.compareRanges=function(n,t){if(n&&t)if(n.item||n.duplicate){if(n.item&&t.item&&n.item(0)===t.item(0)||n.isEqual&&t.isEqual&&t.isEqual(n))return!0}else return n.startContainer==t.startContainer&&n.startOffset==t.startOffset;return!1}}(tinymce),function(n){var t=n.dom.Event,i=n.each;n.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(r,u){var f=this,s=r.root,e=r.items,v=r.enableUpDown,y=r.enableLeftRight||!r.enableUpDown,p=r.excludeFromTabOrder,h,c,l,a,o;u=u||n.DOM;h=function(n){o=n.target.id};c=function(n){u.setAttrib(n.target.id,"tabindex","-1")};a=function(){var n=u.get(o);u.setAttrib(n,"tabindex","0");n.focus()};f.focus=function(){u.get(o).focus()};f.destroy=function(){i(e,function(n){u.unbind(u.get(n.id),"focus",h);u.unbind(u.get(n.id),"blur",c)});u.unbind(u.get(s),"focus",a);u.unbind(u.get(s),"keydown",l);e=u=s=f.focus=h=c=l=a=null;f.destroy=function(){}};f.moveFocus=function(n,s){var h=-1,l=f.controls,c;if(o){if(i(e,function(n,t){if(n.id===o)return h=t,!1}),h+=n,h<0?h=e.length-1:h>=e.length&&(h=0),c=e[h],u.setAttrib(o,"tabindex","-1"),u.setAttrib(c.id,"tabindex","0"),u.get(c.id).focus(),r.actOnFocus)r.onAction(c.id);s&&t.cancel(s)}};l=function(n){switch(n.keyCode){case 37:y&&f.moveFocus(-1);break;case 39:y&&f.moveFocus(1);break;case 38:v&&f.moveFocus(-1);break;case 40:v&&f.moveFocus(1);break;case 27:r.onCancel&&(r.onCancel(),t.cancel(n));break;case 14:case 13:case 32:if(r.onAction){r.onAction(o);t.cancel(n)}}};i(e,function(n,t){var i;n.id||(n.id=u.uniqueId("_mce_item_"));p?(u.bind(n.id,"blur",c),i="-1"):i=t===0?"0":"-1";u.setAttrib(n.id,"tabindex",i);u.bind(u.get(n.id),"focus",h)});e[0]&&(o=e[0].id);u.setAttrib(s,"tabindex","-1");u.bind(u.get(s),"focus",a);u.bind(u.get(s),"keydown",l)}})}(tinymce),function(n){var t=n.DOM,i=n.is;n.create("tinymce.ui.Control",{Control:function(t,i,r){this.id=t;this.settings=i=i||{};this.rendered=!1;this.onRender=new n.util.Dispatcher(this);this.classPrefix="";this.scope=i.scope||this;this.disabled=0;this.active=0;this.editor=r},setAriaProperty:function(n,i){var r=t.get(this.id+"_aria")||t.get(this.id);r&&t.setAttrib(r,"aria-"+n,!!i)},focus:function(){t.get(this.id).focus()},setDisabled:function(n){n!=this.disabled&&(this.setAriaProperty("disabled",n),this.setState("Disabled",n),this.setState("Enabled",!n),this.disabled=n)},isDisabled:function(){return this.disabled},setActive:function(n){n!=this.active&&(this.setState("Active",n),this.active=n,this.setAriaProperty("pressed",n))},isActive:function(){return this.active},setState:function(n,i){var r=t.get(this.id);n=this.classPrefix+n;i?t.addClass(r,n):t.removeClass(r,n)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(n){t.setHTML(n,this.renderHTML())},postRender:function(){var n=this,t;i(n.disabled)&&(t=n.disabled,n.disabled=-1,n.setDisabled(t));i(n.active)&&(t=n.active,n.active=-1,n.setActive(t))},remove:function(){t.remove(this.id);this.destroy()},destroy:function(){n.dom.Event.clear(this.id)}})}(tinymce);tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(n,t,i){this.parent(n,t,i);this.controls=[];this.lookup={}},add:function(n){return this.lookup[n.id]=n,this.controls.push(n),n},get:function(n){return this.lookup[n]}});tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(n,t){this.parent(n,t);this.classPrefix="mceSeparator";this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(n){var t=n.is,i=n.DOM,r=n.each,u=n.walk;n.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(n,t){this.parent(n,t);this.classPrefix="mceMenuItem"},setSelected:function(n){this.setState("Selected",n);this.setAriaProperty("checked",!!n);this.selected=n},isSelected:function(){return this.selected},postRender:function(){var n=this;n.parent();t(n.selected)&&n.setSelected(n.selected)}})}(tinymce),function(n){var r=n.is,i=n.DOM,u=n.each,t=n.walk;n.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,i){var r=this;r.parent(t,i);r.items={};r.collapsed=!1;r.menuCount=0;r.onAddItem=new n.util.Dispatcher(this)},expand:function(n){var i=this;n&&t(i,function(n){n.expand&&n.expand()},"items",i);i.collapsed=!1},collapse:function(n){var i=this;n&&t(i,function(n){n.collapse&&n.collapse()},"items",i);i.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(t){return t.settings||(t=new n.ui.MenuItem(t.id||i.uniqueId(),t)),this.onAddItem.dispatch(this,t),this.items[t.id]=t},addSeparator:function(){return this.add({separator:!0})},addMenu:function(n){return n.collapse||(n=this.createMenu(n)),this.menuCount++,this.add(n)},hasMenus:function(){return this.menuCount!==0},remove:function(n){delete this.items[n.id]},removeAll:function(){var n=this;t(n,function(n){n.removeAll?n.removeAll():n.remove();n.destroy()},"items",n);n.items={}},createMenu:function(t){var r=new n.ui.Menu(t.id||i.uniqueId(),t);return r.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),r}})}(tinymce),function(n){var f=n.is,t=n.DOM,r=n.each,i=n.dom.Event,u=n.dom.Element;n.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(i,r){r=r||{};r.container=r.container||t.doc.body;r.offset_x=r.offset_x||0;r.offset_y=r.offset_y||0;r.vp_offset_x=r.vp_offset_x||0;r.vp_offset_y=r.vp_offset_y||0;f(r.icons)&&!r.icons&&(r["class"]+=" mceNoIcons");this.parent(i,r);this.onShowMenu=new n.util.Dispatcher(this);this.onHideMenu=new n.util.Dispatcher(this);this.classPrefix="mceMenu"},createMenu:function(i){var u=this,r=u.settings,f;return i.container=i.container||r.container,i.parent=u,i.constrain=i.constrain||r.constrain,i["class"]=i["class"]||r["class"],i.vp_offset_x=i.vp_offset_x||r.vp_offset_x,i.vp_offset_y=i.vp_offset_y||r.vp_offset_y,i.keyboard_focus=r.keyboard_focus,f=new n.ui.DropMenu(i.id||t.uniqueId(),i),f.onAddItem.add(u.onAddItem.dispatch,u.onAddItem),f},focus:function(){var n=this;n.keyboardNav&&n.keyboardNav.focus()},update:function(){var i=this,n=i.settings,r=t.get("menu_"+i.id+"_tbl"),e=t.get("menu_"+i.id+"_co"),u,f;u=n.max_width?Math.min(r.clientWidth,n.max_width):r.clientWidth;f=n.max_height?Math.min(r.clientHeight,n.max_height):r.clientHeight;t.boxModel?i.element.setStyles({width:u,height:f}):i.element.setStyles({width:u+2,height:f+2});n.max_width&&t.setStyle(e,"width",u);n.max_height&&(t.setStyle(e,"height",f),r.clientHeight<n.max_height&&t.setStyle(e,"overflow","hidden"))},showMenu:function(f,e,o){var s=this,c=s.settings,h,l=t.getViewPort(),v,p,w,b,y=2,a,k=s.classPrefix;(s.collapse(1),s.isMenuVisible)||(s.rendered?h=t.get("menu_"+s.id):(h=t.add(s.settings.container,s.renderNode()),r(s.items,function(n){n.postRender()}),s.element=new u("menu_"+s.id,{blocker:1,container:c.container})),n.isOpera||t.setStyles(h,{left:-65535,top:-65535}),t.show(h),s.update(),f+=c.offset_x||0,e+=c.offset_y||0,l.w-=4,l.h-=4,c.constrain&&(v=h.clientWidth-y,p=h.clientHeight-y,w=l.x+l.w,b=l.y+l.h,f+c.vp_offset_x+v>w&&(f=o?o-v:Math.max(0,w-c.vp_offset_x-v)),e+c.vp_offset_y+p>b&&(e=Math.max(0,b-c.vp_offset_y-p))),t.setStyles(h,{left:f,top:e}),s.element.update(),s.isMenuVisible=1,s.mouseClickFunc=i.add(h,"click",function(n){var r;if(n=n.target,n&&(n=t.getParent(n,"tr"))&&!t.hasClass(n,k+"ItemSub")){if(r=s.items[n.id],r.isDisabled())return;for(a=s;a;)a.hideMenu&&a.hideMenu(),a=a.settings.parent;if(r.settings.onclick)r.settings.onclick(n);return i.cancel(n)}}),s.hasMenus()&&(s.mouseOverFunc=i.add(h,"mouseover",function(n){var i,r;if(n=n.target,n&&(n=t.getParent(n,"tr"))){if(i=s.items[n.id],s.lastMenu&&s.lastMenu.collapse(1),i.isDisabled())return;n&&t.hasClass(n,k+"ItemSub")&&(r=t.getRect(n),i.showMenu(r.x+r.w-y,r.y-y,r.x),s.lastMenu=i,t.addClass(t.get(i.id).firstChild,k+"ItemActive"))}})),i.add(h,"keydown",s._keyHandler,s),s.onShowMenu.dispatch(s),c.keyboard_focus&&s._setupKeyboardNav())},hideMenu:function(n){var r=this,u=t.get("menu_"+r.id),f;r.isMenuVisible&&(r.keyboardNav&&r.keyboardNav.destroy(),i.remove(u,"mouseover",r.mouseOverFunc),i.remove(u,"click",r.mouseClickFunc),i.remove(u,"keydown",r._keyHandler),t.hide(u),r.isMenuVisible=0,n||r.collapse(1),r.element&&r.element.hide(),(f=t.get(r.id))&&t.removeClass(f.firstChild,r.classPrefix+"ItemActive"),r.onHideMenu.dispatch(r))},add:function(n){var i=this,r;return n=i.parent(n),i.isRendered&&(r=t.get("menu_"+i.id))&&i._add(t.select("tbody",r)[0],n),n},collapse:function(n){this.parent(n);this.hideMenu(1)},remove:function(n){return t.remove(n.id),this.destroy(),this.parent(n)},destroy:function(){var n=this,r=t.get("menu_"+n.id);n.keyboardNav&&n.keyboardNav.destroy();i.remove(r,"mouseover",n.mouseOverFunc);i.remove(t.select("a",r),"focus",n.mouseOverFunc);i.remove(r,"click",n.mouseClickFunc);i.remove(r,"keydown",n._keyHandler);n.element&&n.element.remove();t.remove(r)},renderNode:function(){var n=this,i=n.settings,o,s,e,f;return f=t.create("div",{role:"listbox",id:"menu_"+n.id,"class":i["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),n.settings.parent&&t.setAttrib(f,"aria-parent","menu_"+n.settings.parent.id),e=t.add(f,"div",{role:"presentation",id:"menu_"+n.id+"_co","class":n.classPrefix+(i["class"]?" "+i["class"]:"")}),n.element=new u("menu_"+n.id,{blocker:1,container:i.container}),i.menu_line&&t.add(e,"span",{"class":n.classPrefix+"Line"}),o=t.add(e,"table",{role:"presentation",id:"menu_"+n.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),s=t.add(o,"tbody"),r(n.items,function(t){n._add(s,t)}),n.rendered=!0,f},_setupKeyboardNav:function(){var r,u,i=this;r=t.select("#menu_"+i.id)[0];u=t.select("a[role=option]","menu_"+i.id);u.splice(0,0,r);i.keyboardNav=new n.ui.KeyboardNavigation({root:"menu_"+i.id,items:u,onCancel:function(){i.hideMenu()},enableUpDown:!0});r.focus()},_keyHandler:function(n){var t=this;switch(n.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),i.cancel(n));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(n)}},_add:function(n,i){var r,u=i.settings,o,f,s,e=this.classPrefix,h;if(u.separator){f=t.add(n,"tr",{id:i.id,"class":e+"ItemSeparator"});t.add(f,"td",{"class":e+"ItemSeparator"});(r=f.previousSibling)&&t.addClass(r,"mceLast");return}r=f=t.add(n,"tr",{id:i.id,"class":e+"Item "+e+"ItemEnabled"});r=s=t.add(r,u.titleItem?"th":"td");r=o=t.add(r,"a",{id:i.id+"_aria",role:u.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"});u.parent&&(t.setAttrib(o,"aria-haspopup","true"),t.setAttrib(o,"aria-owns","menu_"+i.id));t.addClass(s,u["class"]);h=t.add(r,"span",{"class":"mceIcon"+(u.icon?" mce_"+u.icon:"")});u.icon_src&&t.add(h,"img",{src:u.icon_src});r=t.add(r,u.element||"span",{"class":"mceText",title:i.settings.title},i.settings.title);i.settings.style&&t.setAttrib(r,"style",i.settings.style);n.childNodes.length==1&&t.addClass(f,"mceFirst");(r=f.previousSibling)&&t.hasClass(r,e+"ItemSeparator")&&t.addClass(f,"mceFirst");i.collapse&&t.addClass(f,e+"ItemSub");(r=f.previousSibling)&&t.removeClass(r,"mceLast");t.addClass(f,"mceLast")}})}(tinymce),function(n){var t=n.DOM;n.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(n,t,i){this.parent(n,t,i);this.classPrefix="mceButton"},renderHTML:function(){var r=this.classPrefix,n=this.settings,u,i;return i=t.encode(n.label||""),u='<a role="button" id="'+this.id+'" href="javascript:;" class="'+r+" "+r+"Enabled "+n["class"]+(i?" "+r+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(n.title)+'">',u+=n.image?'<img class="mceIcon" src="'+n.image+'" alt="'+t.encode(n.title)+'" />'+i:'<span class="mceIcon '+n["class"]+'"><\/span>'+(i?'<span class="'+r+'Label">'+i+"<\/span>":""),u+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+n.title+"<\/span>",u+"<\/a>"},postRender:function(){var t=this,i=t.settings;n.dom.Event.add(t.id,"click",function(n){if(!t.isDisabled())return i.onclick.call(i.scope,n)})}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.each,u=n.util.Dispatcher;n.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,i,r){var f=this;f.parent(t,i,r);f.items=[];f.onChange=new u(f);f.onPostRender=new u(f);f.onAdd=new u(f);f.onRenderMenu=new n.util.Dispatcher(this);f.classPrefix="mceListBox"},select:function(n){var t=this,i,u;if(n==undefined)return t.selectByIndex(-1);u=n&&n.call?n:function(t){return t==n};n!=t.selectedValue&&(r(t.items,function(n,r){if(u(n.value))return i=1,t.selectByIndex(r),!1}),i||t.selectByIndex(-1))},selectByIndex:function(n){var i=this,r,u;n!=i.selectedIndex&&(r=t.get(i.id+"_text"),u=i.items[n],u?(i.selectedValue=u.value,i.selectedIndex=n,t.setHTML(r,t.encode(u.title)),t.removeClass(r,"mceTitle"),t.setAttrib(i.id,"aria-valuenow",u.title)):(t.setHTML(r,t.encode(i.settings.title)),t.addClass(r,"mceTitle"),i.selectedValue=i.selectedIndex=null,t.setAttrib(i.id,"aria-valuenow",i.settings.title)),r=0)},add:function(t,i,r){var u=this;r=r||{};r=n.extend(r,{title:t,value:i});u.items.push(r);u.onAdd.dispatch(u,r)},getLength:function(){return this.items.length},renderHTML:function(){var i="",n=this,r=n.settings,u=n.classPrefix;return i='<span role="button" aria-haspopup="true" aria-labelledby="'+n.id+'_text" aria-describedby="'+n.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+n.id+'" cellpadding="0" cellspacing="0" class="'+u+" "+u+"Enabled"+(r["class"]?" "+r["class"]:"")+'"><tbody><tr>',i+="<td>"+t.createHTML("span",{id:n.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},n.settings.title),i+=t.createHTML("a",{id:n.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},t.encode(n.settings.title))+"<\/td>",i+="<td>"+t.createHTML("a",{id:n.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼<\/span><\/span>')+"<\/td>",i+"<\/tr><\/tbody><\/table><\/span>"},showMenu:function(){var u=this,s,e,o=t.get(this.id),f;if(!u.isDisabled()&&u.items.length!=0){if(u.menu&&u.menu.isMenuVisible)return u.hideMenu();u.isMenuRendered||(u.renderMenu(),u.isMenuRendered=!0);s=t.getPos(this.settings.menu_container);e=t.getPos(o);f=u.menu;f.settings.offset_x=e.x;f.settings.offset_y=e.y;f.settings.keyboard_focus=!n.isOpera;u.oldID&&f.items[u.oldID].setSelected(0);r(u.items,function(n){n.value===u.selectedValue&&(f.items[n.id].setSelected(1),u.oldID=n.id)});f.showMenu(0,o.clientHeight);i.add(t.doc,"mousedown",u.hideMenu,u);t.addClass(u.id,u.classPrefix+"Selected")}},hideMenu:function(n){var r=this;if(r.menu&&r.menu.isMenuVisible){if(t.removeClass(r.id,r.classPrefix+"Selected"),n&&n.type=="mousedown"&&(n.target.id==r.id+"_text"||n.target.id==r.id+"_open"))return;n&&t.getParent(n.target,".mceMenu")||(t.removeClass(r.id,r.classPrefix+"Selected"),i.remove(t.doc,"mousedown",r.hideMenu,r),r.menu.hideMenu())}},renderMenu:function(){var n=this,i;i=n.settings.control_manager.createDropMenu(n.id+"_menu",{menu_line:1,"class":n.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150});i.onHideMenu.add(function(){n.hideMenu();n.focus()});i.add({title:n.settings.title,"class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}});r(n.items,function(r){r.value===undefined?i.add({title:r.title,"class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}):(r.id=t.uniqueId(),r.onclick=function(){n.settings.onselect(r.value)!==!1&&n.select(r.value)},i.add(r))});n.onRenderMenu.dispatch(n,i);n.menu=i},postRender:function(){var r=this,u=r.classPrefix;i.add(r.id,"click",r.showMenu,r);i.add(r.id,"keydown",function(n){n.keyCode==32&&(r.showMenu(n),i.cancel(n))});i.add(r.id,"focus",function(){r._focused||(r.keyDownHandler=i.add(r.id,"keydown",function(n){n.keyCode==40&&(r.showMenu(),i.cancel(n))}),r.keyPressHandler=i.add(r.id,"keypress",function(n){var t;if(n.keyCode==13){t=r.selectedValue;r.selectedValue=null;i.cancel(n);r.settings.onselect(t)}}));r._focused=1});i.add(r.id,"blur",function(){i.remove(r.id,"keydown",r.keyDownHandler);i.remove(r.id,"keypress",r.keyPressHandler);r._focused=0});(n.isIE6||!t.boxModel)&&(i.add(r.id,"mouseover",function(){t.hasClass(r.id,u+"Disabled")||t.addClass(r.id,u+"Hover")}),i.add(r.id,"mouseout",function(){t.hasClass(r.id,u+"Disabled")||t.removeClass(r.id,u+"Hover")}));r.onPostRender.dispatch(r,t.get(r.id))},destroy:function(){this.parent();i.clear(this.id+"_text");i.clear(this.id+"_open")}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.each,u=n.util.Dispatcher;n.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(n,t){this.parent(n,t);this.classPrefix="mceNativeListBox"},setDisabled:function(n){t.get(this.id).disabled=n;this.setAriaProperty("disabled",n)},isDisabled:function(){return t.get(this.id).disabled},select:function(n){var t=this,i,u;if(n==undefined)return t.selectByIndex(-1);u=n&&n.call?n:function(t){return t==n};n!=t.selectedValue&&(r(t.items,function(n,r){if(u(n.value))return i=1,t.selectByIndex(r),!1}),i||t.selectByIndex(-1))},selectByIndex:function(n){t.get(this.id).selectedIndex=n+1;this.selectedValue=this.items[n]?this.items[n].value:null},add:function(n,i,r){var f,u=this;r=r||{};r.value=i;u.isRendered()&&t.add(t.get(this.id),"option",r,n);f={title:n,value:i,attribs:r};u.items.push(f);u.onAdd.dispatch(u,f)},getLength:function(){return this.items.length},renderHTML:function(){var i,n=this;return i=t.createHTML("option",{value:""},"-- "+n.settings.title+" --"),r(n.items,function(n){i+=t.createHTML("option",{value:n.value},n.title)}),i=t.createHTML("select",{id:n.id,"class":"mceNativeListBox","aria-labelledby":n.id+"_aria"},i),i+=t.createHTML("span",{id:n.id+"_aria",style:"display: none"},n.settings.title)},postRender:function(){function u(t){var i=n.items[t.target.selectedIndex-1];if(i&&(i=i.value)&&(n.onChange.dispatch(n,i),n.settings.onselect))n.settings.onselect(i)}var n=this,f,r=!0;n.rendered=!0;i.add(n.id,"change",u);i.add(n.id,"keydown",function(t){var e;return i.remove(n.id,"change",f),r=!1,e=i.add(n.id,"blur",function(){r||(r=!0,i.add(n.id,"change",u),i.remove(n.id,"blur",e))}),t.keyCode==13||t.keyCode==32?(u(t),i.cancel(t)):void 0});n.onPostRender.dispatch(n,t.get(n.id))}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.each;n.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(i,r,u){this.parent(i,r,u);this.onRenderMenu=new n.util.Dispatcher(this);r.menu_container=r.menu_container||t.doc.body},showMenu:function(){var n=this,e,u,f=t.get(n.id),r;if(!n.isDisabled()){if(n.isMenuRendered||(n.renderMenu(),n.isMenuRendered=!0),n.isMenuVisible)return n.hideMenu();e=t.getPos(n.settings.menu_container);u=t.getPos(f);r=n.menu;r.settings.offset_x=u.x;r.settings.offset_y=u.y;r.settings.vp_offset_x=u.x;r.settings.vp_offset_y=u.y;r.settings.keyboard_focus=n._focused;r.showMenu(0,f.clientHeight);i.add(t.doc,"mousedown",n.hideMenu,n);n.setState("Selected",1);n.isMenuVisible=1}},renderMenu:function(){var n=this,t;t=n.settings.control_manager.createDropMenu(n.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:n.settings.icons});t.onHideMenu.add(function(){n.hideMenu();n.focus()});n.onRenderMenu.dispatch(n,t);n.menu=t},hideMenu:function(n){var r=this;n&&n.type=="mousedown"&&t.getParent(n.target,function(n){return n.id===r.id||n.id===r.id+"_open"})||(n&&t.getParent(n.target,".mceMenu")||(r.setState("Selected",0),i.remove(t.doc,"mousedown",r.hideMenu,r),r.menu&&r.menu.hideMenu()),r.isMenuVisible=0)},postRender:function(){var n=this,t=n.settings;i.add(n.id,"click",function(){if(!n.isDisabled()){if(t.onclick)t.onclick(n.value);n.showMenu()}})}})}(tinymce),function(n){var i=n.DOM,t=n.dom.Event,r=n.each;n.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(n,t,i){this.parent(n,t,i);this.classPrefix="mceSplitButton"},renderHTML:function(){var t,r=this,n=r.settings,u;return t="<tbody><tr>",u=n.image?i.createHTML("img ",{src:n.image,role:"presentation","class":"mceAction "+n["class"]}):i.createHTML("span",{"class":"mceAction "+n["class"]},""),u+=i.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:r.id+"_voice",style:"display:none;"},n.title),t+="<td >"+i.createHTML("a",{role:"button",id:r.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+n["class"],onclick:"return false;",onmousedown:"return false;",title:n.title},u)+"<\/td>",u=i.createHTML("span",{"class":"mceOpen "+n["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼<\/span>'),t+="<td >"+i.createHTML("a",{role:"button",id:r.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+n["class"],onclick:"return false;",onmousedown:"return false;",title:n.title},u)+"<\/td>",t+="<\/tr><\/tbody>",t=i.createHTML("table",{id:r.id,role:"presentation",tabindex:"0","class":"mceSplitButton mceSplitButtonEnabled "+n["class"],cellpadding:"0",cellspacing:"0",title:n.title},t),i.createHTML("span",{role:"button","aria-labelledby":r.id+"_voice","aria-haspopup":"true"},t)},postRender:function(){var r=this,f=r.settings,u;f.onclick&&(u=function(n){if(!r.isDisabled()){f.onclick(r.value);t.cancel(n)}},t.add(r.id+"_action","click",u),t.add(r.id,["click","keydown"],function(n){n.keyCode!==32&&n.keyCode!==13&&n.keyCode!==14||n.altKey||n.ctrlKey||n.metaKey?(n.type==="click"||n.keyCode===40)&&(r.showMenu(),t.cancel(n)):(u(),t.cancel(n))}));t.add(r.id+"_open","click",function(n){r.showMenu();t.cancel(n)});t.add([r.id,r.id+"_open"],"focus",function(){r._focused=1});t.add([r.id,r.id+"_open"],"blur",function(){r._focused=0});(n.isIE6||!i.boxModel)&&(t.add(r.id,"mouseover",function(){i.hasClass(r.id,"mceSplitButtonDisabled")||i.addClass(r.id,"mceSplitButtonHover")}),t.add(r.id,"mouseout",function(){i.hasClass(r.id,"mceSplitButtonDisabled")||i.removeClass(r.id,"mceSplitButtonHover")}))},destroy:function(){this.parent();t.clear(this.id+"_action");t.clear(this.id+"_open");t.clear(this.id)}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,r=n.is,u=n.each;n.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,i,r){var u=this;u.parent(t,i,r);u.settings=i=n.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},u.settings);u.onShowMenu=new n.util.Dispatcher(u);u.onHideMenu=new n.util.Dispatcher(u);u.value=i.default_color},showMenu:function(){var n=this,r,u;if(!n.isDisabled()){if(n.isMenuRendered||(n.renderMenu(),n.isMenuRendered=!0),n.isMenuVisible)return n.hideMenu();r=t.get(n.id);t.show(n.id+"_menu");t.addClass(r,"mceSplitButtonSelected");u=t.getPos(r);t.setStyles(n.id+"_menu",{left:u.x,top:u.y+r.clientHeight,zIndex:2e5});r=0;i.add(t.doc,"mousedown",n.hideMenu,n);n.onShowMenu.dispatch(n);n._focused&&(n._keyHandler=i.add(n.id+"_menu","keydown",function(t){t.keyCode==27&&n.hideMenu()}),t.select("a",n.id+"_menu")[0].focus());n.isMenuVisible=1}},hideMenu:function(n){var r=this;n&&n.type=="mousedown"&&t.getParent(n.target,function(n){return n.id===r.id+"_open"})||(n&&t.getParent(n.target,".mceSplitButtonMenu")||(t.removeClass(r.id,"mceSplitButtonSelected"),i.remove(t.doc,"mousedown",r.hideMenu,r),i.remove(r.id+"_menu","keydown",r._keyHandler),t.hide(r.id+"_menu")),r.onHideMenu.dispatch(r),r.isMenuVisible=0,r.editor.focus())},renderMenu:function(){var o=this,s,c=0,e=o.settings,f,h,v,l,a;return l=t.add(e.menu_container,"div",{role:"listbox",id:o.id+"_menu","class":e.menu_class+" "+e["class"],style:"position:absolute;left:0;top:-1000px;"}),s=t.add(l,"div",{"class":e["class"]+" mceSplitButtonMenu"}),t.add(s,"span",{"class":"mceMenuLine"}),f=t.add(s,"table",{role:"presentation","class":"mceColorSplitMenu"}),h=t.add(f,"tbody"),c=0,u(r(e.colors,"array")?e.colors:e.colors.split(","),function(n){n=n.replace(/^#/,"");c--||(v=t.add(h,"tr"),c=e.grid_width-1);f=t.add(v,"td");f=t.add(f,"a",{role:"option",href:"javascript:;",style:{backgroundColor:"#"+n},title:o.editor.getLang("colors."+n,n),"data-mce-color":"#"+n});o.editor.forcedHighContrastMode&&(f=t.add(f,"canvas",{width:16,height:16,"aria-hidden":"true"}),f.getContext&&(a=f.getContext("2d"))?(a.fillStyle="#"+n,a.fillRect(0,0,16,16)):t.remove(f))}),e.more_colors_func&&(f=t.add(h,"tr"),f=t.add(f,"td",{colspan:e.grid_width,"class":"mceMoreColors"}),f=t.add(f,"a",{role:"option",id:o.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},e.more_colors_title),i.add(f,"click",function(n){return e.more_colors_func.call(e.more_colors_scope||this),i.cancel(n)})),t.addClass(s,"mceColorSplitMenu"),new n.ui.KeyboardNavigation({root:o.id+"_menu",items:t.select("a",o.id+"_menu"),onCancel:function(){o.hideMenu();o.focus()}}),i.add(o.id+"_menu","mousedown",function(n){return i.cancel(n)}),i.add(o.id+"_menu","click",function(n){var r;return n=t.getParent(n.target,"a",h),n&&n.nodeName.toLowerCase()=="a"&&(r=n.getAttribute("data-mce-color"))&&o.setColor(r),i.cancel(n)}),l},setColor:function(n){this.displayColor(n);this.hideMenu();this.settings.onselect(n)},displayColor:function(n){var i=this;t.setStyle(i.id+"_preview","backgroundColor",n);i.value=n},postRender:function(){var n=this,i=n.id;n.parent();t.add(i+"_action","div",{id:i+"_preview","class":"mceColorPreview"});t.setStyle(n.id+"_preview","backgroundColor",n.value)},destroy:function(){this.parent();i.clear(this.id+"_menu");i.clear(this.id+"_more");t.remove(this.id+"_menu")}})}(tinymce),function(n){var i=n.DOM,t=n.each,r=n.dom.Event;n.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var r=this,t=[],u=r.controls,f=n.each,e=r.settings;return t.push('<div id="'+r.id+'" role="group" aria-labelledby="'+r.id+'_voice">'),t.push("<span role='application'>"),t.push('<span id="'+r.id+'_voice" class="mceVoiceLabel" style="display:none;">'+i.encode(e.name)+"<\/span>"),f(u,function(n){t.push(n.renderHTML())}),t.push("<\/span>"),t.push("<\/div>"),t.join("")},focus:function(){this.keyNav.focus()},postRender:function(){var i=this,r=[];t(i.controls,function(n){t(n.controls,function(n){n.id&&r.push(n)})});i.keyNav=new n.ui.KeyboardNavigation({root:i.id,items:r,onCancel:function(){i.editor.focus()},excludeFromTabOrder:!i.settings.tab_focus_toolbar})},destroy:function(){var n=this;n.parent();n.keyNav.destroy();r.clear(n.id)}})}(tinymce),function(n){var t=n.DOM,i=n.each;n.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){for(var e=this,u="",i,n,h=e.settings,o,s,f=e.controls,r=0;r<f.length;r++)n=f[r],o=f[r-1],s=f[r+1],r===0&&(i="mceToolbarStart",n.Button?i+=" mceToolbarStartButton":n.SplitButton?i+=" mceToolbarStartSplitButton":n.ListBox&&(i+=" mceToolbarStartListBox"),u+=t.createHTML("td",{"class":i},t.createHTML("span",null,"<!-- IE -->"))),o&&n.ListBox&&(o.Button||o.SplitButton)&&(u+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),u+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"<\/td>":"<td>"+n.renderHTML()+"<\/td>",s&&n.ListBox&&(s.Button||s.SplitButton)&&(u+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return i="mceToolbarEnd",n.Button?i+=" mceToolbarEndButton":n.SplitButton?i+=" mceToolbarEndSplitButton":n.ListBox&&(i+=" mceToolbarEndListBox"),u+=t.createHTML("td",{"class":i},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:e.id,"class":"mceToolbar"+(h["class"]?" "+h["class"]:""),cellpadding:"0",cellspacing:"0",align:e.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+u+"<\/tr><\/tbody>")}})}(tinymce),function(n){var t=n.util.Dispatcher,i=n.each;n.create("tinymce.AddOnManager",{AddOnManager:function(){var n=this;n.items=[];n.urls={};n.lookup={};n.onAdd=new t(n)},get:function(n){return this.lookup[n]},requireLangPack:function(t){var i=n.settings;i&&i.language&&i.language_load!==!1&&n.ScriptLoader.add(this.urls[t]+"/langs/"+i.language+".js")},add:function(n,t){return this.items.push(t),this.lookup[n]=t,this.onAdd.dispatch(this,n,t),t},load:function(t,i,r,u){var f=this;f.urls[t]||(i.indexOf("/")!=0&&i.indexOf("://")==-1&&(i=n.baseURL+"/"+i),f.urls[t]=i.substring(0,i.lastIndexOf("/")),f.lookup[t]||n.ScriptLoader.add(i,r,u))}});n.PluginManager=new n.AddOnManager;n.ThemeManager=new n.AddOnManager}(tinymce),function(n){var t=n.each,u=n.extend,i=n.DOM,f=n.dom.Event,h=n.ThemeManager,c=n.PluginManager,e=n.explode,r=n.util.Dispatcher,o,s=0;n.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(n.documentBaseURL)||(n.documentBaseURL+="/");n.baseURL=new n.util.URI(n.documentBaseURL).toAbsolute(n.baseURL);n.baseURI=new n.util.URI(n.baseURL);n.onBeforeUnload=new r(n);f.add(window,"beforeunload",function(t){n.onBeforeUnload.dispatch(n,t)});n.onAddEditor=new r(n);n.onRemoveEditor=new r(n);n.EditorManager=u(n,{editors:[],i18n:{},activeEditor:null,init:function(r){function c(t,i,r){var u=t[i];if(u)return n.is(u,"string")&&(r=u.replace(/\.\w+$/,""),r=r?n.resolve(r):0,u=n.resolve(u)),u.apply(r||this,Array.prototype.slice.call(arguments,2))}var l=this,v=n.ScriptLoader,a,h=[],o;r=u({theme:"simple",language:"en"},r);l.settings=r;f.add(document,"init",function(){var u,f;c(r,"onpageload");switch(r.mode){case"exact":u=r.elements||"";u.length>0&&t(e(u),function(u){i.get(u)?(o=new n.Editor(u,r),h.push(o),o.render(1)):t(document.forms,function(f){t(f.elements,function(t){t.name===u&&(u="mce_editor_"+s++,i.setAttrib(t,"id",u),o=new n.Editor(u,r),h.push(o),o.render(1))})})});break;case"textareas":case"specific_textareas":function v(n,t){return t.constructor===RegExp?t.test(n.className):i.hasClass(n,t)}t(i.select("textarea"),function(t){r.editor_deselector&&v(t,r.editor_deselector)||(!r.editor_selector||v(t,r.editor_selector))&&(a=i.get(t.name),t.id||a||(t.id=t.name),(!t.id||l.get(t.id))&&(t.id=i.uniqueId()),o=new n.Editor(t.id,r),h.push(o),o.render(1))})}r.oninit&&(u=f=0,t(h,function(n){f++;n.initialized?u++:n.onInit.add(function(){u++;u==f&&c(r,"oninit")});u==f&&c(r,"oninit")}))})},get:function(n){return n===o?this.editors:this.editors[n]},getInstanceById:function(n){return this.get(n)},add:function(t){var i=this,r=i.editors;return r[t.id]=t,r.push(t),i._setActive(t),i.onAddEditor.dispatch(i,t),n.adapter&&n.adapter.patchEditor(t),t},remove:function(n){var i=this,r,t=i.editors;if(!t[n.id])return null;for(delete t[n.id],r=0;r<t.length;r++)if(t[r]==n){t.splice(r,1);break}return i.activeEditor==n&&i._setActive(t[0]),n.destroy(),i.onRemoveEditor.dispatch(i,n),n},execCommand:function(t,i,r){var e=this,u=e.get(r),f;switch(t){case"mceFocus":return u.focus(),!0;case"mceAddEditor":case"mceAddControl":return e.get(r)||new n.Editor(r,e.settings).render(),!0;case"mceAddFrameControl":if(f=r.window,f.tinyMCE=tinyMCE,f.tinymce=n,n.DOM.doc=f.document,n.DOM.win=f,u=new n.Editor(r.element_id,r),u.render(),n.isIE){function o(){u.destroy();f.detachEvent("onunload",o);f=f.tinyMCE=f.tinymce=null}f.attachEvent("onunload",o)}return r.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return u&&u.remove(),!0;case"mceToggleEditor":return u?(u.isHidden()?u.show():u.hide(),!0):(e.execCommand("mceAddControl",0,r),!0)}return e.activeEditor?e.activeEditor.execCommand(t,i,r):!1},execInstanceCommand:function(n,t,i,r){var u=this.get(n);return u?u.execCommand(t,i,r):!1},triggerSave:function(){t(this.editors,function(n){n.save()})},addI18n:function(i,r){var u=this.i18n;n.is(i,"string")?t(r,function(n,t){u[i+"."+t]=n}):t(i,function(n,i){t(n,function(n,r){t(n,function(n,t){r==="common"?u[i+"."+t]=n:u[i+"."+r+"."+t]=n})})})},_setActive:function(n){this.selectedInstance=this.activeEditor=n}})}(tinymce),function(n){var t=n.DOM,i=n.dom.Event,c=n.extend,l=n.util.Dispatcher,r=n.each,e=n.isGecko,f=n.isIE,a=n.isWebKit,u=n.is,s=n.ThemeManager,h=n.PluginManager,v=n.inArray,y=n.grep,o=n.explode;n.create("tinymce.Editor",{Editor:function(t,i){var u=this;u.id=u.editorId=t;u.execCommands={};u.queryStateCommands={};u.queryValueCommands={};u.isNotDirty=!1;u.plugins={};r(["onPreInit","onBeforeRenderUI","onPostRender","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState"],function(n){u[n]=new l(u)});u.settings=i=c({id:t,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:n.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:n.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",validate:!0,entity_encoding:"named",url_converter:u.convertURL,url_converter_scope:u,ie7_compat:!0},i);u.documentBaseURI=new n.util.URI(i.document_base_url||n.documentBaseURL,{base_uri:tinyMCE.baseURI});u.baseURI=n.baseURI;u.contentCSS=[];u.execCallback("setup",u)},render:function(){function l(){f.language&&f.language_load!==!1&&c.add(n.baseURL+"/langs/"+f.language+".js");f.theme&&f.theme.charAt(0)!="-"&&!s.urls[f.theme]&&s.load(f.theme,"themes/"+f.theme+"/editor_template"+n.suffix+".js");r(o(f.plugins),function(t){if(t&&t.charAt(0)!="-"&&!h.urls[t]){if(t=="safari")return;h.load(t,"plugins/"+t+"/editor_plugin"+n.suffix+".js")}});c.loadQueue(function(){u.removed||u.init()})}var u=this,f=u.settings,e=u.id,c=n.ScriptLoader;if(!i.domLoaded){i.add(document,"init",function(){u.render()});return}(tinyMCE.settings=f,u.getElement())&&(n.isIDevice||(!/TEXTAREA|INPUT/i.test(u.getElement().nodeName)&&f.hidden_input&&t.getParent(e,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:e}),e),n.WindowManager&&(u.windowManager=new n.WindowManager(u)),f.encoding=="xml"&&u.onGetContent.add(function(n,i){i.save&&(i.content=t.encode(i.content))}),f.add_form_submit_trigger&&u.onSubmit.addToTop(function(){u.initialized&&(u.save(),u.isNotDirty=1)}),f.add_unload_trigger&&(u._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!u.initialized||u.destroyed||u.isHidden()||u.save({format:"raw",no_events:!0})})),n.addUnload(u.destroy,u),f.submit_patch&&u.onBeforeRenderUI.add(function(){var t=u.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(u.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return n.triggerSave(),u.isNotDirty=1,u.formElement._mceOldSubmit(u.formElement)}),t=null))}),l()))},init:function(){var g,i=this,u=i.settings,y,l,a=i.getElement(),c,b,v,p,k,w;if(n.add(i),u.aria_label=u.aria_label||t.getAttrib(a,"aria-label",i.getLang("aria.rich_text_area")),u.theme&&(u.theme=u.theme.replace(/-/,""),c=s.get(u.theme),i.theme=new c,i.theme.init&&u.init_theme&&i.theme.init(i,s.urls[u.theme]||n.documentBaseURL.replace(/\/$/,""))),r(o(u.plugins.replace(/\-/g,"")),function(t){var u=h.get(t),f=h.urls[t]||n.documentBaseURL.replace(/\/$/,""),r;u&&(r=new u(i,f),i.plugins[t]=r,r.init&&r.init(i,f))}),u.popup_css!==!1&&(u.popup_css=u.popup_css?i.documentBaseURI.toAbsolute(u.popup_css):i.baseURI.toAbsolute("themes/"+u.theme+"/skins/"+u.skin+"/dialog.css")),u.popup_css_add&&(u.popup_css+=","+i.documentBaseURI.toAbsolute(u.popup_css_add)),i.controlManager=new n.ControlManager(i),u.custom_undo_redo&&(i.onBeforeExecCommand.add(function(n,t,r,u,f){t=="Undo"||t=="Redo"||t=="mceRepaint"||f&&f.skip_undo||i.undoManager.beforeChange()}),i.onExecCommand.add(function(n,t,r,u,f){t=="Undo"||t=="Redo"||t=="mceRepaint"||f&&f.skip_undo||i.undoManager.add()})),i.onExecCommand.add(function(n,t){/^(FontName|FontSize)$/.test(t)||i.nodeChanged()}),e){function d(n,t){t&&t.initial||i.execCommand("mceRepaint")}i.onUndo.add(d);i.onRedo.add(d);i.onSetContent.add(d)}if(i.onBeforeRenderUI.dispatch(i,i.controlManager),u.render_ui&&(y=u.width||a.style.width||a.offsetWidth,l=u.height||a.style.height||a.offsetHeight,i.orgDisplay=a.style.display,k=/^[0-9\.]+(|px)$/i,k.test(""+y)&&(y=Math.max(parseInt(y)+(c.deltaWidth||0),100)),k.test(""+l)&&(l=Math.max(parseInt(l)+(c.deltaHeight||0),100)),c=i.theme.renderUI({targetNode:a,width:y,height:l,deltaWidth:u.delta_width,deltaHeight:u.delta_height}),i.editorContainer=c.editorContainer),document.domain&&location.hostname!=document.domain&&(n.relaxedDomain=document.domain),t.setStyles(c.sizeContainer||c.editorContainer,{width:y,height:l}),u.content_css&&n.each(o(u.content_css),function(n){i.contentCSS.push(i.documentBaseURI.toAbsolute(n))}),l=(c.iframeHeight||l)+(typeof l=="number"?c.deltaHeight||0:""),l<100&&(l=100),i.iframeHTML=u.doctype+'<html><head xmlns="http://www.w3.org/1999/xhtml">',u.document_base_url!=n.documentBaseURL&&(i.iframeHTML+='<base href="'+i.documentBaseURI.getURI()+'" />'),i.iframeHTML+=u.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />',i.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!e||!/Firefox\/2/.test(navigator.userAgent)){for(w=0;w<i.contentCSS.length;w++)i.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+i.contentCSS[w]+'" />';i.contentCSS=[]}v=u.body_id||"tinymce";v.indexOf("=")!=-1&&(v=i.getParam("body_id","","hash"),v=v[i.id]||v);p=u.body_class||"";p.indexOf("=")!=-1&&(p=i.getParam("body_class","","hash"),p=p[i.id]||"");i.iframeHTML+='<\/head><body id="'+v+'" class="mceContentBody '+p+'"><\/body><\/html>';n.relaxedDomain&&(f||n.isOpera&&parseFloat(opera.version())<11)&&(b='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+i.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()');g=t.add(c.iframeContainer,"iframe",{id:i.id+"_ifr",src:b||'javascript:""',frameBorder:"0",title:u.aria_label,style:{width:"100%",height:l}});i.contentAreaContainer=c.iframeContainer;t.get(c.editorContainer).style.display=i.orgDisplay;t.get(i.id).style.display="none";t.setAttrib(i.id,"aria-hidden",!0);n.relaxedDomain&&b||i.setupIframe();a=g=c=null},setupIframe:function(){var u=this,o=u.settings,l=t.get(u.id),s=u.getDoc(),h;if(f&&n.relaxedDomain||(s.open(),s.write(u.iframeHTML),s.close(),n.relaxedDomain&&(s.domain=n.relaxedDomain)),!f)try{o.readonly||(s.designMode="On")}catch(a){}if(f&&(h=u.getBody(),t.hide(h),o.readonly||(h.contentEditable=!0),t.show(h)),u.schema=new n.html.Schema(o),u.dom=new n.dom.DOMUtils(u.getDoc(),{keep_values:!0,url_converter:u.convertURL,url_converter_scope:u,hex_colors:o.force_hex_style_colors,class_filter:o.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:u.schema}),u.parser=new n.html.DomParser(o,u.schema),u.parser.addAttributeFilter("name",function(n){for(var r=n.length,i,u,f,t;r--;)if(t=n[r],t.name==="a"&&t.firstChild){f=t.parent;i=t.lastChild;do u=i.prev,f.insert(i,t),i=u;while(i)}}),u.parser.addAttributeFilter("src,href,style",function(n,t){for(var f=n.length,i,e=u.dom,r;f--;)i=n[f],r=i.attr(t),t==="style"?i.attr("data-mce-style",e.serializeStyle(e.parseStyle(r),i.name)):i.attr("data-mce-"+t,u.convertURL(r,t,i.name))}),u.parser.addNodeFilter("script",function(n){for(var t=n.length;t--;)n[t].attr("type","mce-text/javascript")}),u.parser.addNodeFilter("#cdata",function(n){for(var i=n.length,t;i--;)t=n[i],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),u.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var r=t.length,i,f=u.schema.getNonEmptyElements();r--;)i=t[r],i.isEmpty(f)&&(i.empty().append(new n.html.Node("br",1)).shortEnded=!0)}),u.serializer=new n.dom.Serializer(o,u.dom,u.schema),u.selection=new n.dom.Selection(u.dom,u.getWin(),u.serializer),u.formatter=new n.Formatter(this),u.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",collapsed:!1,styles:{float:"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",collapsed:!1,styles:{float:"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),r("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(n){u.formatter.register(n,{block:n,remove:"all"})}),u.formatter.register(u.settings.formats),u.undoManager=new n.UndoManager(u),u.undoManager.onAdd.add(function(n,t){if(n.hasUndo())return u.onChange.dispatch(u,t,n)}),u.undoManager.onUndo.add(function(n,t){return u.onUndo.dispatch(u,t,n)}),u.undoManager.onRedo.add(function(n,t){return u.onRedo.dispatch(u,t,n)}),u.forceBlocks=new n.ForceBlocks(u,{forced_root_block:o.forced_root_block}),u.editorCommands=new n.EditorCommands(u),u.serializer.onPreProcess.add(function(n,t){return u.onPreProcess.dispatch(u,t,n)}),u.serializer.onPostProcess.add(function(n,t){return u.onPostProcess.dispatch(u,t,n)}),u.onPreInit.dispatch(u),o.gecko_spellcheck||(u.getBody().spellcheck=0),o.readonly||u._addEvents(),u.controlManager.onPostRender.dispatch(u,u.controlManager),u.onPostRender.dispatch(u),o.directionality&&(u.getBody().dir=o.directionality),o.nowrap&&(u.getBody().style.whiteSpace="nowrap"),o.handle_node_change_callback&&u.onNodeChange.add(function(n,t,i){u.execCallback("handle_node_change_callback",u.id,i,-1,-1,!0,u.selection.isCollapsed())}),o.save_callback&&u.onSaveContent.add(function(n,t){var i=u.execCallback("save_callback",u.id,t.content,u.getBody());i&&(t.content=i)}),o.onchange_callback&&u.onChange.add(function(n,t){u.execCallback("onchange_callback",u,t)}),o.protect&&u.onBeforeSetContent.add(function(n,t){o.protect&&r(o.protect,function(n){t.content=t.content.replace(n,function(n){return"<!--mce:protected "+escape(n)+"-->"})})}),o.convert_newlines_to_brs&&u.onBeforeSetContent.add(function(n,t){t.initial&&(t.content=t.content.replace(/\r?\n/g,"<br />"))}),o.preformatted&&u.onPostProcess.add(function(n,t){t.content=t.content.replace(/^\s*<pre.*?>/,"");t.content=t.content.replace(/<\/pre>\s*$/,"");t.set&&(t.content='<pre class="mceItemHidden">'+t.content+"<\/pre>")}),o.verify_css_classes&&(u.serializer.attribValueFilter=function(n,t){var i,f;return n=="class"?(u.classesRE||(f=u.dom.getClasses(),f.length>0&&(i="",r(f,function(n){i+=(i?"|":"")+n["class"]}),u.classesRE=new RegExp("("+i+")","gi"))),!u.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(t)||u.classesRE.test(t)?t:""):t}),o.cleanup_callback&&(u.onBeforeSetContent.add(function(n,t){t.content=u.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),u.onPreProcess.add(function(n,t){t.set&&u.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t);t.get&&u.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),u.onPostProcess.add(function(n,t){t.set&&(t.content=u.execCallback("cleanup_callback","insert_to_editor",t.content,t));t.get&&(t.content=u.execCallback("cleanup_callback","get_from_editor",t.content,t))})),o.save_callback&&u.onGetContent.add(function(n,t){t.save&&(t.content=u.execCallback("save_callback",u.id,t.content,u.getBody()))}),o.handle_event_callback&&u.onEvent.add(function(n,t,r){u.execCallback("handle_event_callback",t,n,r)===!1&&i.cancel(t)}),u.onSetContent.add(function(){u.addVisual(u.getBody())}),o.padd_empty_editor&&u.onPostProcess.add(function(n,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),e){function c(n){r(n.dom.select("a"),function(t){var i=t.parentNode;n.dom.isBlock(i)&&i.lastChild===t&&n.dom.add(i,"br",{"data-mce-bogus":1})})}if(u.onExecCommand.add(function(n,t){t==="CreateLink"&&c(n)}),u.onSetContent.add(u.selection.onSetContent.add(c)),!o.readonly)try{s.designMode="Off";s.designMode="On"}catch(a){}}setTimeout(function(){u.removed||(u.load({initial:!0,format:"html"}),u.startContent=u.getContent({format:"raw"}),u.undoManager.add(),u.initialized=!0,u.onInit.dispatch(u),u.execCallback("setupcontent_callback",u.id,u.getBody(),u.getDoc()),u.execCallback("init_instance_callback",u),u.focus(!0),u.nodeChanged({initial:1}),r(u.contentCSS,function(n){u.dom.loadCSS(n)}),o.auto_focus&&setTimeout(function(){var t=n.get(o.auto_focus);t.selection.select(t.getBody(),1);t.selection.collapse(1);t.getWin().focus()},100))},1);l=null},focus:function(t){var u,i=this,o=i.settings.content_editable,r,f,e=i.getDoc();t||(r=i.selection.getRng(),r.item&&(f=r.item(0)),o||i.getWin().focus(),f&&f.ownerDocument==e&&(r=e.body.createControlRange(),r.addElement(f),r.select()));n.activeEditor!=i&&((u=n.activeEditor)!=null&&u.onDeactivate.dispatch(u,i),i.onActivate.dispatch(i,u));n._setActive(i)},execCallback:function(t){var f=this,r=f.settings[t],i;if(r)return f.callbackLookup&&(i=f.callbackLookup[t])&&(r=i.func,i=i.scope),u(r,"string")&&(i=r.replace(/\.\w+$/,""),i=i?n.resolve(i):0,r=n.resolve(r),f.callbackLookup=f.callbackLookup||{},f.callbackLookup[t]={func:r,scope:i}),r.apply(i||f,Array.prototype.slice.call(arguments,1))},translate:function(t){var i=this.settings.language||"en",r=n.i18n;return t?r[i+"."+t]||t.replace(/{\#([^}]+)\}/g,function(n,t){return r[i+"."+t]||"{#"+t+"}"}):""},getLang:function(t,i){return n.i18n[(this.settings.language||"en")+"."+t]||(u(i)?i:"{#"+t+"}")},getParam:function(t,i,f){var s=n.trim,e=u(this.settings[t])?this.settings[t]:i,o;return f==="hash"?(o={},u(e,"string")?r(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(n){n=n.split("=");o[s(n[0])]=n.length>1?s(n[1]):s(n)}):o=e,o):e},nodeChanged:function(n){var t=this,r=t.selection,i=r.getStart()||t.getBody();t.initialized&&(n=n||{},i=f&&i.ownerDocument!=t.getDoc()?t.getBody():i,n.parents=[],t.dom.getParent(i,function(t){if(t.nodeName=="BODY")return!0;n.parents.push(t)}),t.onNodeChange.dispatch(t,n?n.controlManager||t.controlManager:t.controlManager,i,r.isCollapsed(),n))},addButton:function(n,t){var i=this;i.buttons=i.buttons||{};i.buttons[n]=t},addCommand:function(n,t,i){this.execCommands[n]={func:t,scope:i||this}},addQueryStateHandler:function(n,t,i){this.queryStateCommands[n]={func:t,scope:i||this}},addQueryValueHandler:function(n,t,i){this.queryValueCommands[n]={func:t,scope:i||this}},addShortcut:function(n,t,i,f){var e=this,s;return e.settings.custom_shortcuts?(e.shortcuts=e.shortcuts||{},u(i,"string")&&(s=i,i=function(){e.execCommand(s,!1,null)}),u(i,"object")&&(s=i,i=function(){e.execCommand(s[0],s[1],s[2])}),r(o(n),function(n){var u={func:i,scope:f||this,desc:t,alt:!1,ctrl:!1,shift:!1};r(o(n,"+"),function(n){switch(n){case"alt":case"ctrl":case"shift":u[n]=!0;break;default:u.charCode=n.charCodeAt(0);u.keyCode=n.toUpperCase().charCodeAt(0)}});e.shortcuts[(u.ctrl?"ctrl":"")+","+(u.alt?"alt":"")+","+(u.shift?"shift":"")+","+u.keyCode]=u}),!0):!1},execCommand:function(n,t,i,u){var f=this,s=0,e,o;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(n)||u&&u.skip_focus||f.focus(),e={},f.onBeforeExecCommand.dispatch(f,n,t,i,e),e.terminate)return!1;if(f.execCallback("execcommand_callback",f.id,f.selection.getNode(),n,t,i))return f.onExecCommand.dispatch(f,n,t,i,u),!0;if((e=f.execCommands[n])&&(o=e.func.call(e.scope,t,i),o!==!0))return f.onExecCommand.dispatch(f,n,t,i,u),o;if(r(f.plugins,function(r){if(r.execCommand&&r.execCommand(n,t,i))return f.onExecCommand.dispatch(f,n,t,i,u),s=1,!1}),s)return!0;if(f.theme&&f.theme.execCommand&&f.theme.execCommand(n,t,i)||f.editorCommands.execCommand(n,t,i))return f.onExecCommand.dispatch(f,n,t,i,u),!0;f.getDoc().execCommand(n,t,i);f.onExecCommand.dispatch(f,n,t,i,u)},queryCommandState:function(n){var i=this,t,r;if(!i._isHidden()){if((t=i.queryStateCommands[n])&&(r=t.func.call(t.scope),r!==!0))return r;if(t=i.editorCommands.queryCommandState(n),t!==-1)return t;try{return this.getDoc().queryCommandState(n)}catch(u){}}},queryCommandValue:function(n){var i=this,t,r;if(!i._isHidden()){if((t=i.queryValueCommands[n])&&(r=t.func.call(t.scope),r!==!0))return r;if(t=i.editorCommands.queryCommandValue(n),u(t))return t;try{return this.getDoc().queryCommandValue(n)}catch(f){}}},show:function(){var n=this;t.show(n.getContainer());t.hide(n.id);n.load()},hide:function(){var n=this,i=n.getDoc();f&&i&&i.execCommand("SelectAll");n.save();t.hide(n.getContainer());t.setStyle(n.id,"display",n.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(n,t,i){return this.onSetProgressState.dispatch(this,n,t,i),n},load:function(n){var i=this,t=i.getElement(),r;if(t)return n=n||{},n.load=!0,r=i.setContent(u(t.value)?t.value:t.innerHTML,n),n.element=t,n.no_events||i.onLoadContent.dispatch(i,n),n.element=t=null,r},save:function(n){var i=this,u=i.getElement(),f,e;if(u&&i.initialized)return n=n||{},n.save=!0,n.no_events||(i.undoManager.typing=!1,i.undoManager.add()),n.element=u,f=n.content=i.getContent(n),n.no_events||i.onSaveContent.dispatch(i,n),f=n.content,/TEXTAREA|INPUT/i.test(u.nodeName)?u.value=f:(u.innerHTML=f,(e=t.getParent(i.id,"form"))&&r(e.elements,function(n){if(n.name==i.id)return n.value=f,!1})),n.element=u=null,f},setContent:function(t,i){var r=this,u=r.getBody();if(i=i||{},i.format=i.format||"html",i.set=!0,i.content=t,i.no_events||r.onBeforeSetContent.dispatch(r,i),t=i.content,!n.isIE&&(t.length===0||/^\s+$/.test(t))){u.innerHTML='<br data-mce-bogus="1" />';return}return i.format!=="raw"&&(t=new n.html.Serializer({},r.schema).serialize(r.parser.parse(t))),i.content=n.trim(t),r.dom.setHTML(u,i.content),i.no_events||r.onSetContent.dispatch(r,i),i.content},getContent:function(t){var i=this,r;return t=t||{},t.format=t.format||"html",t.get=!0,t.no_events||i.onBeforeGetContent.dispatch(i,t),r=t.format=="raw"?i.getBody().innerHTML:i.serializer.serialize(i.getBody(),t),t.content=n.trim(r),t.no_events||i.onGetContent.dispatch(i,t),t.content},isDirty:function(){var t=this;return n.trim(t.startContent)!=n.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var n=this;return n.container||(n.container=t.get(n.editorContainer||n.id+"_parent")),n.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var n=this,i;return n.contentWindow||(i=t.get(n.id+"_ifr"),i&&(n.contentWindow=i.contentWindow)),n.contentWindow},getDoc:function(){var n=this,t;return n.contentDocument||(t=n.getWin(),t&&(n.contentDocument=t.document)),n.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(n,t,i){var r=this,u=r.settings;return u.urlconverter_callback?r.execCallback("urlconverter_callback",n,i,!0,t):!u.convert_urls||i&&i.nodeName=="LINK"||n.indexOf("file:")===0?n:u.relative_urls?r.documentBaseURI.toRelative(n):r.documentBaseURI.toAbsolute(n,u.remove_script_host)},addVisual:function(n){var t=this,i=t.settings;n=n||t.getBody();u(t.hasVisual)||(t.hasVisual=i.visual);r(t.dom.select("table,a",n),function(n){var r;switch(n.nodeName){case"TABLE":r=t.dom.getAttrib(n,"border");r&&r!="0"||(t.hasVisual?t.dom.addClass(n,i.visual_table_class):t.dom.removeClass(n,i.visual_table_class));return;case"A":r=t.dom.getAttrib(n,"name");r&&(t.hasVisual?t.dom.addClass(n,"mceItemAnchor"):t.dom.removeClass(n,"mceItemAnchor"));return}});t.onVisualAid.dispatch(t,n,t.hasVisual)},remove:function(){var i=this,r=i.getContainer();i.removed=1;i.hide();i.execCallback("remove_instance_callback",i);i.onRemove.dispatch(i);i.onExecCommand.listeners=[];n.remove(i);t.remove(r)},destroy:function(t){var r=this;r.destroyed||(t||(n.removeUnload(r.destroy),tinyMCE.onBeforeUnload.remove(r._beforeUnload),r.theme&&r.theme.destroy&&r.theme.destroy(),r.controlManager.destroy(),r.selection.destroy(),r.dom.destroy(),r.settings.content_editable||(i.clear(r.getWin()),i.clear(r.getDoc())),i.clear(r.getBody()),i.clear(r.formElement)),r.formElement&&(r.formElement.submit=r.formElement._mceOldSubmit,r.formElement._mceOldSubmit=null),r.contentAreaContainer=r.formElement=r.container=r.settings.content_element=r.bodyElement=r.contentDocument=r.contentWindow=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),r.destroyed=1)},_addEvents:function(){function l(n,t){var i=n.type;u.removed||u.onEvent.dispatch(u,n,t)!==!1&&u[v[n.fakeType||n.type]].dispatch(u,n,t)}var u=this,s,h=u.settings,o=u.dom,v={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};if(r(v,function(n,i){switch(i){case"contextmenu":o.bind(u.getDoc(),i,l);break;case"paste":o.bind(u.getBody(),i,function(n){l(n)});break;case"submit":case"reset":o.bind(u.getElement().form||t.getParent(u.id,"form"),i,l);break;default:o.bind(h.content_editable?u.getBody():u.getDoc(),i,l)}}),o.bind(h.content_editable?u.getBody():e?u.getDoc():u.getWin(),"focus",function(){u.focus(!0)}),n.isGecko&&o.bind(u.getDoc(),"DOMNodeInserted",function(n){var t;n=n.target;n.nodeType===1&&n.nodeName==="IMG"&&(t=n.getAttribute("data-mce-src"))&&(n.src=u.documentBaseURI.toAbsolute(t))}),e){function y(){var t=this,n=t.getDoc(),i=t.settings;if(e&&!i.readonly){if(t._isHidden())try{i.content_editable||(n.designMode="On")}catch(r){}try{n.execCommand("styleWithCSS",0,!1)}catch(r){if(!t._isHidden())try{n.execCommand("useCSS",0,!0)}catch(r){}}if(!i.table_inline_editing)try{n.execCommand("enableInlineTableEditing",!1,!1)}catch(r){}if(!i.object_resizing)try{n.execCommand("enableObjectResizing",!1,!1)}catch(r){}}}u.onBeforeExecCommand.add(y);u.onMouseDown.add(y)}if(n.isWebKit&&u.onClick.add(function(n,t){t=t.target;(t.nodeName=="IMG"||t.nodeName=="A"&&o.hasClass(t,"mceItemAnchor"))&&(u.selection.getSel().setBaseAndExtent(t,0,t,1),u.nodeChanged())}),u.onMouseUp.add(u.nodeChanged),u.onKeyUp.add(function(t,i){var r=i.keyCode;(r>=33&&r<=36||r>=37&&r<=40||r==13||r==45||r==46||r==8||n.isMac&&(r==91||r==93)||i.ctrlKey)&&u.nodeChanged()}),u.onReset.add(function(){u.setContent(u.startContent,{format:"raw"})}),h.custom_shortcuts){for(h.custom_undo_redo_keyboard_shortcuts&&(u.addShortcut("ctrl+z",u.getLang("undo_desc"),"Undo"),u.addShortcut("ctrl+y",u.getLang("redo_desc"),"Redo")),u.addShortcut("ctrl+b",u.getLang("bold_desc"),"Bold"),u.addShortcut("ctrl+i",u.getLang("italic_desc"),"Italic"),u.addShortcut("ctrl+u",u.getLang("underline_desc"),"Underline"),s=1;s<=6;s++)u.addShortcut("ctrl+"+s,"",["FormatBlock",!1,"h"+s]);u.addShortcut("ctrl+7","",["FormatBlock",!1,"<p>"]);u.addShortcut("ctrl+8","",["FormatBlock",!1,"<div>"]);u.addShortcut("ctrl+9","",["FormatBlock",!1,"<address>"]);function a(t){var i=null;return!t.altKey&&!t.ctrlKey&&!t.metaKey?i:(r(u.shortcuts,function(r){if(!n.isMac||r.ctrl==t.metaKey)return!n.isMac&&r.ctrl!=t.ctrlKey?void 0:r.alt!=t.altKey?void 0:r.shift!=t.shiftKey?void 0:t.keyCode==r.keyCode||t.charCode&&t.charCode==r.charCode?(i=r,!1):void 0}),i)}u.onKeyUp.add(function(n,t){var r=a(t);if(r)return i.cancel(t)});u.onKeyPress.add(function(n,t){var r=a(t);if(r)return i.cancel(t)});u.onKeyDown.add(function(n,t){var r=a(t);if(r)return r.func.call(r.scope),i.cancel(t)})}if(n.isIE&&(o.bind(u.getDoc(),"controlselect",function(n){var t=u.resizeInfo,r;(n=n.target,n.nodeName==="IMG")&&(t&&o.unbind(t.node,t.ev,t.cb),o.hasClass(n,"mceItemNoResize")?(ev="resizestart",r=o.bind(n,"resizestart",i.cancel,i)):(ev="resizeend",r=o.bind(n,ev,function(n){var t;n=n.target;(t=o.getStyle(n,"width"))&&(o.setAttrib(n,"width",t.replace(/[^0-9%]+/g,"")),o.setStyle(n,"width",""));(t=o.getStyle(n,"height"))&&(o.setAttrib(n,"height",t.replace(/[^0-9%]+/g,"")),o.setStyle(n,"height",""))})),t=u.resizeInfo={node:n,ev:ev,cb:r})}),u.onKeyDown.add(function(n,t){var r;switch(t.keyCode){case 8:if(r=u.getDoc().selection,r.createRange&&r.createRange().item)return n.dom.remove(r.createRange().item(0)),i.cancel(t)}})),n.isOpera&&u.onClick.add(function(n,t){i.prevent(t)}),h.custom_undo_redo){function c(){u.undoManager.typing=!1;u.undoManager.add()}o.bind(u.getDoc(),"focusout",function(){!u.removed&&u.undoManager.typing&&c()});u.dom.bind(u.dom.getRoot(),"dragend",function(){c()});u.onKeyUp.add(function(n,t){var i,r,e;f&&t.keyCode==8&&(i=u.selection.getRng(),i.parentElement&&(r=i.parentElement(),e=u.selection.getBookmark(),r.innerHTML=r.innerHTML,u.selection.moveToBookmark(e)));(t.keyCode>=33&&t.keyCode<=36||t.keyCode>=37&&t.keyCode<=40||t.keyCode==13||t.keyCode==45||t.ctrlKey)&&c()});u.onKeyDown.add(function(t,i){var e,o,s,r=i.keyCode;if(f&&r==46&&(e=u.selection.getRng(),e.parentElement)){if(o=e.parentElement(),u.undoManager.typing||(u.undoManager.beforeChange(),u.undoManager.typing=!0,u.undoManager.add()),i.ctrlKey&&(e.moveEnd("word",1),e.select()),u.selection.getSel().clear(),e.parentElement()==o){s=u.selection.getBookmark();try{o.innerHTML=o.innerHTML}catch(h){}u.selection.moveToBookmark(s)}i.preventDefault();return}if(r>=33&&r<=36||r>=37&&r<=40||r==13||r==45){n.isIE&&r==13&&u.undoManager.beforeChange();u.undoManager.typing&&c();return}(r<16||r>20)&&r!=224&&r!=91&&!u.undoManager.typing&&(u.undoManager.beforeChange(),u.undoManager.add(),u.undoManager.typing=!0)});u.onMouseDown.add(function(){u.undoManager.typing&&c()})}if(n.isGecko){function p(){var n=u.dom.getAttribs(u.selection.getStart().cloneNode(!1));return function(){var t=u.selection.getStart();u.dom.removeAllAttribs(t);r(n,function(n){t.setAttributeNode(n.cloneNode(!0))})}}function w(){var n=u.selection;return!n.isCollapsed()&&n.getStart()!=n.getEnd()}u.onKeyPress.add(function(n,t){var r;if((t.keyCode==8||t.keyCode==46)&&w())return r=p(),u.getDoc().execCommand("delete",!1,null),r(),i.cancel(t)});u.dom.bind(u.getDoc(),"cut",function(){var n;w()&&(n=p(),u.onKeyUp.addToTop(i.cancel,i),setTimeout(function(){n();u.onKeyUp.remove(i.cancel,i)},0))})}},_isHidden:function(){var n;return e?(n=this.selection.getSel(),!n||!n.rangeCount||n.rangeCount==0):0}})}(tinymce),function(n){var r=n.each,u,t=!0,i=!1;n.EditorCommands=function(f){function k(n,r,u){var f;return(n=n.toLowerCase(),f=v.exec[n])?(f(n,r,u),t):i}function c(n){var t;return(n=n.toLowerCase(),t=v.state[n])?t(n):-1}function d(n){var t;return(n=n.toLowerCase(),t=v.value[n])?t(n):i}function l(n,t){t=t||"exec";r(n,function(n,i){r(i.toLowerCase().split(","),function(i){v[t][i]=n})})}function a(n,t,r){return t===u&&(t=i),r===u&&(r=null),f.getDoc().execCommand(n,t,r)}function y(n){return f.formatter.match(n)}function h(n,t){f.formatter.toggle(n,t?{value:t}:u)}function p(n){b=e.getBookmark(n)}function w(){e.moveToBookmark(b)}var o=f.dom,e=f.selection,v={state:{},exec:{},value:{}},s=f.settings,b;n.extend(this,{execCommand:k,queryCommandState:c,queryCommandValue:d,addCommands:l});l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){f.undoManager.add()},"Cut,Copy,Paste":function(i){var u=f.getDoc(),r;try{a(i)}catch(e){r=t}(r||!u.queryCommandSupported(i))&&(n.isGecko?f.windowManager.confirm(f.getLang("clipboard_msg"),function(n){n&&open("http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):f.windowManager.alert(f.getLang("clipboard_no_support")))},unlink:function(n){e.isCollapsed()&&e.select(e.getNode());a(n);e.collapse(i)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(n){var t=n.substring(7);r("left,center,right,full".split(","),function(n){t!=n&&f.formatter.remove("align"+n)});h("align"+t);k("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(n){var t,i;a(n);t=o.getParent(e.getNode(),"ol,ul");t&&(i=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(p(),o.split(i,t),w()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){h(n)},"ForeColor,HiliteColor,FontName":function(n,t,i){h(n,i)},FontSize:function(t,i,r){var u,f;r>=1&&r<=7&&(f=n.explode(s.font_size_style_values),u=n.explode(s.font_size_classes),r=u?u[r-1]||r:f[r-1]||r);h(t,r)},RemoveFormat:function(n){f.formatter.remove(n)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(n,t,i){return h(i||"p")},mceCleanup:function(){var n=e.getBookmark();f.setContent(f.getContent({cleanup:t}),{cleanup:t});e.moveToBookmark(n)},mceRemoveNode:function(n,i,r){var u=r||e.getNode();u!=f.getBody()&&(p(),f.dom.remove(u,t),w())},mceSelectNodeDepth:function(n,t,r){var u=0;o.getParent(e.getNode(),function(n){if(n.nodeType==1&&u++==r)return e.select(n),i},f.getBody())},mceSelectNode:function(n,t,i){e.select(i)},mceInsertContent:function(t,i,r){function p(t,i){for(var r,u=new n.dom.TreeWalker(t,i);r=u.current();){if(r.nodeType==3&&n.trim(r.nodeValue).length||r.nodeName=="BR"||r.nodeName=="IMG")return r;u.prev()}}var s,a,y,u,h,c,l,v;for(v={content:r,format:"html"},e.onBeforeSetContent.dispatch(e,v),r=v.content,r.indexOf("{$caret}")==-1&&(r+="{$caret}"),e.setContent('<span id="__mce">﻿<\/span>',{no_events:!1}),o.setOuterHTML("__mce",r.replace(/\{\$caret\}/,'<span data-mce-type="bookmark" id="__mce">﻿<\/span>')),s=o.select("#__mce")[0],a=o.getRoot(),(s.previousSibling&&o.isBlock(s.previousSibling)||s.parentNode==a)&&(u=p(s.previousSibling,a),u&&(u.nodeName=="BR"?u.parentNode.insertBefore(s,u):o.insertAfter(s,u)));s;){if(s===a){o.setOuterHTML(y,new n.html.Serializer({},f.schema).serialize(new n.html.DomParser({remove_trailing_brs:!0},f.schema).parse(o.getOuterHTML(y))));break}y=s;s=s.parentNode}s=o.select("#__mce")[0];s&&(u=p(s.previousSibling,a),o.remove(s),u&&(h=o.createRng(),u.nodeType==3?(h.setStart(u,u.length),h.setEnd(u,u.length)):u.nodeName=="BR"?(h.setStartBefore(u),h.setEndBefore(u)):(h.setStartAfter(u),h.setEndAfter(u)),e.setRng(h),n.isIE||(u=o.create("span",null," "),h.insertNode(u),c=o.getRect(u),l=o.getViewPort(f.getWin()),(c.y>l.y+l.h||c.y<l.y||c.x>l.x+l.w||c.x<l.x)&&(f.getBody().scrollLeft=c.x,f.getBody().scrollTop=c.y),o.remove(u)),e.collapse(!0)));e.onSetContent.dispatch(e,v);f.addVisual()},mceInsertRawHTML:function(n,t,i){e.setContent("tiny_mce_marker");f.setContent(f.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceSetContent:function(n,t,i){f.setContent(i)},"Indent,Outdent":function(n){var t,i,u;t=s.indentation;i=/[a-z%]+$/i.exec(t);t=parseInt(t);c("InsertUnorderedList")||c("InsertOrderedList")?a(n):r(e.getSelectedBlocks(),function(r){n=="outdent"?(u=Math.max(0,parseInt(r.style.paddingLeft||0)-t),o.setStyle(r,"paddingLeft",u?u+i:"")):o.setStyle(r,"paddingLeft",parseInt(r.style.paddingLeft||0)+t+i)})},mceRepaint:function(){if(n.isGecko)try{p(t);e.getSel()&&e.getSel().selectAllChildren(f.getBody());e.collapse(t);w()}catch(i){}},mceToggleFormat:function(n,t,i){f.formatter.toggle(i)},InsertHorizontalRule:function(){f.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){f.hasVisual=!f.hasVisual;f.addVisual()},mceReplaceContent:function(n,t,i){f.execCommand("mceInsertContent",!1,e.setContent(i.replace(/\{\$selection\}/g,e.getContent({format:"text"}))))},mceInsertLink:function(u,s,h){var l=o.getParent(e.getNode(),"a"),c,v;n.is(h,"string")&&(h={href:h});h.href=h.href.replace(" ","%20");l?h.href?o.setAttribs(l,h):f.dom.remove(l,t):(n.isWebKit&&(c=o.getParent(e.getNode(),"img"),c&&(v=c.style.cssFloat,c.style.cssFloat=null)),a("CreateLink",i,"javascript:mctmp(0);"),v&&(c.style.cssFloat=v),r(o.select("a[href='javascript:mctmp(0);']"),function(n){o.setAttribs(n,h)}))},selectAll:function(){var n=o.getRoot(),t=o.createRng();t.setStart(n,0);t.setEnd(n,n.childNodes.length);f.selection.setRng(t)}});l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(n){return y("align"+n.substring(7))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return y(n)},mceBlockQuote:function(){return y("blockquote")},Outdent:function(){var n;return s.inline_styles&&((n=o.getParent(e.getStart(),o.isBlock))&&parseInt(n.style.paddingLeft)>0||(n=o.getParent(e.getEnd(),o.isBlock))&&parseInt(n.style.paddingLeft)>0)?t:c("InsertUnorderedList")||c("InsertOrderedList")||!s.inline_styles&&!!o.getParent(e.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(n){return o.getParent(e.getNode(),n=="insertunorderedlist"?"UL":"OL")}},"state");l({"FontSize,FontName":function(n){var i=0,t;return(t=o.getParent(e.getNode(),"span"))&&(i=n=="fontsize"?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),i}},"value");s.custom_undo_redo&&l({Undo:function(){f.undoManager.undo()},Redo:function(){f.undoManager.redo()}})}}(tinymce),function(n){var t=n.util.Dispatcher;n.UndoManager=function(i){function e(){return n.trim(i.getContent({format:"raw",no_events:1}))}var u,f=0,r=[];return u={typing:!1,onAdd:new t(u),onUndo:new t(u),onRedo:new t(u),beforeChange:function(){r[f]&&(r[f].beforeBookmark=i.selection.getBookmark(2,!0))},add:function(n){var t,s=i.settings,o;if(n=n||{},n.content=e(),o=r[f],o&&o.content==n.content)return null;if(s.custom_undo_redo_levels&&r.length>s.custom_undo_redo_levels){for(t=0;t<r.length-1;t++)r[t]=r[t+1];r.length--;f=r.length}return n.bookmark=i.selection.getBookmark(2,!0),f<r.length-1&&(r.length=f+1),r.push(n),f=r.length-1,u.onAdd.dispatch(u,n),i.isNotDirty=0,n},undo:function(){var n;return u.typing&&(u.add(),u.typing=!1),f>0&&(n=r[--f],i.setContent(n.content,{format:"raw"}),i.selection.moveToBookmark(n.beforeBookmark),u.onUndo.dispatch(u,n)),n},redo:function(){var n;return f<r.length-1&&(n=r[++f],i.setContent(n.content,{format:"raw"}),i.selection.moveToBookmark(n.bookmark),u.onRedo.dispatch(u,n)),n},clear:function(){r=[];f=0;u.typing=!1},hasUndo:function(){return f>0||this.typing},hasRedo:function(){return f<r.length-1&&!this.typing}}}}(tinymce),function(n){function s(n){var t,i,r;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(n.nodeName)&&(t?(i=n.cloneNode(!1),i.appendChild(t),t=i):t=r=n.cloneNode(!1),t.removeAttribute("id"));while(n=n.parentNode);if(t)return{wrapper:t,inner:r}}function h(n,t){var i=t.ownerDocument.createRange();return i.setStart(n.endContainer,n.endOffset),i.setEndAfter(t),i.cloneContents().textContent.length==0}function e(n){return n=n.innerHTML,n=n.replace(/<(img|hr|table|input|select|textarea)[ \>]/gi,"-"),n=n.replace(/<[^>]+>/g,""),n.replace(/[ \u00a0\t\r\n]+/g,"")==""}function c(n,i,u){var f,o;return e(u)?(f=i.getParent(u,"ul,ol"),i.getParent(f.parentNode,"ul,ol")||(i.split(f,u),o=i.create("p",0,'<br data-mce-bogus="1" />'),i.replace(o,u),n.select(o,1)),t):r}var u=n.dom.Event,i=n.isIE,o=n.isGecko,f=n.isOpera,l=n.each,a=n.extend,r=!0,t=!1;n.create("tinymce.ForceBlocks",{ForceBlocks:function(n){var t=this,i=n.settings,r;t.editor=n;t.dom=n.dom;r=(i.forced_root_block||"p").toLowerCase();i.element=r.toUpperCase();n.onPreInit.add(t.setup,t);i.forced_root_block&&(n.onInit.add(t.forceRoots,t),n.onSetContent.add(t.forceRoots,t),n.onBeforeGetContent.add(t.forceRoots,t),n.onExecCommand.add(function(n,i){i=="mceInsertContent"&&(t.forceRoots(),n.nodeChanged())}))},setup:function(){var t=this,h=t.editor,c=h.settings,e=h.dom,f=h.selection;if(c.forced_root_block&&(h.onBeforeExecCommand.add(t.forceRoots,t),h.onKeyUp.add(t.forceRoots,t),h.onPreProcess.add(t.forceRoots,t)),c.force_br_newlines&&i&&h.onKeyPress.add(function(n,t){var i;if(t.keyCode==13&&f.getNode().nodeName!="LI")return f.setContent('<br id="__" /> ',{format:"raw"}),i=e.get("__"),i.removeAttribute("id"),f.select(i),f.collapse(),u.cancel(t)}),c.force_p_newlines&&(i?(n.addUnload(function(){t._previousFormats=0}),h.onKeyPress.add(function(n,i){t._previousFormats=0;i.keyCode==13&&!i.shiftKey&&n.selection.isCollapsed()&&c.keep_styles&&(t._previousFormats=s(n.selection.getStart()))}),h.onKeyUp.add(function(n,i){if(i.keyCode==13&&!i.shiftKey){var r=n.selection.getStart(),u=t._previousFormats;!r.hasChildNodes()&&u&&(r=e.getParent(r,e.isBlock),r&&r.nodeName!="LI"&&(r.innerHTML="",t._previousFormats?(r.appendChild(u.wrapper),u.inner.innerHTML="﻿"):r.innerHTML="﻿",f.select(r,1),f.collapse(!0),n.getDoc().execCommand("Delete",!1,null),t._previousFormats=0))}})):h.onKeyPress.add(function(n,i){i.keyCode!=13||i.shiftKey||t.insertPara(i)||u.cancel(i)}),o&&h.onKeyDown.add(function(n,i){i.keyCode!=8&&i.keyCode!=46||i.shiftKey||t.backspaceDelete(i,i.keyCode==8)})),n.isWebKit){function l(n){var i=f.getRng(),t,u=e.create("div",null," "),o,s=e.getViewPort(n.getWin()).h;i.insertNode(t=e.create("br"));i.setStartAfter(t);i.setEndAfter(t);f.setRng(i);f.getSel().focusNode==t.previousSibling&&(f.select(e.insertAfter(e.doc.createTextNode(" "),t)),f.collapse(r));e.insertAfter(u,t);o=e.getPos(u).y;e.remove(u);o>s&&n.getWin().scrollTo(0,o)}h.onKeyPress.add(function(n,t){t.keyCode==13&&(t.shiftKey||c.force_br_newlines&&!e.getParent(f.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul"))&&(l(n),u.cancel(t))})}i&&c.element!="P"&&(h.onKeyPress.add(function(){t.lastElm=f.getNode().nodeName}),h.onKeyUp.add(function(n,i){var u,r=f.getNode(),o=n.getBody();o.childNodes.length===1&&r.nodeName=="P"?(r=e.rename(r,c.element),f.select(r),f.collapse(),n.nodeChanged()):i.keyCode!=13||i.shiftKey||t.lastElm=="P"||(u=e.getParent(r,"p"),u&&(e.rename(u,c.element),n.nodeChanged()))}))},find:function(n,i,r){for(var f=this.editor,e=f.getDoc().createTreeWalker(n,4,null,t),u=-1;n=e.nextNode();){if(u++,i==0&&n==r)return u;if(i==1&&u==r)return n}return-1},forceRoots:function(n){for(var h=this,n=h.editor,e=n.getBody(),l=n.getDoc(),y=n.selection,a=y.getSel(),t=y.getRng(),s=-2,c,k,d,u,p=-16777215,r,f,g,w,nt,tt=e.childNodes,o,b,v=tt.length-1;v>=0;v--){if(r=tt[v],r.nodeType===1&&r.getAttribute("data-mce-type")){f=null;continue}r.nodeType!==3&&(h.dom.isBlock(r)||r.nodeType===8||/^(script|mce:script|style|mce:style)$/i.test(r.nodeName))?f=null:f?f.hasChildNodes()?f.insertBefore(r,f.firstChild):f.appendChild(r):(r.nodeType!=3||/[^\s]/g.test(r.nodeValue))&&(s==-2&&t&&(!i||t.setStart?t.startContainer.nodeType==1&&(o=t.startContainer.childNodes[t.startOffset])&&o.nodeType==1?(b=o.getAttribute("id"),o.setAttribute("id","__mce")):n.dom.getParent(t.startContainer,function(n){return n===e})&&(k=t.startOffset,d=t.endOffset,s=h.find(e,0,t.startContainer),c=h.find(e,0,t.endContainer)):(t.item&&(u=l.body.createTextRange(),u.moveToElementText(t.item(0)),t=u),u=l.body.createTextRange(),u.moveToElementText(e),u.collapse(1),g=u.move("character",p)*-1,u=t.duplicate(),u.collapse(1),w=u.move("character",p)*-1,u=t.duplicate(),u.collapse(0),nt=u.move("character",p)*-1-w,s=w-g,c=nt)),f=n.dom.create(n.settings.forced_root_block),r.parentNode.replaceChild(f,r),f.appendChild(r))}if(s!=-2)if(!i||t.setStart)f=e.getElementsByTagName(n.settings.element)[0],t=l.createRange(),s!=-1?t.setStart(h.find(e,1,s),k):t.setStart(f,0),c!=-1?t.setEnd(h.find(e,1,c),d):t.setEnd(f,0),a&&(a.removeAllRanges(),a.addRange(t));else try{t=a.createRange();t.moveToElementText(e);t.collapse(1);t.moveStart("character",s);t.moveEnd("character",c);t.select()}catch(it){}else(!i||t.setStart)&&(o=n.dom.get("__mce"))&&(b?o.setAttribute("id",b):o.removeAttribute("id"),t=l.createRange(),t.setStartBefore(o),t.setEndBefore(o),y.setRng(t))},getParentBlock:function(n){var t=this.dom;return t.getParent(n,t.isBlock)},insertPara:function(){function at(n,i){var r=[],u,e,o;if(n.innerHTML="",g.keep_styles){e=i;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(e.nodeName)&&(u=e.cloneNode(t),rt.setAttrib(u,"id",""),r.push(u));while(e=e.parentNode)}if(r.length>0){for(o=r.length-1,u=n;o>=0;o--)u=u.appendChild(r[o]);return r[0].innerHTML=f?" ":"<br />",r[0]}n.innerHTML=f?" ":"<br />"}function vt(n){return b.createTreeWalker(n,NodeFilter.SHOW_TEXT,null,t).nextNode()||n}var it=this,u=it.editor,rt=u.dom,b=u.getDoc(),g=u.settings,w=u.selection.getSel(),s=w.getRangeAt(0),ut=b.body,v,k,st,n,ht,y,ct,p,nt,a,d,l,tt,ft,i,et=rt.getViewPort(u.getWin()),ot,lt;if(u.undoManager.beforeChange(),v=b.createRange(),v.setStart(w.anchorNode,w.anchorOffset),v.collapse(r),k=b.createRange(),k.setStart(w.focusNode,w.focusOffset),k.collapse(r),st=v.compareBoundaryPoints(v.START_TO_END,k)<0,n=st?w.anchorNode:w.focusNode,ht=st?w.anchorOffset:w.focusOffset,y=st?w.focusNode:w.anchorNode,ct=st?w.focusOffset:w.anchorOffset,n===y&&/^(TD|TH)$/.test(n.nodeName))return n.firstChild.nodeName=="BR"&&rt.remove(n.firstChild),n.childNodes.length==0?(u.dom.add(n,g.element,null,"<br />"),l=u.dom.add(n,g.element,null,"<br />")):(i=n.innerHTML,n.innerHTML="",u.dom.add(n,g.element,null,i),l=u.dom.add(n,g.element,null,"<br />")),s=b.createRange(),s.selectNodeContents(l),s.collapse(1),u.selection.setRng(s),t;if(n==ut&&y==ut&&ut.firstChild&&u.dom.isBlock(ut.firstChild)&&(n=y=n.firstChild,ht=ct=0,v=b.createRange(),v.setStart(n,0),k=b.createRange(),k.setStart(y,0)),n=n.nodeName=="HTML"?b.body:n,n=n.nodeName=="BODY"?n.firstChild:n,y=y.nodeName=="HTML"?b.body:y,y=y.nodeName=="BODY"?y.firstChild:y,p=it.getParentBlock(n),nt=it.getParentBlock(y),a=p?p.nodeName:g.element,i=it.dom.getParent(p,"li,pre"))return i.nodeName=="LI"?c(u.selection,it.dom,i):r;p&&(p.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(rt.getStyle(p,"position",1)))&&(a=g.element,p=null);nt&&(nt.nodeName=="CAPTION"||/absolute|relative|fixed/gi.test(rt.getStyle(p,"position",1)))&&(a=g.element,nt=null);(/(TD|TABLE|TH|CAPTION)/.test(a)||p&&a=="DIV"&&/left|right/gi.test(rt.getStyle(p,"float",1)))&&(a=g.element,p=nt=null);d=p&&p.nodeName==a?p.cloneNode(0):u.dom.create(a);l=nt&&nt.nodeName==a?nt.cloneNode(0):u.dom.create(a);l.removeAttribute("id");/^(H[1-6])$/.test(a)&&h(s,p)&&(l=u.dom.create(g.element));i=tt=n;do{if(i==ut||i.nodeType==9||it.dom.isBlock(i)||/(TD|TABLE|TH|CAPTION)/.test(i.nodeName))break;tt=i}while(i=i.previousSibling?i.previousSibling:i.parentNode);i=ft=y;do{if(i==ut||i.nodeType==9||it.dom.isBlock(i)||/(TD|TABLE|TH|CAPTION)/.test(i.nodeName))break;ft=i}while(i=i.nextSibling?i.nextSibling:i.parentNode);tt.nodeName==a?v.setStart(tt,0):v.setStartBefore(tt);v.setEnd(n,ht);d.appendChild(v.cloneContents()||b.createTextNode(""));try{k.setEndAfter(ft)}catch(yt){}return k.setStart(y,ct),l.appendChild(k.cloneContents()||b.createTextNode("")),s=b.createRange(),tt.previousSibling||tt.parentNode.nodeName!=a?v.startContainer.nodeName==a&&v.startOffset==0?s.setStartBefore(v.startContainer):s.setStart(v.startContainer,v.startOffset):s.setStartBefore(tt.parentNode),ft.nextSibling||ft.parentNode.nodeName!=a?s.setEnd(k.endContainer,k.endOffset):s.setEndAfter(ft.parentNode),s.deleteContents(),f&&u.getWin().scrollTo(0,et.y),d.firstChild&&d.firstChild.nodeName==a&&(d.innerHTML=d.firstChild.innerHTML),l.firstChild&&l.firstChild.nodeName==a&&(l.innerHTML=l.firstChild.innerHTML),e(d)&&(d.innerHTML="<br />"),e(l)&&(lt=at(l,y)),f&&parseFloat(opera.version())<9.5?(s.insertNode(d),s.insertNode(l)):(s.insertNode(l),s.insertNode(d)),l.normalize(),d.normalize(),s=b.createRange(),s.selectNodeContents(o?vt(lt||l):lt||l),s.collapse(1),w.removeAllRanges(),w.addRange(s),ot=u.dom.getPos(l).y,(ot<et.y||ot+25>et.y+et.h)&&u.getWin().scrollTo(0,ot<et.y?ot:ot-et.h+25),u.undoManager.add(),t},backspaceDelete:function(i,r){var v=this,s=v.editor,y=s.getBody(),p=s.dom,h=s.selection,o=h.getRng(),e=o.startContainer,f,c,l,a;if(!r&&o.collapsed&&e.nodeType==1&&o.startOffset==e.childNodes.length)for(a=new n.dom.TreeWalker(e.lastChild,e),f=e.lastChild;f;f=a.prev())if(f.nodeType==3){o.setStart(f,f.nodeValue.length);o.collapse(!0);h.setRng(o);return}if(e&&s.dom.isBlock(e)&&!/^(TD|TH)$/.test(e.nodeName)&&r&&(e.childNodes.length==0||e.childNodes.length==1&&e.firstChild.nodeName=="BR")){for(f=e;(f=f.previousSibling)&&!s.dom.isBlock(f););if(f){if(e!=y.firstChild){for(c=s.dom.doc.createTreeWalker(f,NodeFilter.SHOW_TEXT,null,t);l=c.nextNode();)f=l;o=s.getDoc().createRange();o.setStart(f,f.nodeValue?f.nodeValue.length:0);o.setEnd(f,f.nodeValue?f.nodeValue.length:0);h.setRng(o);s.dom.remove(e)}return u.cancel(i)}}}})}(tinymce),function(n){var u=n.DOM,r=n.dom.Event,i=n.each,t=n.extend;n.create("tinymce.ControlManager",{ControlManager:function(t,r){var u=this;r=r||{};u.editor=t;u.controls={};u.onAdd=new n.util.Dispatcher(u);u.onPostRender=new n.util.Dispatcher(u);u.prefix=r.prefix||t.id+"_";u._cls={};u.onPostRender.add(function(){i(u.controls,function(n){n.postRender()})})},get:function(n){return this.controls[this.prefix+n]||this.controls[n]},setActive:function(n,t){var i=null;return(i=this.get(n))&&i.setActive(t),i},setDisabled:function(n,t){var i=null;return(i=this.get(n))&&i.setDisabled(t),i},add:function(n){var t=this;return n&&(t.controls[n.id]=n,t.onAdd.dispatch(n,t)),n},createControl:function(n){var t,r=this,u=r.editor;i(u.plugins,function(i){if(i.createControl&&(t=i.createControl(n,r),t))return!1});switch(n){case"|":case"separator":return r.createSeparator()}return!t&&u.buttons&&(t=u.buttons[n])?r.createButton(n,t):r.add(t)},createDropMenu:function(i,r,u){var o=this,f=o.editor,e,s,h,c;return r=t({"class":"mceDropDown",constrain:f.settings.constrain_menus},r),r["class"]=r["class"]+" "+f.getParam("skin")+"Skin",(h=f.getParam("skin_variant"))&&(r["class"]+=" "+f.getParam("skin")+"Skin"+h.substring(0,1).toUpperCase()+h.substring(1)),i=o.prefix+i,c=u||o._cls.dropmenu||n.ui.DropMenu,e=o.controls[i]=new c(i,r),e.onAddItem.add(function(n,t){var i=t.settings;i.title=f.getLang(i.title,i.title);i.onclick||(i.onclick=function(){i.cmd&&f.execCommand(i.cmd,i.ui||!1,i.value)})}),f.onRemove.add(function(){e.destroy()}),n.isIE&&(e.onShowMenu.add(function(){f.focus();s=f.selection.getBookmark(1)}),e.onHideMenu.add(function(){s&&(f.selection.moveToBookmark(s),s=0)})),o.add(e)},createListBox:function(i,u,f){var s=this,e=s.editor,o,h;return s.get(i)?null:(u.title=e.translate(u.title),u.scope=u.scope||e,u.onselect||(u.onselect=function(n){e.execCommand(u.cmd,u.ui||!1,n||u.value)}),u=t({title:u.title,"class":"mce_"+i,scope:u.scope,control_manager:s},u),i=s.prefix+i,e.settings.use_native_selects?o=new n.ui.NativeListBox(i,u):(h=f||s._cls.listbox||n.ui.ListBox,o=new h(i,u,e)),s.controls[i]=o,n.isWebKit&&o.onPostRender.add(function(n,t){r.add(t,"mousedown",function(){e.bookmark=e.selection.getBookmark(1)});r.add(t,"focus",function(){e.selection.moveToBookmark(e.bookmark);e.bookmark=null})}),o.hideMenu&&e.onMouseDown.add(o.hideMenu,o),s.add(o))},createButton:function(i,r,u){var f=this,e=f.editor,o,s;return f.get(i)?null:(r.title=e.translate(r.title),r.label=e.translate(r.label),r.scope=r.scope||e,r.onclick||r.menu_button||(r.onclick=function(){e.execCommand(r.cmd,r.ui||!1,r.value)}),r=t({title:r.title,"class":"mce_"+i,unavailable_prefix:e.getLang("unavailable",""),scope:r.scope,control_manager:f},r),i=f.prefix+i,r.menu_button?(s=u||f._cls.menubutton||n.ui.MenuButton,o=new s(i,r,e),e.onMouseDown.add(o.hideMenu,o)):(s=f._cls.button||n.ui.Button,o=new s(i,r)),f.add(o))},createMenuButton:function(n,t,i){return t=t||{},t.menu_button=1,this.createButton(n,t,i)},createSplitButton:function(i,r,u){var f=this,e=f.editor,o,s;return f.get(i)?null:(r.title=e.translate(r.title),r.scope=r.scope||e,r.onclick||(r.onclick=function(n){e.execCommand(r.cmd,r.ui||!1,n||r.value)}),r.onselect||(r.onselect=function(n){e.execCommand(r.cmd,r.ui||!1,n||r.value)}),r=t({title:r.title,"class":"mce_"+i,scope:r.scope,control_manager:f},r),i=f.prefix+i,s=u||f._cls.splitbutton||n.ui.SplitButton,o=f.add(new s(i,r,e)),e.onMouseDown.add(o.hideMenu,o),o)},createColorSplitButton:function(i,r,u){var o=this,f=o.editor,e,h,s;return o.get(i)?null:(r.title=f.translate(r.title),r.scope=r.scope||f,r.onclick||(r.onclick=function(t){n.isIE&&(s=f.selection.getBookmark(1));f.execCommand(r.cmd,r.ui||!1,t||r.value)}),r.onselect||(r.onselect=function(n){f.execCommand(r.cmd,r.ui||!1,n||r.value)}),r=t({title:r.title,"class":"mce_"+i,menu_class:f.getParam("skin")+"Skin",scope:r.scope,more_colors_title:f.getLang("more_colors")},r),i=o.prefix+i,h=u||o._cls.colorsplitbutton||n.ui.ColorSplitButton,e=new h(i,r,f),f.onMouseDown.add(e.hideMenu,e),f.onRemove.add(function(){e.destroy()}),n.isIE&&(e.onShowMenu.add(function(){f.focus();s=f.selection.getBookmark(1)}),e.onHideMenu.add(function(){s&&(f.selection.moveToBookmark(s),s=0)})),o.add(e))},createToolbar:function(t,i,r){var f,u=this,e;return(t=u.prefix+t,e=r||u._cls.toolbar||n.ui.Toolbar,f=new e(t,i,u.editor),u.get(t))?null:u.add(f)},createToolbarGroup:function(t,i,r){var f,u=this,e;return(t=u.prefix+t,e=r||this._cls.toolbarGroup||n.ui.ToolbarGroup,f=new e(t,i,u.editor),u.get(t))?null:u.add(f)},createSeparator:function(t){var i=t||this._cls.separator||n.ui.Separator;return new i},setControlType:function(n,t){return this._cls[n.toLowerCase()]=t},destroy:function(){i(this.controls,function(n){n.destroy()});this.controls=null}})}(tinymce),function(n){var i=n.util.Dispatcher,u=n.each,t=n.isIE,r=n.isOpera;n.create("tinymce.WindowManager",{WindowManager:function(n){var t=this;t.editor=n;t.onOpen=new i(t);t.onClose=new i(t);t.params={};t.features={}},open:function(i,f){var e=this,o="",h=e.editor.settings.dialog_type=="modal",c,l,a,v=n.DOM.getViewPort(),s;i=i||{};f=f||{};l=r?v.w:screen.width;a=r?v.h:screen.height;i.name=i.name||"mc_"+(new Date).getTime();i.width=parseInt(i.width||320);i.height=parseInt(i.height||240);i.resizable=!0;i.left=i.left||parseInt(l/2)-i.width/2;i.top=i.top||parseInt(a/2)-i.height/2;f.inline=!1;f.mce_width=i.width;f.mce_height=i.height;f.mce_auto_focus=i.auto_focus;h&&t&&(i.center=!0,i.help=!1,i.dialogWidth=i.width+"px",i.dialogHeight=i.height+"px",i.scroll=i.scrollbars||!1);u(i,function(i,r){n.is(i,"boolean")&&(i=i?"yes":"no");/^(name|url)$/.test(r)||(o+=t&&h?(o?";":"")+r+":"+i:(o?",":"")+r+"="+i)});e.features=i;e.params=f;e.onOpen.dispatch(e,i,f);s=i.url||i.file;s=n._addVer(s);try{t&&h?(c=1,window.showModalDialog(s,window,o)):c=window.open(s,i.name,o)}catch(y){}c||alert(e.editor.getLang("popup_blocked"))},close:function(n){n.close();this.onClose.dispatch(this)},createInstance:function(t,i,r,u,f,e){var o=n.resolve(t);return new o(i,r,u,f,e)},confirm:function(n,t,i,r){r=r||window;t.call(i||this,r.confirm(this._decode(this.editor.getLang(n,n))))},alert:function(n,t,i,r){var u=this;r=r||window;r.alert(u._decode(u.editor.getLang(n,n)));t&&t.call(i||u)},resizeBy:function(n,t,i){i.resizeBy(n,t)},_decode:function(t){return n.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(n){n.Formatter=function(t){function b(n,t){return i.getParents(n,t,i.getRoot())}function k(n){return n.nodeType===1&&(n.face==="mceinline"||n.style.fontFamily==="mceinline")}function y(n){return n?g[n]:g}function vt(n,t){n&&(typeof n!="string"?r(n,function(n,t){vt(t,n)}):(t=t.length?t:[t],r(t,function(n){n.deep===v&&(n.deep=!n.selector);n.split===v&&(n.split=!n.selector||n.inline);n.remove===v&&n.selector&&!n.inline&&(n.remove="none");n.selector&&n.inline&&(n.mixed=!0,n.block_expand=!0);typeof n.classes=="string"&&(n.classes=n.classes.split(/\s+/))}),g[n]=t))}function rt(e,v,p){function vt(n){var t=n.startContainer,u=n.startOffset,r,i;if((t.nodeType==1||t.nodeValue==="")&&(t=t.nodeType==1?t.childNodes[u]:t,t))for(r=new lt(t,t.parentNode),i=r.current();i;i=r.next())if(i.nodeType==3&&!w(i)){n.setStart(i,0);break}return n}function rt(n,t){t=t||b;n&&(r(t.styles,function(t,r){i.setStyle(n,r,a(t,v))}),r(t.attributes,function(t,r){i.setAttrib(n,r,a(t,v))}),r(t.classes,function(t){t=a(t,v);i.hasClass(n,t)||i.addClass(n,t)}))}function st(t){var u=[],a,y;a=b.inline||b.block;y=i.create(a);rt(y);at.walk(t,function(t){function s(t){var c=t.nodeName.toLowerCase(),w=t.parentNode.nodeName.toLowerCase(),p;if(h(c,"br")){f=0;b.block&&i.remove(t);return}if(b.wrapper&&l(t,e,v)){f=0;return}if(b.block&&!b.wrapper&&ri(c)){t=i.rename(t,a);rt(t);u.push(t);f=0;return}if(b.selector&&(r(g,function(n){"collapsed"in n&&n.collapsed!==ot||i.is(t,n.selector)&&!k(t)&&(rt(t,n),p=!0)}),!b.inline||p)){f=0;return}!nt(a,c)||!nt(w,a)||t.nodeType===3&&t.nodeValue.length===1&&t.nodeValue.charCodeAt(0)===65279?(f=0,r(n.grep(t.childNodes),s),f=0):(f||(f=y.cloneNode(o),t.parentNode.insertBefore(f,t),u.push(f)),f.appendChild(t))}var f;r(t,s)});b.wrap_links===!1&&r(u,function(t){function i(t){var f,e,s;if(t.nodeName==="A"){for(e=y.cloneNode(o),u.push(e),s=n.grep(t.childNodes),f=0;f<s.length;f++)e.appendChild(s[f]);t.appendChild(e)}r(n.grep(t.childNodes),i)}i(t)});r(u,function(n){function h(n){var t=0;return r(n.childNodes,function(n){w(n)||c(n)||t++}),t}function a(n){var t,u;return r(n.childNodes,function(n){if(n.nodeType==1&&!c(n)&&!k(n))return t=n,o}),t&&et(t,b)&&(u=t.cloneNode(o),rt(u),i.replace(u,n,f),i.remove(t,1)),u||n}var t;if(t=h(n),(u.length>1||!s(n))&&t===0){i.remove(n,1);return}if(b.inline||b.wrapper){if(b.exact||t!==1||(n=a(n)),r(g,function(t){r(i.select(t.inline,n),function(n){var i;if(t.wrap_links===!1){i=n.parentNode;do if(i.nodeName==="A")return;while(i=i.parentNode)}d(t,v,n,t.exact?n:null)})}),l(n.parentNode,e,v))return i.remove(n,1),n=0,f;b.merge_with_parents&&i.getParent(n.parentNode,function(t){if(l(t,e,v))return i.remove(n,1),n=0,f});n&&(n=pt(ct(n),n),n=pt(n,ct(n,f)))}})}var g=y(e),b=g[0],ft,tt,ot=u.isCollapsed(),ut;b&&(p?(tt=i.createRng(),tt.setStartBefore(p),tt.setEndAfter(p),st(ht(tt,g))):ot&&b.inline&&!i.select("td.mceSelected,th.mceSelected").length?bt("apply",e,v):(ut=t.selection.getNode(),ft=u.getBookmark(),st(ht(u.getRng(f),g)),b.styles&&(b.styles.color||b.styles.textDecoration)&&(n.walk(ut,it,"childNodes"),it(ut)),u.moveToBookmark(ft),u.setRng(vt(u.getRng(f))),t.nodeChanged()))}function ut(e,h,a){function et(n){var t=n.startContainer,f=n.startOffset,e,r,o,s;if(t.nodeType==3&&f>=t.nodeValue.length-1&&(t=t.parentNode,f=p(t)+1),t.nodeType==1)for(o=t.childNodes,t=o[Math.min(f,o.length-1)],e=new lt(t),f>o.length-1&&e.next(),r=e.current();r;r=e.next())if(r.nodeType==3&&!w(r)){s=i.create("a",null,kt);r.parentNode.insertBefore(s,r);n.setStart(r,0);u.setRng(n);i.remove(s);return}}function it(t){var u,i,r;for(u=n.grep(t.childNodes),i=0,r=v.length;i<r;i++)if(d(v[i],h,t,t))break;if(k.deep)for(i=0,r=u.length;i<r;i++)it(u[i])}function ot(n){var t;return r(b(n.parentNode).reverse(),function(n){var i;t||n.id=="_start"||n.id=="_end"||(i=l(n,e,h),i&&i.split!==!1&&(t=n))}),t}function ct(n,t,r,u){var e,f,c,a,l,y;if(n){for(y=n.parentNode,e=t.parentNode;e&&e!=y;e=e.parentNode){for(f=e.cloneNode(o),l=0;l<v.length;l++)if(d(v[l],h,f,f)){f=0;break}f&&(c&&f.appendChild(c),a||(a=f),c=f)}!u||k.mixed&&s(n)||(t=i.split(n,t));c&&(r.parentNode.insertBefore(c,r),a.appendChild(r))}return t}function nt(n){return ct(ot(n),n,n,!0)}function rt(n){var r=i.get(n?"_start":"_end"),t=r[n?"firstChild":"lastChild"];return c(t)&&(t=t[n?"firstChild":"lastChild"]),i.remove(r,!0),t}function ut(n){var i,u;n=ht(n,v,f);k.split&&(i=wt(n,f),u=wt(n),i!=u?(i=st(i,"span",{id:"_start","data-mce-type":"bookmark"}),u=st(u,"span",{id:"_end","data-mce-type":"bookmark"}),nt(i),nt(u),i=rt(f),u=rt()):i=u=nt(i),n.startContainer=i.parentNode,n.startOffset=p(i),n.endContainer=u.parentNode,n.endOffset=p(u)+1);at.walk(n,function(n){r(n,function(n){it(n);n.nodeType===1&&t.dom.getStyle(n,"text-decoration")==="underline"&&n.parentNode&&yt(n.parentNode)==="underline"&&d({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,n)})})}var v=y(e),k=v[0],tt,g;if(a){g=i.createRng();g.setStartBefore(a);g.setEndAfter(a);ut(g);return}u.isCollapsed()&&k.inline&&!i.select("td.mceSelected,th.mceSelected").length?bt("remove",e,h):(tt=u.getBookmark(),ut(u.getRng(f)),u.moveToBookmark(tt),ft(e,h,u.getStart())&&et(u.getRng(!0)),t.nodeChanged())}function gt(n,t,i){var r=y(n);!ft(n,t,i)||"toggle"in r[0]&&!r[0].toggle?rt(n,t,i):ut(n,t,i)}function l(n,t,r,u){function c(n,t,f){var o,c,e=t[f],s;if(e)if(e.length===v){for(o in e)if(e.hasOwnProperty(o)){if(c=f==="attributes"?i.getAttrib(n,o):ot(n,o),u&&!c&&!t.exact)return;if((!u||t.exact)&&!h(c,a(e[o],r)))return}}else for(s=0;s<e.length;s++)if(f==="attributes"?i.getAttrib(n,e[s]):ot(n,e[s]))return t;return t}var o=y(t),e,f,s;if(o&&n)for(f=0;f<o.length;f++)if(e=o[f],et(n,e)&&c(n,e,"attributes")&&c(n,e,"styles")){if(s=e.classes)for(f=0;f<s.length;f++)if(!i.hasClass(n,s[f]))return;return e}}function ft(n,t,r){function h(r){return r=i.getParent(r,function(i){return!!l(i,n,t,!0)}),l(r,n,t)}var c,s;if(r)return h(r);if(u.isCollapsed()){for(s=e.apply.length-1;s>=0;s--)if(e.apply[s].name==n)return!0;for(s=e.remove.length-1;s>=0;s--)if(e.remove[s].name==n)return!1;return h(u.getNode())}return(r=u.getNode(),h(r))?f:(c=u.getStart(),c!=r&&h(c))?f:o}function ni(n,t){var c,h=[],s={},r,f,o;if(u.isCollapsed()){for(f=0;f<n.length;f++)for(r=e.remove.length-1;r>=0;r--)if(o=n[f],e.remove[r].name==o){s[o]=!0;break}for(r=e.apply.length-1;r>=0;r--)for(f=0;f<n.length;f++)o=n[f],s[o]||e.apply[r].name!=o||(s[o]=!0,h.push(o))}return c=u.getStart(),i.getParent(c,function(i){for(var r,u=0;u<n.length;u++)r=n[u],!s[r]&&l(i,r,t)&&(s[r]=!0,h.push(r))}),h}function ti(n){var e=y(n),c,s,t,r,h;if(e)for(c=u.getStart(),s=b(c),r=e.length-1;r>=0;r--){if(h=e[r].selector,!h)return f;for(t=s.length-1;t>=0;t--)if(i.is(s[t],h))return f}return o}function et(n,t){return h(n,t.inline)?f:h(n,t.block)?f:t.selector?i.is(n,t.selector):void 0}function h(n,t){return n=n||"",t=t||"",n=""+(n.nodeName||n),t=""+(t.nodeName||t),n.toLowerCase()==t.toLowerCase()}function ot(n,t){var r=i.getStyle(n,t);return(t=="color"||t=="backgroundColor")&&(r=i.toHex(r)),t=="fontWeight"&&r==700&&(r="bold"),""+r}function a(n,t){return typeof n!="string"?n=n(t):t&&(n=n.replace(/%(\w+)/g,function(n,i){return t[i]||n})),n}function w(n){return n&&n.nodeType===3&&/^([\s\r\n]+|)$/.test(n.nodeValue)}function st(n,t,r){var u=i.create(t,r);return n.parentNode.insertBefore(u,n),u.appendChild(n),u}function ht(n,t){function k(n,r,u,f){var o;for(f=f||i.getRoot();;){if(o=n.parentNode,o==f||!t[0].block_expand&&s(o))return n;for(e=o[r];e&&e!=n;e=e[u])if(e.nodeType==1&&!c(e)||e.nodeType==3&&!w(e))return n;n=n.parentNode}return n}function d(n,t){for(t===v&&(t=n.nodeType===3?n.length:n.childNodes.length);n&&n.hasChildNodes();)n=n.childNodes[t],n&&(t=n.nodeType===3?n.length:n.childNodes.length);return{node:n,offset:t}}var u=n.startContainer,y=n.startOffset,r=n.endContainer,l=n.endOffset,e,a,f;if(u.nodeType==1&&u.hasChildNodes()&&(a=u.childNodes.length-1,u=u.childNodes[y>a?a:y],u.nodeType==3&&(y=0)),r.nodeType==1&&r.hasChildNodes()&&(a=r.childNodes.length-1,r=r.childNodes[l>a?a:l-1],r.nodeType==3&&(l=r.nodeValue.length)),c(u.parentNode)&&(u=u.parentNode),c(u)&&(u=u.nextSibling||u),c(r.parentNode)&&(l=i.nodeIndex(r),r=r.parentNode),c(r)&&r.previousSibling&&(r=r.previousSibling,l=r.length),t[0].inline&&(f=d(r,l),f.node)){while(f.node&&f.offset===0&&f.node.previousSibling)f=d(f.node.previousSibling);f.node&&f.offset>0&&f.node.nodeType===3&&f.node.nodeValue.charAt(f.offset-1)===" "&&(f.offset>1?(r=f.node,r.splitText(f.offset-1)):f.node.previousSibling&&(r=f.node.previousSibling))}if((t[0].inline||t[0].block_expand)&&(u=k(u,"firstChild","nextSibling"),r=k(r,"lastChild","previousSibling")),t[0].selector&&t[0].expand!==o&&!t[0].inline){function g(r,u){var e,f,o,s;for(r.nodeType==3&&r.nodeValue.length==0&&r[u]&&(r=r[u]),e=b(r),f=0;f<e.length;f++)for(o=0;o<t.length;o++)if((s=t[o],!("collapsed"in s)||s.collapsed===n.collapsed)&&i.is(e[f],s.selector))return e[f];return r}u=g(u,"previousSibling");r=g(r,"nextSibling")}if(t[0].block||t[0].selector){function nt(n,r){var u;if(t[0].wrapper||(u=i.getParent(n,t[0].block)),u||(u=i.getParent(n.nodeType==3?n.parentNode:n,s)),u&&t[0].wrapper&&(u=b(u,"ul,ol").reverse()[0]||u),!u)for(u=n;u[r]&&!s(u[r]);)if(u=u[r],h(u,"br"))break;return u||n}u=nt(u,"previousSibling");r=nt(r,"nextSibling");t[0].block&&(s(u)||(u=k(u,"firstChild","nextSibling")),s(r)||(r=k(r,"lastChild","previousSibling")))}return u.nodeType==1&&(y=p(u),u=u.parentNode),r.nodeType==1&&(l=p(r)+1,r=r.parentNode),{startContainer:u,startOffset:y,endContainer:r,endOffset:l}}function d(n,t,u,e){var s,c,l;if(!et(u,n))return o;if(n.remove!="all")for(r(n.styles,function(n,r){n=a(n,t);typeof r=="number"&&(r=n,e=0);(!e||h(ot(e,r),n))&&i.setStyle(u,r,"");l=1}),l&&i.getAttrib(u,"style")==""&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),r(n.attributes,function(n,f){var o;if(n=a(n,t),typeof f=="number"&&(f=n,e=0),!e||h(i.getAttrib(e,f),n)){if(f=="class"&&(n=i.getAttrib(u,f),n&&(o="",r(n.split(/\s+/),function(n){/mce\w+/.test(n)&&(o+=(o?" ":"")+n)}),o))){i.setAttrib(u,f,o);return}f=="class"&&u.removeAttribute("className");dt.test(f)&&u.removeAttribute("data-mce-"+f);u.removeAttribute(f)}}),r(n.classes,function(n){n=a(n,t);(!e||i.hasClass(e,n))&&i.removeClass(u,n)}),c=i.getAttribs(u),s=0;s<c.length;s++)if(c[s].nodeName.indexOf("_")!==0)return o;if(n.remove!="none")return ii(u,n),f}function ii(t,u){var l=t.parentNode,e;if(u.block)if(tt)l==i.getRoot()&&(u.list_block&&h(t,u.list_block)||r(n.grep(t.childNodes),function(n){nt(tt,n.nodeName.toLowerCase())?e?e.appendChild(n):e=st(n,tt):e=0}));else{function c(n,t,i){return n=ct(n,t,i),!n||n.nodeName=="BR"||s(n)}s(t)&&!s(l)&&(c(t,o)||c(t.firstChild,f,1)||t.insertBefore(i.create("br"),t.firstChild),c(t,f)||c(t.lastChild,o,1)||t.appendChild(i.create("br")))}u.selector&&u.inline&&!h(u.inline,t)||i.remove(t,1)}function ct(n,t,i){if(n)for(t=t?"nextSibling":"previousSibling",n=i?n:n[t];n;n=n[t])if(n.nodeType==1||!w(n))return n}function c(n){return n&&n.nodeType==1&&n.getAttribute("data-mce-type")=="bookmark"}function pt(t,u){function l(n,t){function u(n){var t={};return r(i.getAttribs(n),function(r){var u=r.nodeName.toLowerCase();u.indexOf("_")!==0&&u!=="style"&&(t[u]=i.getAttrib(n,u))}),t}function e(n,t){var r;for(var i in n)if(n.hasOwnProperty(i)){if((r=t[i],r===v)||n[i]!=r)return o;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return o;return f}return n.nodeName!=t.nodeName?o:e(u(n),u(t))?e(i.parseStyle(i.getAttrib(n,"style")),i.parseStyle(i.getAttrib(t,"style")))?f:o:o}var e,s;if(t&&u){function h(n,t){for(e=n;e;e=e[t]){if(e.nodeType==3&&e.nodeValue.length!==0)return n;if(e.nodeType==1&&!c(e))return e}return n}if(t=h(t,"previousSibling"),u=h(u,"nextSibling"),l(t,u)){for(e=t.nextSibling;e&&e!=u;)s=e,e=e.nextSibling,t.appendChild(s);return i.remove(u),r(n.grep(u.childNodes),function(n){t.appendChild(n)}),t}}return u}function ri(n){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(n)}function wt(n,t){var i,r,u;return i=n[t?"startContainer":"endContainer"],r=n[t?"startOffset":"endOffset"],i.nodeType==1&&(u=i.childNodes.length-1,!t&&r&&r--,i=i.childNodes[r>u?u:r]),i}function bt(f,o,s){function a(){return e.apply.length||e.remove.length}function v(){e.apply=[];e.remove=[]}function y(n){r(e.apply.reverse(),function(t){rt(t.name,t.vars,n);t.name==="forecolor"&&t.vars.value&&it(n.parentNode)});r(e.remove.reverse(),function(t){ut(t.name,t.vars,n)});i.remove(n,1);v()}for(var c=e[f],l=e[f=="apply"?"remove":"apply"],h=c.length-1;h>=0;h--)if(c[h].name==o)return;for(c.push({name:o,vars:s}),h=l.length-1;h>=0;h--)l[h].name==o&&l.splice(h,1);a()&&(t.getDoc().execCommand("FontName",!1,"mceinline"),e.lastRng=u.getRng(),r(i.select("font,span"),function(n){var i;k(n)&&(i=u.getBookmark(),y(n),u.moveToBookmark(i),t.nodeChanged())}),!e.isListening&&a()&&(e.isListening=!0,r("onKeyDown,onKeyUp,onKeyPress,onMouseUp".split(","),function(f){t[f].addToTop(function(t,f){a()&&!n.dom.RangeUtils.compareRanges(e.lastRng,u.getRng())&&(r(i.select("font,span"),function(n){var r,f;k(n)&&(r=n.firstChild,r?(y(n),f=i.createRng(),f.setStart(r,r.nodeValue.length),f.setEnd(r,r.nodeValue.length),u.setRng(f),t.nodeChanged()):i.remove(n))}),(f.type=="keyup"||f.type=="mouseup")&&v())})})))}var g={},r=n.each,i=t.dom,u=t.selection,lt=n.dom.TreeWalker,at=new n.dom.RangeUtils(i),nt=t.schema.isValidChild,s=i.isBlock,tt=t.settings.forced_root_block,p=i.nodeIndex,kt="﻿",dt=/^(src|href|style)$/,o=!1,f=!0,v,e={apply:[],remove:[]},yt=function(n){var i;return t.dom.getParent(n,function(n){return i=t.dom.getStyle(n,"text-decoration"),i&&i!=="none"}),i},it=function(n){var i;n.nodeType===1&&n.parentNode&&n.parentNode.nodeType===1&&(i=yt(n.parentNode),t.dom.getStyle(n,"color")&&i?t.dom.setStyle(n,"text-decoration",i):t.dom.getStyle(n,"textdecoration")===i&&t.dom.setStyle(n,"text-decoration",null))};n.extend(this,{get:y,register:vt,apply:rt,remove:ut,toggle:gt,match:ft,matchAll:ni,matchNode:l,canApply:ti})}}(tinymce);tinymce.onAddEditor.add(function(n,t){var e,o,i,r=t.settings;if(r.inline_styles){o=n.explode(r.font_size_style_values);function u(t,r){n.each(r,function(n,r){n&&i.setStyle(t,r,n)});i.rename(t,"span")}e={font:function(n,t){u(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:o[parseInt(t.size)-1]})},u:function(n,t){u(t,{textDecoration:"underline"})},strike:function(n,t){u(t,{textDecoration:"line-through"})}};function f(u,f){i=u.dom;r.convert_fonts_to_spans&&n.each(i.select("font,u,strike",f.node),function(n){e[n.nodeName.toLowerCase()](t.dom,n)})}t.onPreProcess.add(f);t.onSetContent.add(f);t.onInit.add(function(){t.selection.onSetContent.add(f)})}});