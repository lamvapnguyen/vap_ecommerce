(function(n){n.jqplot.CanvasAxisLabelRenderer=function(t){this.angle=0;this.axis;this.show=!0;this.showLabel=!0;this.label="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="11pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=!0;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};n.extend(!0,this,t);t.angle==null&&this.axis!="xaxis"&&this.axis!="x2axis"&&(this.angle=-90);var i={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px&&(i.pt2px=this.pt2px),this.enableFontSupport){function r(){return!!(document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function")}this._textRenderer=r()?new n.jqplot.CanvasFontRenderer(i):new n.jqplot.CanvasTextRenderer(i)}else this._textRenderer=new n.jqplot.CanvasTextRenderer(i)};n.jqplot.CanvasAxisLabelRenderer.prototype.init=function(t){n.extend(!0,this,t);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};n.jqplot.CanvasAxisLabelRenderer.prototype.getWidth=function(n){if(this._elem)return this._elem.outerWidth(!0);var t=this._textRenderer,i=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.sin(t.angle)*r)+Math.abs(Math.cos(t.angle)*i)};n.jqplot.CanvasAxisLabelRenderer.prototype.getHeight=function(n){if(this._elem)return this._elem.outerHeight(!0);var t=this._textRenderer,i=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.cos(t.angle)*r)+Math.abs(Math.sin(t.angle)*i)};n.jqplot.CanvasAxisLabelRenderer.prototype.getAngleRad=function(){return this.angle*Math.PI/180};n.jqplot.CanvasAxisLabelRenderer.prototype.draw=function(t){var i=document.createElement("canvas"),r,u;return this._textRenderer.setText(this.label,t),r=this.getWidth(t),u=this.getHeight(t),i.width=r,i.height=u,i.style.width=r,i.style.height=u,i.style.position="absolute",this._domelem=i,this._elem=n(i),this._elem.addClass("jqplot-"+this.axis+"-label"),this._elem};n.jqplot.CanvasAxisLabelRenderer.prototype.pack=function(){n.browser.msie&&(window.G_vmlCanvasManager.init_(document),this._domelem=window.G_vmlCanvasManager.initElement(this._domelem));var t=this._elem.get(0).getContext("2d");this._textRenderer.draw(t,this.label)}})(jQuery);