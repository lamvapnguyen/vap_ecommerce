(function(n){function t(t,i){var f=t.plugins.highlighter,o=t.series[i.seriesIndex],e=o.markerRenderer,u=f.markerRenderer;u.style=e.style;u.lineWidth=e.lineWidth+f.lineWidthAdjust;u.size=e.size+f.sizeAdjust;var r=n.jqplot.getColorComponents(e.color),s=[r[0],r[1],r[2]],h=r[3]>=.6?r[3]*.6:r[3]*(2-r[3]);u.color="rgba("+s[0]+","+s[1]+","+s[2]+","+h+")";u.init();u.draw(o.gridData[i.pointIndex][0],o.gridData[i.pointIndex][1],f.highlightCanvas._ctx)}function i(t,i,r){var u=t.plugins.highlighter,h=u._tooltipElem,o,f,a,v;if(u.useAxesFormatters){var p=i._xaxis._ticks[0].formatter,w=i._yaxis._ticks[0].formatter,b=i._xaxis._ticks[0].formatString,k=i._yaxis._ticks[0].formatString,f,y=p(b,r.data[0]),e=[];for(o=1;o<u.yvalues+1;o++)e.push(w(k,r.data[o]));if(u.formatString)switch(u.tooltipAxes){case"both":case"xy":e.unshift(y);e.unshift(u.formatString);f=n.jqplot.sprintf.apply(n.jqplot.sprintf,e);break;case"yx":e.push(y);e.unshift(u.formatString);f=n.jqplot.sprintf.apply(n.jqplot.sprintf,e);break;case"x":f=n.jqplot.sprintf.apply(n.jqplot.sprintf,[u.formatString,y]);break;case"y":e.unshift(u.formatString);f=n.jqplot.sprintf.apply(n.jqplot.sprintf,e);break;default:e.unshift(y);e.unshift(u.formatString);f=n.jqplot.sprintf.apply(n.jqplot.sprintf,e)}else switch(u.tooltipAxes){case"both":case"xy":for(f=y,o=0;o<e.length;o++)f+=u.tooltipSeparator+e[o];break;case"yx":for(f="",o=0;o<e.length;o++)f+=e[o]+u.tooltipSeparator;f+=y;break;case"x":f=y;break;case"y":for(f="",o=0;o<e.length;o++)f+=e[o]+u.tooltipSeparator;break;default:for(f=y,o=0;o<e.length;o++)f+=u.tooltipSeparator+e[o]}}else u.tooltipAxes=="both"||u.tooltipAxes=="xy"?f=n.jqplot.sprintf(u.tooltipFormatString,r.data[0])+u.tooltipSeparator+n.jqplot.sprintf(u.tooltipFormatString,r.data[1]):u.tooltipAxes=="yx"?f=n.jqplot.sprintf(u.tooltipFormatString,r.data[1])+u.tooltipSeparator+n.jqplot.sprintf(u.tooltipFormatString,r.data[0]):u.tooltipAxes=="x"?f=n.jqplot.sprintf(u.tooltipFormatString,r.data[0]):u.tooltipAxes=="y"&&(f=n.jqplot.sprintf(u.tooltipFormatString,r.data[1]));h.html(f);var s={x:r.gridData[0],y:r.gridData[1]},c=0,l=.707;i.markerRenderer.show==!0&&(c=(i.markerRenderer.size+u.sizeAdjust)/2);switch(u.tooltipLocation){case"nw":a=s.x+t._gridPadding.left-h.outerWidth(!0)-u.tooltipOffset-l*c;v=s.y+t._gridPadding.top-u.tooltipOffset-h.outerHeight(!0)-l*c;break;case"n":a=s.x+t._gridPadding.left-h.outerWidth(!0)/2;v=s.y+t._gridPadding.top-u.tooltipOffset-h.outerHeight(!0)-c;break;case"ne":a=s.x+t._gridPadding.left+u.tooltipOffset+l*c;v=s.y+t._gridPadding.top-u.tooltipOffset-h.outerHeight(!0)-l*c;break;case"e":a=s.x+t._gridPadding.left+u.tooltipOffset+c;v=s.y+t._gridPadding.top-h.outerHeight(!0)/2;break;case"se":a=s.x+t._gridPadding.left+u.tooltipOffset+l*c;v=s.y+t._gridPadding.top+u.tooltipOffset+l*c;break;case"s":a=s.x+t._gridPadding.left-h.outerWidth(!0)/2;v=s.y+t._gridPadding.top+u.tooltipOffset+c;break;case"sw":a=s.x+t._gridPadding.left-h.outerWidth(!0)-u.tooltipOffset-l*c;v=s.y+t._gridPadding.top+u.tooltipOffset+l*c;break;case"w":a=s.x+t._gridPadding.left-h.outerWidth(!0)-u.tooltipOffset-c;v=s.y+t._gridPadding.top-h.outerHeight(!0)/2;break;default:a=s.x+t._gridPadding.left-h.outerWidth(!0)-u.tooltipOffset-l*c;v=s.y+t._gridPadding.top-u.tooltipOffset-h.outerHeight(!0)-l*c}h.css("left",a);h.css("top",v);u.fadeTooltip?h.stop(!0,!0).fadeIn(u.tooltipFadeSpeed):h.show()}function r(n,r,u,f,e){var o=e.plugins.highlighter,h=e.plugins.cursor,s;o.show&&(f==null&&o.isHighlighting&&(s=o.highlightCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),o.fadeTooltip?o._tooltipElem.fadeOut(o.tooltipFadeSpeed):o._tooltipElem.hide(),o.bringSeriesToFront&&e.restorePreviousSeriesOrder(),o.isHighlighting=!1),f!=null&&e.series[f.seriesIndex].showHighlight&&!o.isHighlighting&&(o.isHighlighting=!0,o.showMarker&&t(e,f),!o.showTooltip||h&&h._zoom.started||i(e,e.series[f.seriesIndex],f),o.bringSeriesToFront&&e.moveSeriesToFront(f.seriesIndex)))}n.jqplot.eventListenerHooks.push(["jqplotMouseMove",r]);n.jqplot.Highlighter=function(t){this.show=n.jqplot.config.enablePlugins;this.markerRenderer=new n.jqplot.MarkerRenderer({shadow:!1});this.showMarker=!0;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=!0;this.tooltipLocation="nw";this.fadeTooltip=!0;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.useAxesFormatters=!0;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=!1;this._tooltipElem;this.isHighlighting=!1;n.extend(!0,this,t)};n.jqplot.Highlighter.init=function(t,i,r){var u=r||{};this.plugins.highlighter=new n.jqplot.Highlighter(u.highlighter)};n.jqplot.Highlighter.parseOptions=function(){this.showHighlight=!0};n.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter.highlightCanvas=new n.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions));var i=this.plugins.highlighter.highlightCanvas.setContext(),t=this.plugins.highlighter;t._tooltipElem=n('<div class="jqplot-highlighter-tooltip" style="position:absolute;display:none"><\/div>');this.eventCanvas._elem.before(t._tooltipElem)};n.jqplot.preInitHooks.push(n.jqplot.Highlighter.init);n.jqplot.preParseSeriesOptionsHooks.push(n.jqplot.Highlighter.parseOptions);n.jqplot.postDrawHooks.push(n.jqplot.Highlighter.postPlotDraw)})(jQuery);