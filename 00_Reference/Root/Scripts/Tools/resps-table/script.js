var delayedAdjust=[],responsiveTableIndex=0,ResponsiveTable=function(){function n(n){this.index=responsiveTableIndex++;this.el=n;this.compression=$(this.el).data("compression")||5;this.minFontSize=$(this.el).data("min")||10;this.maxFontSize=$(this.el).data("max")||Number.POSITIVE_INFINITY;this.width=$(this.el).data("width")||"100%";this.height=$(this.el).data("height")||"auto";this.adjustParents=$(this.el).data("adjust-parents")||!0;this.styled=$(this.el).data("styled")||!0;this.columns=$("tbody tr",$(this.el)).first().find("th, td").length;this.rows=$("tbody tr",$(this.el)).length;this.init()}return n.prototype.init=function(){return this.setupTable(),this.adjustOnLoad(),this.adjustOnResize()},n.prototype.fontSize=function(){var n;return n=this.height==="auto"?$("tbody td",$(this.el)).first().width()/this.compression:$(this.el).height()/this.rows/this.compression,Math.min(this.maxFontSize,Math.max(n,this.minFontSize))},n.prototype.setupTable=function(){return $(this.el).css("width",this.width),this.height!=="auto"&&$(this.el).css("height",this.height),$("th, td",$(this.el)).css("width",100/this.columns+"%"),this.styled&&$(this.el).addClass("responsiveTable"),this.height!=="auto"&&($("th, td",$(this.el)).css("height",100/this.rows+"%"),this.adjustParents&&$(this.el).parents().each(function(){return $(this).css("height","100%")})),$(this.el).css("font-size",this.fontSize())},n.prototype.resizeTable=function(){return $(this.el).css("font-size",this.minFontSize).css("font-size",this.fontSize())},n.prototype.adjustOnLoad=function(){var n=this;return $(window).on("load",function(){return n.resizeTable()})},n.prototype.adjustOnResize=function(){var n=this;return $(window).on("resize",function(){return clearTimeout(delayedAdjust[n.index]),delayedAdjust[n.index]=setTimeout(function(){return n.resizeTable()},20)})},n}();(function(n){var t=[];return n.fn.responsiveTables=function(){return this.each(function(){return t.push(new ResponsiveTable(this))})}})(jQuery),function(n){n.fn.flowtype=function(t){var i=n.extend({maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:35},t),r=function(t){var f=n(t),r=f.width(),e=r>i.maximum?i.maximum:r<i.minimum?i.minimum:r,u=e/i.fontRatio,o=u>i.maxFont?i.maxFont:u<i.minFont?i.minFont:u;f.css("font-size",o+"px")};return this.each(function(){var t=this;n(window).resize(function(){r(t)});r(this)})}}(jQuery);